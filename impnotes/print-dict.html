<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>22.7. The Printer Dictionary
   [CLHS-22.4]</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@sf.net" /><meta name="generator" content="DocBook XSL Stylesheets V2005-07-12_04:47_snapshot" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP." /><link rel="up" href="printer.html" title="Chapter 22. Printer&#10;   [CLHS-22]" /><link rel="prev" href="print-formatted.html" title="22.6. Formatted Output&#10;  [CLHS-22.3]" /><link rel="next" href="reader.html" title="Chapter 23. Reader&#10;   [CLHS-23]" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.7. The Printer Dictionary
   [CLHS-22.4]</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="print-formatted.html">Prev</a> </td><th width="60%" align="center">Chapter 22. Printer
   [CLHS-22]</th><td width="20%" align="right"> <a accesskey="n" href="reader.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="print-dict"></a>22.7. The Printer Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_printer_dictionary.html" target="_top">[CLHS-22.4]</a></h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="print-dict.html#print-unreadable-object">22.7.1. Macro <code class="function">PRINT-UNREADABLE-OBJECT</code></a></span></dt><dt><span class="section"><a href="print-dict.html#pathprint">22.7.2. Pathnames</a></span></dt><dt><span class="section"><a href="print-dict.html#spacecharprint">22.7.3. Characters</a></span></dt><dt><span class="section"><a href="print-dict.html#print-misc">22.7.4. Miscellaneous Issues</a></span></dt></dl></div><p><b>Functions <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><code class="function">WRITE</code></a> &amp; <a href="http://www.lisp.org/HyperSpec/Body/fun_write-to-_nc-to-string.html" target="_top"><code class="function">WRITE-TO-STRING</code></a>. </b>The functions <a href="http://www.lisp.org/HyperSpec/Body/fun_writecm_p_rintcm_princ.html" target="_top"><code class="function">WRITE</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_write-to-_nc-to-string.html" target="_top"><code class="function">WRITE-TO-STRING</code></a> have an additional
 keyword argument <code class="constant">:CLOSURE</code> which is used to bind
 <a href="multi-rep.html#pr-closure"><code class="varname">CUSTOM:*PRINT-CLOSURE*</code></a>.</p>
<!--//Commented out from the source code. <section id="print-object"><title>Generic Function &print-object;</title> <para>The function &print-object; verifies the &ansi-cl; requirement that its return value is the same as its first argument. It issues a warning if one of the &print-object; methods yields a wrong return value. To get rid of such a warning, you need to fix the source code of the incriminated method.</para> </section>-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="print-unreadable-object"></a>22.7.1. Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_print-unr_dable-object.html" target="_top"><code class="function">PRINT-UNREADABLE-OBJECT</code></a></h3></div></div></div><p><a id="pr-unreadable-ansi"></a><b>Variable <a href="print-dict.html#pr-unreadable-ansi"><code class="varname">CUSTOM:*PRINT-UNREADABLE-ANSI*</code></a>. </b>The macro <a href="http://www.lisp.org/HyperSpec/Body/mac_print-unr_dable-object.html" target="_top"><code class="function">PRINT-UNREADABLE-OBJECT</code></a>, when invoked without body forms,
 suppresses the trailing space if only the type is to be printed, and
 suppresses the leading space if only the identity is to be printed.  This
 behaviour can be turned off set setting the variable <a href="print-dict.html#pr-unreadable-ansi"><code class="varname">CUSTOM:*PRINT-UNREADABLE-ANSI*</code></a>
 to a non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> value: in this case, a trailing or leading space are output,
 as prescribed by [<span class="citation"><a href="references.html#ansi-cl">ANSI CL standard</a></span>].</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="pathprint"></a>22.7.2. Pathnames</h3></div></div></div><p>Pathnames are printed as follows: If <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-escapest.html" target="_top"><code class="varname">*PRINT-ESCAPE*</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>,
 only the namestring is printed; otherwise it is printed with the
 <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-14" target="_top"><span class="data"><code class="literal">#P</code></span></a> syntax, as per the [<span class="citation"><a href="references.html#ansi-cl">ANSI CL standard</a></span>] issue <a href="http://www.lisp.org/HyperSpec/Issues/iss276.html" target="_top">PRINT-READABLY-BEHAVIOR:CLARIFY</a>.
 But, if <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><code class="varname">*PRINT-READABLY*</code></a> is true, we are in trouble as <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-14" target="_top"><span class="data"><code class="literal">#P</code></span></a> is
 ambiguous (which is verboten when <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><code class="varname">*PRINT-READABLY*</code></a> is true), while
 being mandated by the [<span class="citation"><a href="references.html#ansi-cl">ANSI CL standard</a></span>].
 Therefore, in this case, <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>'s behavior is determined by the value
 of <a href="print-dict.html#pathprint" title="22.7.2. Pathnames"><code class="varname">CUSTOM:*PRINT-PATHNAMES-ANSI*</code></a>: when it is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, we print pathnames like this:
<code class="computeroutput"><a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-18" target="_top"><span class="data"><code class="literal">#-</code></span></a>CLISP <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-14" target="_top"><span class="data"><code class="literal">#P</code></span></a>"..."
<a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-17" target="_top"><span class="data"><code class="literal">#+</code></span></a>CLISP <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-13" target="_top"><span class="data"><code class="literal">#S</code></span></a>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><code class="classname">PATHNAME</code></a> ...)</code>.
 Otherwise, when the variable <a href="print-dict.html#pathprint" title="22.7.2. Pathnames"><code class="varname">CUSTOM:*PRINT-PATHNAMES-ANSI*</code></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, the
 <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-14" target="_top"><span class="data"><code class="literal">#P</code></span></a> notation is used as per <a href="http://www.lisp.org/HyperSpec/Body/sec_1-5-1-4-1.html" target="_top">1.5.1.4.1 Resolution of Apparent
 Conflicts in Exceptional Situations</a>.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>When both <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><code class="varname">*PRINT-READABLY*</code></a> and <a href="print-dict.html#pathprint" title="22.7.2. Pathnames"><code class="varname">CUSTOM:*PRINT-PATHNAMES-ANSI*</code></a> are
  non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> and the namestring will be parsed to a dissimilar object
  (with the current value of <a href="path-components.html#name-type-split"><code class="varname">CUSTOM:*PARSE-NAMESTRING-DOT-FILE*</code></a>), an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> of type
  <a href="http://www.lisp.org/HyperSpec/Body/contyp_print-not-readable.html" target="_top"><code class="classname">PRINT-NOT-READABLE</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="spacecharprint"></a>22.7.3. Characters</h3></div></div></div><p>Characters are printed as specified in [<span class="citation"><a href="references.html#ansi-cl">ANSI CL standard</a></span>] using
 <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-1" target="_top"><span class="data"><code class="literal">#\</code></span></a>, with one exception: when <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#printer_escaping" target="_top">printer escaping</a> is in effect,
 the space character is printed as
 “<span class="quote"><code class="computeroutput">#\Space</code></span>” when the
 variable <a href="print-dict.html#spacecharprint" title="22.7.3. Characters"><code class="varname">CUSTOM:*PRINT-SPACE-CHAR-ANSI*</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
 When <a href="print-dict.html#spacecharprint" title="22.7.3. Characters"><code class="varname">CUSTOM:*PRINT-SPACE-CHAR-ANSI*</code></a> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, it is printed as
 “<span class="quote"><code class="computeroutput">#\ </code></span>”; this is how
 <a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-2.html" target="_top">22.1.3.2 Printing Characters</a>
 specifies it.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="print-misc"></a>22.7.4. Miscellaneous Issues</h3></div></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-casest.html" target="_top"><code class="varname">*PRINT-CASE*</code></a> controls the output not only of symbols, but also
 of characters and some unreadable <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-20" target="_top"><span class="data"><code class="literal">#&lt;</code></span></a> objects.</p><p>In the absence of
 <strong class="first"><em class="firstterm"><a href="http://www.lisp.org/HyperSpec/Body/sec_22-1-3-1-3.html" target="_top"><code class="function">SYS::WRITE-FLOAT-DECIMAL</code></a>
  <a id="write-float-decimal" class="indexterm"></a></em></strong>,
 floating point numbers are output in radix 2.  This function is defined
 in <a href="src-files.html#floatprint-lisp"><code class="filename">floatprint.lisp</code></a> and is not available if you run
 <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> without a <a href="image.html" class="olink">memory image</a> (which you should never do anyway!)</p><p>If <a href="http://www.lisp.org/HyperSpec/Body/var_stprint-readablyst.html" target="_top"><code class="varname">*PRINT-READABLY*</code></a> is true, <a href="http://www.lisp.org/HyperSpec/Body/var_stread-de_oat-formatst.html" target="_top"><code class="varname">*READ-DEFAULT-FLOAT-FORMAT*</code></a>
 has no influence on the way floating point numbers are printed.</p><div class="variablelist"><dl><dt><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a>, <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> platforms only.</span></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-prettyst.html" target="_top"><code class="varname">*PRINT-PRETTY*</code></a> is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> but set to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>
 in <a href="src-files.html#config-lisp"><code class="filename">config.lisp</code></a>.  This makes screen output prettier.
 </dd></dl></div><p><a href="http://www.lisp.org/HyperSpec/Body/var_stprint-arrayst.html" target="_top"><code class="varname">*PRINT-ARRAY*</code></a> is initially set to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>.</p></div></div><div class="bookinfo"><hr width="100%" /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version 2.34.</td><td align="right">Last modified: 2005-07-20</td></th></table></div><div class="custom-footer"><hr width="100%" /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://www.gnu.org"><img src="http://www.gnu.org/graphics/gnubanner.jpg" width="468" height="60" alt="[Come and see what GNU creates for YOU]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=print-dict" /></a></td></tr></table></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="print-formatted.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="printer.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="reader.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">22.6. Formatted Output
  [CLHS-22.3] </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 23. Reader
   [CLHS-23]</td></tr></table></div></body></html>
