<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>32.4. Berkeley DB access.</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@sf.net" /><meta name="generator" content="DocBook XSL Stylesheets V1.68.1" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP" /><link rel="up" href="ext-modules.html" title="Chapter 32. Extensions Implemented as Modules" /><link rel="prev" href="dir-key.html" title="32.3. Directory Access" /><link rel="next" href="regexp-mod.html" title="32.5. POSIX Regular Expressions" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">32.4. Berkeley DB access.</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dir-key.html">Prev</a> </td><th width="60%" align="center">Chapter 32. Extensions Implemented as Modules</th><td width="20%" align="right"> <a accesskey="n" href="regexp-mod.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="berkeley-db"></a>32.4. Berkeley DB access.</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="berkeley-db.html#bdb-objects">32.4.1. Berkeley-DB Objects</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-close">32.4.2. Closing handles</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-db-environment">32.4.3. Database Environment</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-environment-config">32.4.4. Environment Configuration</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-operations">32.4.5. Database Operations</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-db-config">32.4.6. Database Configuration</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-cursor">32.4.7. Database Cursor Operations</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-lock">32.4.8. Lock Subsystem</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-log">32.4.9. Log Subsystem</a></span></dt><dd><dl><dt><span class="section"><a href="berkeley-db.html#bdb-log-cursor">32.4.9.1. Log Cursor Operations</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-log-seq">32.4.9.2. Log Sequence Numbers</a></span></dt></dl></dd><dt><span class="section"><a href="berkeley-db.html#bdb-mem-pool">32.4.10. Memory Pool Subsystem</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-replication">32.4.11. Replication</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-sequences">32.4.12. Sequences</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-transaction">32.4.13. Transaction Subsystem</a></span></dt></dl></div><p>This interface to <a class="bdb" href="http://www.sleepycat.com/docs/index.html">Berkeley DB
  from Sleepycat Software</a> exports most
 functions in the official <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><span><strong class="command">C</strong></span></a> API.
 Supported versions:</p><table class="simplelist" border="0" summary="Simple list"><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/ref/upgrade.4.2/toc.html">4.2</a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/ref/upgrade.4.3/toc.html">4.3</a></td></tr></table><p>When this module is present, <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><code class="varname">*FEATURES*</code></a> contains the
 symbol <code class="constant">:BERKELEY-DB</code>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-objects"></a>32.4.1. Berkeley-DB Objects</h3></div></div></div><p>Thie module exports the following opaque <a href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><code class="classname">STRUCTURE-OBJECT</code></a> types:
 </p><div class="variablelist"><dl><dt><span class="type">BDB:DBE</span></dt><dd>environment handle</dd><dt><span class="type">BDB:DB</span></dt><dd>database handle</dd><dt><span class="type">BDB:DBC</span></dt><dd>cursor handle</dd><dt><span class="type">BDB:TXN</span></dt><dd>transaction handle</dd><dt><span class="type">BDB:LOGC</span></dt><dd>log cursor handle</dd><dt><span class="type">BDB:MPOOLFILE</span></dt><dd>memory pool file handle</dd><dt><span class="type">BDB:DBLOCK</span></dt><dd>lock handle</dd></dl></div><p>
 They contain the internal handle (a <a href="dffi.html#fptr"><code class="classname">FFI:FOREIGN-POINTER</code></a>), the <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a>
 of parents, and the <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of dependents.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-close"></a>32.4.2. Closing handles</h3></div></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><code class="function">CLOSE</code></a> will close (or commit, in the case of a
 <a href="berkeley-db.html#bdb-transaction" title="32.4.13. Transaction Subsystem">transaction</a>, or
 put, in the case of a <a href="berkeley-db.html#bdb-lock" title="32.4.8. Lock Subsystem">lock</a>)
 the Berkeley-DB handle objects.  <a href="gc.html" title="Chapter 34. Overview of CLISP's Garbage Collection">garbage-collect</a>or will also call <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><code class="function">CLOSE</code></a>.
 Closing an object will <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><code class="function">CLOSE</code></a> all its dependents and remove the object
 itself from the dependents lists of its parents (but see
 <a href="berkeley-db.html#bdb-lock" title="32.4.8. Lock Subsystem"><code class="function">BDB:LOCK-CLOSE</code></a>).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-db-environment"></a>32.4.3. Database Environment</h3></div></div></div><div class="variablelist"><dl><dt><code class="code">(BDB:DB-VERSION <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a>
    subsystems-too)</code></dt><dd><p>Return version information as multiple values:</p><div class="orderedlist"><ol type="1"><li>descriptive <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>
       (from <a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_version.html"><code class="function">db_version</code></a>)</li><li>major version number (<a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><code class="classname">FIXNUM</code></a>)</li><li>minor version number (<a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><code class="classname">FIXNUM</code></a>)</li><li>patch number (<a href="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html" target="_top"><code class="classname">FIXNUM</code></a>)</li></ol></div><p>When the optional argument is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, returns the
    <a href="http://www.lisp.org/HyperSpec/Body/glo_a.html#association_list" target="_top">alist</a> of the subsystem versions as the 5th value.
 </p></dd><dt><a id="dbe-create"></a><code class="code">(BDB:DBE-CREATE <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    PASSWORD ENCRYPT HOST CLIENT-TIMEOUT SERVER-TIMEOUT)</code></dt><dd>Create an environment handle
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_class.html"><code class="function">db_env_create</code></a>),
    possibly connecting to a remote host
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_rpc_server.html"><code class="function">DB_ENV-&gt;set_rpc_server</code></a>)
    and possibly using encryption with password
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_encrypt.html"><code class="function">DB_ENV-&gt;set_encrypt</code></a>).
 </dd><dt><code class="code">(BDB:DBE-CLOSE dbe)</code></dt><dd>Close an environment
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_close.html"><code class="function">DB_ENV-&gt;close</code></a>).
    You can also call <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><code class="function">CLOSE</code></a>.</dd><dt><code class="code">(BDB:DBE-MESSAGES dbe)</code></dt><dd>Return the verbose messages accumulated so far
    (requires Berkeley-DB 4.3 or better).</dd><dt><code class="code">(BDB:DBREMOVE dbe file
    database <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> TRANSACTION AUTO-COMMIT)</code></dt><dd>Remove a database
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_dbremove.html"><code class="function">DB_ENV-&gt;dbremove</code></a>).
 </dd><dt><code class="code">(BDB:DBREMOVE dbe file
    database newname <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> TRANSACTION AUTO-COMMIT)</code></dt><dd>Rename a database
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_dbrename.html"><code class="function">DB_ENV-&gt;dbrename</code></a>).
 </dd><dt><a id="dbe-open"></a><code class="code">(BDB:DBE-OPEN dbe <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    FLAGS HOME JOIN INIT-CDB INIT-LOCK INIT-LOG INIT-MPOOL INIT-TXN
    RECOVER RECOVER-FATAL USE-ENVIRON USE-ENVIRON-ROOT CREATE
    LOCKDOWN PRIVATE SYSTEM-MEM THREAD MODE)</code></dt><dd>Open an environment
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_open.html"><code class="function">DB_ENV-&gt;open</code></a>).
    <code class="constant">:FLAGS</code> may be the value of a previous call
    to <code class="code">(<a href="berkeley-db.html#dbe-get-options"><code class="function">BDB:DBE-GET-OPTIONS</code></a> dbe :OPEN)</code>.
 </dd><dt><code class="code">(BDB:DBE-REMOVE dbe <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    HOME FORCE USE-ENVIRON USE-ENVIRON-ROOT)</code></dt><dd>Destroy an environment
    (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_remove.html"><code class="function">DB_ENV-&gt;remove</code></a>).
 </dd><dt><a id="with-dbe"></a><code class="code">(BDB:WITH-DBE (var <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    <em class="replaceable"><code>create</code></em> <em class="replaceable"><code>options</code></em>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><code class="literal">&amp;BODY</code></a> body)</code></dt><dd>Create an environment, execute <em class="replaceable"><code>body</code></em>, close it.
    <em class="replaceable"><code>create</code></em> is a list of options to be passed to <a href="berkeley-db.html#dbe-create"><code class="function">BDB:DBE-CREATE</code></a>,
    <em class="replaceable"><code>options</code></em> is a list of options to be passed to <a href="berkeley-db.html#dbe-set-options"><code class="function">BDB:DBE-SET-OPTIONS</code></a>.
 </dd></dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-environment-config"></a>32.4.4. Environment Configuration</h3></div></div></div><div class="variablelist"><dl><dt><a id="dbe-set-options"></a><code class="code">(BDB:DBE-SET-OPTIONS dbe
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> MSGFILE ERRFILE ERRPFX PASSWORD ENCRYPT LOCK-TIMEOUT TXN-TIMEOUT
   SHM-KEY TAS-SPINS TX-TIMESTAMP TX-MAX DATA-DIR TMP-DIR LG-BSIZE LG-DIR
   LG-MAX LG-REGIONMAX LK-CONFLICTS LK-DETECT LK-MAX-LOCKERS LK-MAX-LOCKS
   LK-MAX-OBJECTS AUTO-COMMIT CDB-ALLDB DIRECT-DB DSYNC-LOG LOG-AUTOREMOVE
   LOG-INMEMORY DIRECT-LOG NOLOCKING NOMMAP NOPANIC OVERWRITE PANIC-ENVIRONMENT
   REGION-INIT TXN-NOSYNC TXN-WRITE-NOSYNC YIELDCPU VERB-CHKPOINT VERB-DEADLOCK
   VERB-RECOVERY VERB-REPLICATION VERB-WAITSFOR VERBOSE)</code></dt><dd><p>Set some environment options using </p><table class="simplelist" border="0" summary="Simple list"><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_flags.html"><code class="function">DB_ENV-&gt;set_flags</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_tas_spins.html"><code class="function">DB_ENV-&gt;set_tas_spins</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_errpfx.html"><code class="function">DB_ENV-&gt;set_errpfx</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lk_detect.html"><code class="function">DB_ENV-&gt;set_lk_detect</code></a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_verbose.html"><code class="function">DB_ENV-&gt;set_verbose</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_shm_key.html"><code class="function">DB_ENV-&gt;set_shm_key</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lg_bsize.html"><code class="function">DB_ENV-&gt;set_lg_bsize</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lk_max_lockers.html"><code class="function">DB_ENV-&gt;set_lk_max_lockers</code></a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_tmp_dir.html"><code class="function">DB_ENV-&gt;set_tmp_dir</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_timeout.html"><code class="function">DB_ENV-&gt;set_timeout</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lg_dir.html"><code class="function">DB_ENV-&gt;set_lg_dir</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lk_max_locks.html"><code class="function">DB_ENV-&gt;set_lk_max_locks</code></a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_data_dir.html"><code class="function">DB_ENV-&gt;set_data_dir</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_encrypt.html"><code class="function">DB_ENV-&gt;set_encrypt</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lg_max.html"><code class="function">DB_ENV-&gt;set_lg_max</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lk_max_objects.html"><code class="function">DB_ENV-&gt;set_lk_max_objects</code></a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_tx_max.html"><code class="function">DB_ENV-&gt;set_tx_max</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_errfile.html"><code class="function">DB_ENV-&gt;set_errfile</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lg_regionmax.html"><code class="function">DB_ENV-&gt;set_lg_regionmax</code></a></td><td> </td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_tx_timestamp.html"><code class="function">DB_ENV-&gt;set_tx_timestamp</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_msgfile.html"><code class="function">DB_ENV-&gt;set_msgfile</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_lk_conflicts.html"><code class="function">DB_ENV-&gt;set_lk_conflicts</code></a></td><td> </td></tr></table></dd><dt><a id="dbe-get-options"></a><code class="code">(BDB:DBE-GET-OPTIONS dbe
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></dt><dd><p>Retrieve some environment options.
   </p><div class="variablelist"><p class="title"><b>Values of <em class="replaceable"><code>what</code></em></b></p><dl><dt>missing<br /><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a></dt><dd>all options as a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a>
    </dd><dt><code class="constant">:TX-TIMESTAMP</code></dt><dd>Recover to the time specified by timestamp
       rather than to the most current possible date
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_tx_timestamp.html"><code class="function">DB_ENV-&gt;get_tx_timestamp</code></a>)
    </dd><dt><code class="constant">:TX-MAX</code></dt><dd>the number of active transactions
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_tx_max.html"><code class="function">DB_ENV-&gt;set_tx_max</code></a>)
    </dd><dt><code class="constant">:DATA-DIR</code></dt><dd>list of data directories
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_data_dir.html"><code class="function">DB_ENV-&gt;get_data_dir</code></a>)
    </dd><dt><code class="constant">:TMP-DIR</code></dt><dd>temporary directory
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_tmp_dir.html"><code class="function">DB_ENV-&gt;get_tmp_dir</code></a>).
       May be <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</dd><dt><code class="constant">:VERBOSE</code></dt><dd>the <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of verbosity settings
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_verbose.html"><code class="function">DB_ENV-&gt;get_verbose</code></a>).
    </dd><dt><code class="constant">:AUTO-COMMIT</code><br /><code class="constant">:CDB-ALLDB</code><br /><code class="constant">:DIRECT-DB</code><br /><code class="constant">:DSYNC-LOG</code><br /><code class="constant">:LOG-AUTOREMOVE</code><br /><code class="constant">:LOG-INMEMORY</code><br /><code class="constant">:DIRECT-LOG</code><br /><code class="constant">:NOLOCKING</code><br /><code class="constant">:NOMMAP</code><br /><code class="constant">:NOPANIC</code><br /><code class="constant">:OVERWRITE</code><br /><code class="constant">:PANIC-ENVIRONMENT</code><br /><code class="constant">:REGION-INIT</code><br /><code class="constant">:TXN-NOSYNC</code><br /><code class="constant">:TXN-WRITE-NOSYNC</code><br /><code class="constant">:YIELDCPU</code><br /><code class="constant">:VERB-CHKPOINT</code><br /><code class="constant">:VERB-DEADLOCK</code><br /><code class="constant">:VERB-RECOVERY</code><br /><code class="constant">:VERB-REPLICATION</code><br /><code class="constant">:VERB-WAITSFOR</code></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><code class="classname">BOOLEAN</code></a> indicator of whether this
       option is set or not
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_verbose.html"><code class="function">DB_ENV-&gt;get_verbose</code></a> and
       <a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_flags.html"><code class="function">DB_ENV-&gt;get_flags</code></a>).
    </dd><dt><code class="constant">:LG-BSIZE</code></dt><dd>log buffer size
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lg_bsize.html"><code class="function">DB_ENV-&gt;get_lg_bsize</code></a>).
    </dd><dt><code class="constant">:LG-DIR</code></dt><dd>logging directory
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lg_dir.html"><code class="function">DB_ENV-&gt;get_lg_dir</code></a>).
    </dd><dt><code class="constant">:LG-MAX</code></dt><dd>log file size
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lg_max.html"><code class="function">DB_ENV-&gt;get_lg_max</code></a>).
    </dd><dt><code class="constant">:LG-REGIONMAX</code></dt><dd>logging region size
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lg_regionmax.html"><code class="function">DB_ENV-&gt;get_lg_regionmax</code></a>).
    </dd><dt><code class="constant">:LK-CONFLICTS</code></dt><dd>lock conflicts matrix
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lk_conflicts.html"><code class="function">DB_ENV-&gt;get_lk_conflicts</code></a>).
    </dd><dt><code class="constant">:LK-DETECT</code></dt><dd>automatic deadlock detection
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lk_detect.html"><code class="function">DB_ENV-&gt;get_lk_detect</code></a>).
    </dd><dt><code class="constant">:LK-MAX-LOCKERS</code></dt><dd>maximum number of lockers
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lk_max_lockers.html"><code class="function">DB_ENV-&gt;get_lk_max_lockers</code></a>).
    </dd><dt><code class="constant">:LK-MAX-LOCKS</code></dt><dd>maximum number of locks
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lk_max_locks.html"><code class="function">DB_ENV-&gt;get_lk_max_locks</code></a>).
    </dd><dt><code class="constant">:LK-MAX-OBJECTS</code></dt><dd>maximum number of lock objects
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_lk_max_objects.html"><code class="function">DB_ENV-&gt;get_lk_max_objects</code></a>).
    </dd><dt><code class="constant">:TAS-SPINS</code></dt><dd>the number of test-and-set spins
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_tas_spins.html"><code class="function">DB_ENV-&gt;get_tas_spins</code></a>).
    </dd><dt><code class="constant">:SHM-KEY</code></dt><dd>base segment ID for shared memory regions
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_shm_key.html"><code class="function">DB_ENV-&gt;get_shm_key</code></a>).
    </dd><dt><code class="constant">:LOCK-TIMEOUT</code><br /><code class="constant">:TXN-TIMEOUT</code></dt><dd>timeout values for locks or transactions in the
       database environment
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_timeout.html"><code class="function">DB_ENV-&gt;get_timeout</code></a>).
    </dd><dt><code class="constant">:ENCRYPT</code></dt><dd>encryption flags
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_encrypt_flags.html"><code class="function">DB_ENV-&gt;get_encrypt_flags</code></a>).
    </dd><dt><code class="constant">:ERRFILE</code></dt><dd><a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165">file descriptor</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_errfile.html"><code class="function">DB_ENV-&gt;get_errfile</code></a>).
    </dd><dt><code class="constant">:MSGFILE</code></dt><dd><a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165">file descriptor</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_msgfile.html"><code class="function">DB_ENV-&gt;get_msgfile</code></a>).
    </dd><dt><code class="constant">:ERRPFX</code></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_errpfx.html"><code class="function">DB_ENV-&gt;get_errpfx</code></a>).
    </dd><dt><code class="constant">:DB-XIDDATASIZE</code></dt><dd>the <a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><code class="function">LENGTH</code></a> of the globally unique
       <span class="type"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><code class="classname">VECTOR</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><code class="classname">UNSIGNED-BYTE</code></a> 8))</code></span> which must be passed to
       <a class="bdb" href="http://www.sleepycat.com/docs/api_c/txn_prepare.html"><code class="function">DB_TXN-&gt;prepare</code></a>.
    </dd><dt><code class="constant">:HOME</code></dt><dd>the home directory when open
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_home.html"><code class="function">DB_ENV-&gt;get_home</code></a>).
    </dd><dt><code class="constant">:OPEN</code></dt><dd>the <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of flags passed to <a href="berkeley-db.html#dbe-open"><code class="function">BDB:DBE-OPEN</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_open_flags.html"><code class="function">DB_ENV-&gt;get_open_flags</code></a>).
    </dd></dl></div></dd></dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-operations"></a>32.4.5. Database Operations</h3></div></div></div>
<!--DB->associate Associate a secondary index DB->err Error message with error string DB->errx Error message-->
<div class="variablelist"><dl><dt><a id="db-create"></a><code class="code">(BDB:DB-CREATE dbe <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   XA)</code></dt><dd>Create a database handle
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_class.html"><code class="function">db_create</code></a>).
</dd><dt><code class="code">(BDB:DB-CLOSE db <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> NOSYNC)</code></dt><dd>Close a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_close.html"><code class="function">DB-&gt;close</code></a>).
   You can also call <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><code class="function">CLOSE</code></a>.</dd><dt><code class="code">(BDB:DB-DEL dbe key <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   TRANSACTION AUTO-COMMIT)</code></dt><dd>Delete items from a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_del.html"><code class="function">DB-&gt;del</code></a>).
</dd><dt><code class="code">(BDB:DB-FD db)</code></dt><dd>Return a file descriptor from a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_fd.html"><code class="function">DB-&gt;fd</code></a>).
</dd><dt><code class="code">(BDB:DB-GET db key <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> ACTION AUTO-COMMIT
   DEGREE-2 DIRTY-READ MULTIPLE RMW TRANSACTION (ERROR <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>))</code></dt><dd><p>Get items from a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get.html"><code class="function">DB-&gt;get</code></a>).
   If <code class="constant">:ERROR</code> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> and the record is not found, no <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed,
   instead <code class="constant">:NOTFOUND</code> is returned.
   <code class="constant">:ACTION</code> should be one of
   </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:CONSUME</code></td><td><code class="constant">:GET-BOTH</code></td></tr><tr><td><code class="constant">:CONSUME-WAIT</code></td><td><code class="constant">:SET-RECNO</code></td></tr></table><p>
</p></dd><dt><code class="code">(BDB:DB-PUT db key val
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> AUTO-COMMIT ACTION TRANSACTION)</code></dt><dd><p>Store items into a database
  (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_put.html"><code class="function">DB-&gt;put</code></a>).
  <code class="constant">:ACTION</code> should be one of
  </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:APPEND</code></td><td><code class="constant">:NODUPDATA</code></td><td><code class="constant">:NOOVERWRITE</code></td></tr></table><p>
</p></dd><dt><code class="code">(BDB:DB-STAT db <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> FAST-STAT
   TRANSACTION)</code></dt><dd>Return database statistics
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_byteswapped.html"><code class="function">DB-&gt;get_byteswapped</code></a>,
   <a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_type.html"><code class="function">DB-&gt;get_type</code></a>,
   <a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_stat.html"><code class="function">DB-&gt;stat</code></a>).
</dd><dt><a id="db-open"></a><code class="code">(BDB:DB-OPEN db file <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   DATABASE TYPE MODE FLAGS CREATE DIRTY-READ EXCL NOMMAP RDONLY
   THREAD TRUNCATE AUTO-COMMIT TRANSACTION)</code></dt><dd><p>Open a database (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_open.html"><code class="function">DB-&gt;open</code></a>).
   <code class="constant">:TYPE</code> should be one of
   </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:BTREE</code></td><td><code class="constant">:RECNO</code></td></tr><tr><td><code class="constant">:HASH</code></td><td><code class="constant">:UNKNOWN</code> (default)</td></tr><tr><td><code class="constant">:QUEUE</code></td><td> </td></tr></table><p>
   <code class="constant">:FLAGS</code> may be the value of a previous call
   to <code class="code">(<a href="berkeley-db.html#db-get-options"><code class="function">BDB:DB-GET-OPTIONS</code></a> db :OPEN)</code>
</p></dd><dt><code class="code">(BDB:DB-SYNC db)</code></dt><dd>Flush a database to stable storage
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_sync.html"><code class="function">DB-&gt;sync</code></a>).
</dd><dt><code class="code">(BDB:DB-TRUNCATE db <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   TRANSACTION AUTO-COMMIT)</code></dt><dd>Empty a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_truncate.html"><code class="function">DB-&gt;truncate</code></a>).
</dd><dt><code class="code">(BDB:DB-UPGRADE db file
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> DUPSORT)</code></dt><dd>Upgrade a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_upgrade.html"><code class="function">DB-&gt;upgrade</code></a>).
</dd><dt><code class="code">(BDB:DB-RENAME db file database newname)</code></dt><dd>Rename a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_rename.html"><code class="function">DB-&gt;rename</code></a>).
</dd><dt><code class="code">(BDB:DB-REMOVE db file database)</code></dt><dd>Remove a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_remove.html"><code class="function">DB-&gt;remove</code></a>).
</dd><dt><code class="code">(BDB:DB-JOIN db cursor-sequence
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> JOIN-NOSORT)</code></dt><dd>Create a specialized join cursor for use in
   performing equality or natural joins on secondary indices
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_join.html"><code class="function">DB-&gt;join</code></a>).
</dd><dt><code class="code">(BDB:DB-KEY-RANGE db key
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> TRANSACTION)</code></dt><dd>return an estimate of the proportion of keys that
   are less than, equal to, and greater than the specified key
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_key_range.html"><code class="function">DB-&gt;key_range</code></a>).
   The underlying database must be of type Btree.
</dd><dt><code class="code">(BDB:DB-VERIFY db file <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   DATABASE SALVAGE AGGRESSIVE PRINTABLE NOORDERCHK)</code></dt><dd>Verify/salvage a database
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_verify.html"><code class="function">DB-&gt;verify</code></a>).
   <code class="constant">:SALVAGE</code>, if supplied, should be the output
   file name.  <code class="constant">:DATABASE</code>, if supplied,
   will force <code class="constant">DB_ORDERCHKONLY</code>.
</dd><dt><a id="with-db"></a><code class="code">(BDB:WITH-DB (var dbe file
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <em class="replaceable"><code>create</code></em> <em class="replaceable"><code>options</code></em> <em class="replaceable"><code>open</code></em>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><code class="literal">&amp;BODY</code></a> body)</code></dt><dd>Open the database, execute <em class="replaceable"><code>body</code></em>, close it.
   <em class="replaceable"><code>create</code></em> is a list of options to be passed to <a href="berkeley-db.html#db-create"><code class="function">BDB:DB-CREATE</code></a>,
   <em class="replaceable"><code>options</code></em> is a list of options to be passed to <a href="berkeley-db.html#db-set-options"><code class="function">BDB:DB-SET-OPTIONS</code></a>,
   <em class="replaceable"><code>open</code></em> is a list of options to be passed to <a href="berkeley-db.html#db-open"><code class="function">BDB:DB-OPEN</code></a>.
</dd></dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-db-config"></a>32.4.6. Database Configuration</h3></div></div></div>
<!--DB->set_alloc Set local space allocation functions DB->set_dup_compare Set a duplicate comparison function DB->set_errcall Set error message callback DB->set_errpfx Set error message prefix DB->set_feedback Set feedback callback DB->set_paniccall Set panic callback DB->set_append_recno Set record append callback DB->set_bt_compare Set a Btree comparison function DB->set_bt_prefix Set a Btree prefix comparison function DB->set_h_hash Set a hashing function-->
<div class="variablelist"><dl><dt><a id="db-set-options"></a><code class="code">(BDB:DB-SET-OPTIONS db
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> ERRFILE MSGFILE ERRPFX PASSWORD ENCRYPTION NCACHE CACHESIZE CACHE
   LORDER PAGESIZE BT-MINKEY H-FFACTOR H-NELEM Q-EXTENTSIZE
   RE-DELIM RE-LEN RE-PAD RE-SOURCE
   CHKSUM ENCRYPT TXN-NOT-DURABLE DUP DUPSORT INORDER RECNUM REVSPLITOFF
   RENUMBER SNAPSHOT)</code></dt><dd><p>Set some database options using </p><table class="simplelist" border="0" summary="Simple list"><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_errfile.html"><code class="function">DB_ENV-&gt;set_errfile</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_cachesize.html"><code class="function">DB-&gt;set_cachesize</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_h_ffactor.html"><code class="function">DB-&gt;set_h_ffactor</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_re_len.html"><code class="function">DB-&gt;set_re_len</code></a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_msgfile.html"><code class="function">DB_ENV-&gt;set_msgfile</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_lorder.html"><code class="function">DB-&gt;set_lorder</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_h_nelem.html"><code class="function">DB-&gt;set_h_nelem</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_re_pad.html"><code class="function">DB-&gt;set_re_pad</code></a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_set_errpfx.html"><code class="function">DB_ENV-&gt;set_errpfx</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_pagesize.html"><code class="function">DB-&gt;set_pagesize</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_q_extentsize.html"><code class="function">DB-&gt;set_q_extentsize</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_re_source.html"><code class="function">DB-&gt;set_re_source</code></a></td></tr><tr><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_encrypt.html"><code class="function">DB-&gt;set_encrypt</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_bt_minkey.html"><code class="function">DB-&gt;set_bt_minkey</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_re_delim.html"><code class="function">DB-&gt;set_re_delim</code></a></td><td><a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_set_flags.html"><code class="function">DB-&gt;set_flags</code></a></td></tr></table></dd><dt><a id="db-get-options"></a><code class="code">(BDB:DB-GET-OPTIONS db
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></dt><dd><p>Retrieve some database options.
   </p><div class="variablelist"><p class="title"><b>Values of <em class="replaceable"><code>what</code></em></b></p><dl><dt>missing<br /><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a></dt><dd>all options as a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a>
    </dd><dt><code class="constant">:FLAGS</code></dt><dd>all flags
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_flags.html"><code class="function">DB_ENV-&gt;get_flags</code></a>).
    </dd><dt><code class="constant">:CHKSUM</code><br /><code class="constant">:ENCRYPT</code><br /><code class="constant">:TXN-NOT-DURABLE</code><br /><code class="constant">:DUP</code><br /><code class="constant">:DUPSORT</code><br /><code class="constant">:INORDER</code><br /><code class="constant">:RECNUM</code><br /><code class="constant">:REVSPLITOFF</code><br /><code class="constant">:RENUMBER</code><br /><code class="constant">:SNAPSHOT</code></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><code class="classname">BOOLEAN</code></a> indicator of whether this
       option is set or not
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_verbose.html"><code class="function">DB_ENV-&gt;get_verbose</code></a> and
       <a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_flags.html"><code class="function">DB_ENV-&gt;get_flags</code></a>).
    </dd><dt><code class="constant">:CACHE</code></dt><dd>database cache information
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_cachesize.html"><code class="function">DB-&gt;get_cachesize</code></a>).
    </dd><dt><code class="constant">:ENCRYPTION</code></dt><dd>encryption flags
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_encrypt_flags.html"><code class="function">DB_ENV-&gt;get_encrypt_flags</code></a>).
    </dd><dt><code class="constant">:ERRFILE</code></dt><dd><a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165">file descriptor</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_errfile.html"><code class="function">DB_ENV-&gt;get_errfile</code></a>).
    </dd><dt><code class="constant">:MSGFILE</code></dt><dd><a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165">file descriptor</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_msgfile.html"><code class="function">DB_ENV-&gt;get_msgfile</code></a>).
    </dd><dt><code class="constant">:ERRPFX</code></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_get_errpfx.html"><code class="function">DB_ENV-&gt;get_errpfx</code></a>).
    </dd><dt><code class="constant">:PAGESIZE</code></dt><dd>database page size
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_pagesize.html"><code class="function">DB-&gt;get_pagesize</code></a>).
    </dd><dt><code class="constant">:BT-MINKEY</code></dt><dd>the minimum number of key/data pairs intended to
       be stored on any single <code class="constant">:BTREE</code> leaf page
       underlying source file
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_bt_minkey.html"><code class="function">DB-&gt;get_bt_minkey</code></a>).
    </dd><dt><code class="constant">:H-FFACTOR</code></dt><dd>the desired density within
       the <code class="constant">:HASH</code> table
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_h_ffactor.html"><code class="function">DB-&gt;get_h_ffactor</code></a>).
    </dd><dt><code class="constant">:H-NELEM</code></dt><dd>an estimate of the final size of
       the <code class="constant">:HASH</code> table
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_h_nelem.html"><code class="function">DB-&gt;get_h_nelem</code></a>).
    </dd><dt><code class="constant">:Q-EXTENTSIZE</code></dt><dd>the size of the extents used to hold pages in
       a <code class="constant">:QUEUE</code> database
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_q_extentsize.html"><code class="function">DB-&gt;get_q_extentsize</code></a>).
    </dd><dt><code class="constant">:RE-DELIM</code></dt><dd>the record delimiter
       for <code class="constant">:RECNO</code> databases
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_re_delim.html"><code class="function">DB-&gt;get_re_delim</code></a>).
    </dd><dt><code class="constant">:RE-LEN</code></dt><dd>database record length
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_re_len.html"><code class="function">DB-&gt;get_re_len</code></a>).
    </dd><dt><code class="constant">:RE-PAD</code></dt><dd>database record pad byte
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_re_pad.html"><code class="function">DB-&gt;get_re_pad</code></a>).
    </dd><dt><code class="constant">:RE-SOURCE</code></dt><dd>the underlying source file
       for <code class="constant">:RECNO</code> databases
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_re_source.html"><code class="function">DB-&gt;get_re_source</code></a>).
    </dd><dt><code class="constant">:LORDER</code></dt><dd>database byte order
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_lorder.html"><code class="function">DB-&gt;get_lorder</code></a>).
    </dd><dt><code class="constant">:DBNAME</code></dt><dd>the file name and database name
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_dbname.html"><code class="function">DB-&gt;get_dbname</code></a>)
    </dd><dt><code class="constant">:TRANSACTIONAL</code></dt><dd>the indicator whether the database is transactional
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_transactional.html"><code class="function">DB-&gt;get_transactional</code></a>).
    </dd><dt><code class="constant">:OPEN</code></dt><dd>the flags passed to <a href="berkeley-db.html#db-open"><code class="function">BDB:DB-OPEN</code></a>
       (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_open_flags.html"><code class="function">DB-&gt;get_open_flags</code></a>).
    </dd></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Once you call a method for one type of access method,
    the handle can only be used for that type.
    The methods <a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_re_delim.html"><code class="function">DB-&gt;get_re_delim</code></a>
    and <a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_get_re_source.html"><code class="function">DB-&gt;get_re_source</code></a> are for
    a <code class="constant">:RECNO</code> database so
    you <span class="emphasis"><em>cannot</em></span> call them
    (by passing <code class="constant">:RE-DELIM</code>
    or <code class="constant">:RE-SOURCE</code> to this function)
    and then use the database handle to open a database of different type
    (e.g., <code class="constant">:QUEUE</code>).</p></div></dd></dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-cursor"></a>32.4.7. Database Cursor Operations</h3></div></div></div><div class="variablelist"><dl><dt><a id="make-dbc"></a><code class="code">(BDB:MAKE-DBC db <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   DEGREE-2 DIRTY-READ WRITECURSOR TRANSACTION)</code></dt><dd>Create a cursor handle
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/db_cursor.html"><code class="function">DB-&gt;cursor</code></a>).
</dd><dt><code class="code">(BDB:DBC-CLOSE cursor)</code></dt><dd>Close the cursor handle
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/dbc_close.html"><code class="function">DBCursor-&gt;close</code></a>).
   You can also call <a href="http://www.lisp.org/HyperSpec/Body/fun_close.html" target="_top"><code class="function">CLOSE</code></a>.</dd><dt><code class="code">(BDB:DBC-COUNT cursor)</code></dt><dd>Return count of duplicates
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/dbc_count.html"><code class="function">DBCursor-&gt;count</code></a>).
</dd><dt><code class="code">(BDB:DBC-DEL cursor)</code></dt><dd>Delete by cursor
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/dbc_del.html"><code class="function">DBCursor-&gt;del</code></a>).
</dd><dt><code class="code">(BDB:DBC-DUP cursor <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> POSITION)</code></dt><dd>Duplicate a cursor
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/dbc_dup.html"><code class="function">DBCursor-&gt;dup</code></a>).
</dd><dt><code class="code">(BDB:DBC-GET cursor key data action
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> DEGREE-2 DIRTY-READ MULTIPLE (ERROR <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>))</code></dt><dd><p>Retrieve by cursor
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/dbc_get.html"><code class="function">DBCursor-&gt;get</code></a>).
   If <code class="constant">:ERROR</code> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> and the record is not found, no <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed,
   <code class="constant">:NOTFOUND</code> or <code class="constant">:KEYEMPTY</code>
   is returned instead, as appropriate.
   <em class="replaceable"><code>action</code></em> should be one of
   </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:CURRENT</code></td><td><code class="constant">:GET-RECNO</code></td><td><code class="constant">:NEXT-DUP</code></td><td><code class="constant">:SET</code></td></tr><tr><td><code class="constant">:FIRST</code></td><td><code class="constant">:JOIN-ITEM</code></td><td><code class="constant">:NEXT-NODUP</code></td><td><code class="constant">:SET-RANGE</code></td></tr><tr><td><code class="constant">:GET-BOTH</code></td><td><code class="constant">:LAST</code></td><td><code class="constant">:PREV</code></td><td><code class="constant">:SET-RECNO</code></td></tr><tr><td><code class="constant">:GET-BOTH-RANGE</code></td><td><code class="constant">:NEXT</code></td><td><code class="constant">:PREV-NODUP</code></td><td> </td></tr></table><p>
</p></dd><dt><code class="code">(BDB:DBC-PUT cursor key data
   flag)</code></dt><dd>Store by cursor
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/dbc_put.html"><code class="function">DBCursor-&gt;put</code></a>).
</dd><dt><code class="code">(BDB:WITH-DBC (var <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
   <em class="replaceable"><code>options</code></em>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><code class="literal">&amp;BODY</code></a> <em class="replaceable"><code>body</code></em>))</code></dt><dd>Open a cursor, execute <em class="replaceable"><code>body</code></em>, close it.
   <em class="replaceable"><code>options</code></em> are passed to <a href="berkeley-db.html#make-dbc"><code class="function">BDB:MAKE-DBC</code></a>.
</dd></dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-lock"></a>32.4.8. Lock Subsystem</h3></div></div></div><div class="variablelist"><dl><dt><code class="code">(BDB:LOCK-DETECT dbe action)</code></dt><dd>Perform deadlock detection
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_lock_detect.html"><code class="function">DB_ENV-&gt;lock_detect</code></a>).
</dd><dt><code class="code">(BDB:LOCK-ID dbe)</code></dt><dd>Acquire a locker ID
  (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_lock_id.html"><code class="function">DB_ENV-&gt;lock_id</code></a>).
</dd><dt><code class="code">(BDB:LOCK-ID-FREE dbe id)</code></dt><dd>Release a locker ID
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_lock_id_free.html"><code class="function">DB_ENV-&gt;lock_id_free</code></a>).
   All associated locks should be released first.
</dd><dt><code class="code">(BDB:LOCK-GET dbe object locker
   mode <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> NOWAIT)</code></dt><dd>Acquire a lock
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_lock_get.html"><code class="function">DB_ENV-&gt;lock_get</code></a>).
   The <span class="type">BDB:DBLOCK</span> object returned by this function will
   <span class="strong"><strong>not</strong></span> be released when the environment is closed.
   This permits long-lived locks.</dd><dt><code class="code">(BDB:LOCK-PUT dbe lock)</code></dt><dd>Release a lock
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_lock_put.html"><code class="function">DB_ENV-&gt;lock_put</code></a>).
</dd><dt><code class="code">(BDB:LOCK-CLOSE lock)</code></dt><dd><p>Release a lock
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_lock_put.html"><code class="function">DB_ENV-&gt;lock_put</code></a>) using the
   environment with which it has been acquired.
   This is used to <a href="final.html" title="30.8. Finalization"><code class="function">EXT:FINALIZE</code></a> <span class="type">BDB:DBLOCK</span> objects.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>If that environment has already been closed, you are
    in big trouble (segfault), so you better release your locks or do not
    drop them.</p></div></dd><dt><code class="code">(BDB:LOCK-STAT dbe <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   STAT-CLEAR)</code></dt><dd>Return lock subsystem statistics
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_lock_stat.html"><code class="function">DB_ENV-&gt;lock_stat</code></a>).
</dd></dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-log"></a>32.4.9. Log Subsystem</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="berkeley-db.html#bdb-log-cursor">32.4.9.1. Log Cursor Operations</a></span></dt><dt><span class="section"><a href="berkeley-db.html#bdb-log-seq">32.4.9.2. Log Sequence Numbers</a></span></dt></dl></div><div class="variablelist"><dl><dt><code class="code">(BDB:LOG-ARCHIVE dbe
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> ARCH-ABS ARCH-DATA ARCH-LOG ARCH-REMOVE)</code></dt><dd>Return a list of log or database filenames
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_log_archive.html"><code class="function">DB_ENV-&gt;log_archive</code></a>).
</dd><dt><code class="code">(BDB:LOG-FILE dbe lsn)</code></dt><dd>Return the name of the file containing the record
   named by <em class="replaceable"><code>lsn</code></em>
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_log_file.html"><code class="function">DB_ENV-&gt;log_file</code></a>).
</dd><dt><code class="code">(BDB:LOG-FLUSH dbe lsn)</code></dt><dd>Flush log records to disk
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_log_flush.html"><code class="function">DB_ENV-&gt;log_flush</code></a>).
</dd><dt><code class="code">(BDB:LOG-PUT dbe data
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :FLUSH)</code></dt><dd>Write a log record
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_log_put.html"><code class="function">DB_ENV-&gt;log_put</code></a>).
</dd><dt><code class="code">(BDB:LOG-STAT dbe
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> STAT-CLEAR)</code></dt><dd>Logging subsystem statistics
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_log_stat.html"><code class="function">DB_ENV-&gt;log_stat</code></a>).
</dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="bdb-log-cursor"></a>32.4.9.1. Log Cursor Operations</h4></div></div></div><div class="variablelist"><dl><dt><code class="code">(BDB:LOG-CURSOR dbe)</code></dt><dd>Create a log cursor handle
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_log_cursor.html"><code class="function">DB_ENV-&gt;log_cursor</code></a>).
</dd><dt><code class="code">(BDB:LOGC-CLOSE logc)</code></dt><dd>Close a log cursor handle
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/logc_close.html"><code class="function">DB_LOGC-&gt;close</code></a>).
</dd><dt><code class="code">(BDB:LOGC-GET logc action
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> TYPE ERROR)</code></dt><dd><p>Retrieve a log record
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/logc_get.html"><code class="function">DB_LOGC-&gt;get</code></a>).
   If <code class="constant">:ERROR</code> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> and the record is not found, no <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed,
   <code class="constant">:NOTFOUND</code> is returned instead.
   </p><div class="variablelist"><p class="title"><b>Valid <em class="replaceable"><code>action</code></em>s</b></p><dl><dt><code class="constant">:CURRENT</code><br /><code class="constant">:FIRST</code><br /><code class="constant">:LAST</code><br /><code class="constant">:NEXT</code><br /><code class="constant">:PREV</code></dt><dd>Retrieve the appropriate record.
    </dd><dt><span class="type">DB:LSN</span></dt><dd>Retrieve the specified record, as
       with <code class="constant">DB_SET</code>.
   </dd></dl></div><p>
   Returns two values: the datum of type specified by the <code class="constant">:TYPE</code>
   argument and the <span class="type">DB:LSN</span> value of the record retrieved
   (when <em class="replaceable"><code>action</code></em> is a <span class="type">DB:LSN</span>, it
   is returned unchanged).
</p></dd></dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="bdb-log-seq"></a>32.4.9.2. Log Sequence Numbers</h4></div></div></div><p>Use <a href="http://www.lisp.org/HyperSpec/Body/fun_equalp.html" target="_top"><code class="function">EQUALP</code></a> to check similarity of <span class="type">BDB:LSN</span> objects.</p><div class="variablelist"><dl><dt><code class="code">(BDB:LOG-COMPARE lsn1 lsn2)</code></dt><dd>Compare two Log Sequence Numbers
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/log_compare.html"><code class="function">log_compare</code></a>).
</dd></dl></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-mem-pool"></a>32.4.10. Memory Pool Subsystem</h3></div></div></div><p>not implemented yet, patches are welcome</p>
<!--DB_ENV->set_cachesize Set the environment cache size DB_ENV->set_mp_mmapsize Set maximum mapped-in database file size DB_ENV->memp_register Register input/output functions for a file in a memory pool DB_ENV->memp_stat Return memory pool statistics DB_ENV->memp_sync Flush pages from a memory pool DB_ENV->memp_trickle Trickle flush pages from a memory pool Memory Pool Files DB_ENV->memp_fcreate Open a file in a memory pool DB_MPOOLFILE->close Close a file in a memory pool DB_MPOOLFILE->get Get page from a file in a memory pool DB_MPOOLFILE->open Open a file in a memory pool DB_MPOOLFILE->put Return a page to a memory pool DB_MPOOLFILE->set Set memory pool page status DB_MPOOLFILE->sync Flush pages from a file in a memory pool DB_MPOOLFILE->set_clear_len Set file page bytes to be cleared DB_MPOOLFILE->set_fileid Set file unique identifier DB_MPOOLFILE->set_ftype Set file type DB_MPOOLFILE->set_lsn_offset Set file log-sequence-number offset DB_MPOOLFILE->set_pgcookie Set file cookie for pgin/pgout-->
<!--variablelist> <varlistentry><term><code>()</code></term> <listitem><simpara></simpara></listitem></varlistentry> </variablelist-->
</div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-replication"></a>32.4.11. Replication</h3></div></div></div><p>not implemented yet, patches are welcome</p>
<!--DB_ENV->set_rep_transport Configure replication transport DB_ENV->rep_elect Hold a replication election DB_ENV->set_rep_limit Limit data sent in response to a single message DB_ENV->rep_process_message Process a replication message DB_ENV->rep_start Configure an environment for replication DB_ENV->rep_stat Replication statistics-->
<!--variablelist> <varlistentry><term><code>()</code></term> <listitem><simpara></simpara></listitem></varlistentry> </variablelist-->
</div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-sequences"></a>32.4.12. Sequences</h3></div></div></div><p>not implemented yet, patches are welcome</p>
<!--Sequences and Related Methods Description db_sequence_create Create a sequence handle DB_SEQUENCE->close Close a sequence DB_SEQUENCE->get Get the next sequence element(s) DB_SEQUENCE->get_dbp Return a handle for the underlying sequence database DB_SEQUENCE->get_key Return the key for a sequence DB_SEQUENCE->init_value Set the initial value of a sequence DB_SEQUENCE->open Open a sequence DB_SEQUENCE->remove Remove a sequence DB_SEQUENCE->stat Return sequence statistics Sequences Configuration DB_SEQUENCE->set_cachesize Set the cache size of a sequence DB_SEQUENCE->set_flags Set the flags for a sequence DB_SEQUENCE->set_range Set the range for a sequence-->
<!--variablelist> <varlistentry><term><code>()</code></term> <listitem><simpara></simpara></listitem></varlistentry> </variablelist-->
</div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="bdb-transaction"></a>32.4.13. Transaction Subsystem</h3></div></div></div><div class="variablelist"><dl><dt><code class="code">(BDB:TXN-BEGIN dbe <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   DEGREE-2 PARENT DIRTY-READ NOSYNC NOWAIT SYNC)</code></dt><dd>Begin a transaction
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_txn_begin.html"><code class="function">DB_ENV-&gt;txn_begin</code></a>).
</dd><dt><code class="code">(BDB:TXN-ABORT txn)</code></dt><dd>Abort a transaction
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/txn_abort.html"><code class="function">DB_TXN-&gt;abort</code></a>).
</dd><dt><code class="code">(BDB:TXN-COMMIT txn <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   NOSYNC SYNC)</code></dt><dd>Commit a transaction
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/txn_commit.html"><code class="function">DB_TXN-&gt;commit</code></a>).
</dd><dt><code class="code">(BDB:TXN-DISCARD txn)</code></dt><dd>Discard a transaction
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/txn_discard.html"><code class="function">DB_TXN-&gt;discard</code></a>).
</dd><dt><code class="code">(BDB:TXN-ID txn)</code></dt><dd>Return the transaction's ID
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/txn_id.html"><code class="function">DB_TXN-&gt;id</code></a>).
</dd><dt><code class="code">(BDB:TXN-CHECKPOINT dbe
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> KBYTE MIN FORCE)</code></dt><dd>Checkpoint the transaction subsystem
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_txn_checkpoint.html"><code class="function">DB_ENV-&gt;txn_checkpoint</code></a>).
</dd><dt><code class="code">(BDB:TXN-PREPARE txn id)</code></dt><dd>Initiate the beginning of a two-phase commit
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/txn_prepare.html"><code class="function">DB_TXN-&gt;prepare</code></a>).
</dd><dt><code class="code">(BDB:TXN-RECOVER dbe <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   FIRST NEXT)</code></dt><dd>Return a list of prepared but not yet resolved
   transactions (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_txn_recover.html"><code class="function">DB_ENV-&gt;txn_recover</code></a>).
</dd><dt><code class="code">(BDB:TXN-SET-TIMEOUT txn
   timeout which)</code></dt><dd>Set timeout values for locks or transactions for the
   specified transaction
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/txn_set_timeout.html"><code class="function">DB_TXN-&gt;set_timeout</code></a>).
</dd><dt><code class="code">(BDB:TXN-STAT dbe <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   STAT-CLEAR)</code></dt><dd>Transaction subsystem statistics
   (<a class="bdb" href="http://www.sleepycat.com/docs/api_c/env_txn_stat.html"><code class="function">DB_ENV-&gt;txn_stat</code></a>).
</dd></dl></div></div></div><div class="bookinfo"><hr width="100%" /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version 2.35</td><td align="right">Last modified: 2005-08-29</td></th></table></div><div class="custom-footer"><hr width="100%" /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://www.gnu.org"><img src="http://www.gnu.org/graphics/gnubanner.jpg" width="468" height="60" alt="[Come and see what GNU creates for YOU]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=berkeley-db" /></a></td></tr></table></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dir-key.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ext-modules.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="regexp-mod.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">32.3. Directory Access </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 32.5. POSIX Regular Expressions</td></tr></table></div></body></html>
