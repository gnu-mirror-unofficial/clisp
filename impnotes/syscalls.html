<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>32.11. System Calls</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@lists.sourceforge.net" /><meta name="generator" content="DocBook XSL Stylesheets V2005-10-07_10:16_snapshot" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP" /><link rel="up" href="ext-modules.html" title="Chapter 32. Extensions Implemented as Modules" /><link rel="prev" href="readline-mod.html" title="32.10. Advanced Readline and History Functionality." /><link rel="next" href="oracle.html" title="32.12. Oracle Interface" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">32.11. System Calls</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="readline-mod.html">Prev</a> </td><th width="60%" align="center">Chapter 32. Extensions Implemented as Modules</th><td width="20%" align="right"> <a accesskey="n" href="oracle.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="syscalls"></a>32.11. System Calls</h2></div></div></div><p>The <a href="syscalls.html" title="32.11. System Calls"><strong class="package">“<span class="quote">POSIX</span>”</strong></a> module makes some system calls available from lisp.
 Not all of these system calls are actually POSIX, so this package has a
 nickname <strong class="package">“<span class="quote">OS</span>”</strong>.</p><p>This module is present even in the <a href="modules.html#base-modules" class="olink"><span><strong class="command">base</strong></span></a> <a href="modules.html#linkset" class="olink">linking set</a> by default.</p><p>When this module is present, <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><code class="varname">*FEATURES*</code></a>
 contains the symbol <code class="constant">:SYSCALLS</code>.</p><div class="variablelist"><dl><dt><a id="resolve-host"></a><span class="term"><code class="code">(<a href="syscalls.html#resolve-host"><code class="function">POSIX:RESOLVE-HOST-IPADDR</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>host</code></em>)</code></span></dt><dd><p>Returns the <span class="type">HOSTENT</span> structure:
   </p><div class="variablelist"><dl><dt><span class="term"><em class="structfield"><code>name</code></em></span></dt><dd>host name</dd><dt><span class="term"><em class="structfield"><code>aliases</code></em></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of aliases</dd><dt><span class="term"><em class="structfield"><code>addr-list</code></em></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of IP addresses as dotted quads (for IPv4) or
       coloned octets (for IPv6)</dd><dt><span class="term"><em class="structfield"><code>addrtype</code></em></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a> address type (IPv4 or IPv6)
   </dd></dl></div><p>
   When <em class="replaceable"><code>host</code></em> is omitted or <code class="constant">:DEFAULT</code>, return the data for the
   current host. When <em class="replaceable"><code>host</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, all the
   host database is returned as a list (this would be the contents of the
   <code class="filename">/etc/hosts</code> file on a <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> system or
   <code class="filename">${windir}/system32/etc/hosts</code> on a <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> system).
  </p><p>This is an interface
   to <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/gethostent.html"><code class="function">gethostent</code></a>,
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/gethostbyname.html"><code class="function">gethostbyname</code></a>,
   and <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/gethostbyaddr.html"><code class="function">gethostbyaddr</code></a>.
 </p></dd><dt><a id="service"></a><span class="term"><code class="code">(<code class="function">OS:SERVICE</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>service-name</code></em>
    <em class="replaceable"><code>protocol</code></em>)</code></span></dt><dd>A convenience function for looking up a port given
   the service name, such as “<span class="quote">WWW</span>” or “<span class="quote">FTP</span>”.
   It returns the <span class="type">SERVICE</span> structure
   (name, list of aliases, port, protocol) for the given
   <em class="replaceable"><code>service-name</code></em> and <em class="replaceable"><code>protocol</code></em>,
   or all services as a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> if <em class="replaceable"><code>service-name</code></em>
   is missing or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</dd><dt><a id="file-stat"></a><span class="term"><code class="code">(<code class="function">POSIX:FILE-STAT</code>
    <em class="replaceable"><code>pathname</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>link-p</code></em>)</code></span></dt><dd><p>Return the <span class="type">FILE-STAT</span> structure.
   <em class="replaceable"><code>pathname</code></em> can be a <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><code class="classname">PATHNAME</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><code class="classname">NUMBER</code></a> (on a <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> system, meaning <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165">file descriptor</a>).
   The first slot of the structure returned is the string or the
   number on which <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/stat.html"><code class="function">stat</code></a>,
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/fstat.html"><code class="function">fstat</code></a>,
   or <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/lstat.html"><code class="function">lstat</code></a> was called.
   The other slots are numbers, members of the <span class="type">struct stat</span>:
    </p><div class="variablelist"><dl><dt><span class="term"><em class="structfield"><code>dev</code></em></span></dt><dd>Device ID of device containing file.
     </dd><dt><span class="term"><em class="structfield"><code>ino</code></em></span></dt><dd>File serial number.
     </dd><dt><span class="term"><em class="structfield"><code>mode</code></em></span></dt><dd>Mode of file.
     </dd><dt><span class="term"><em class="structfield"><code>nlink</code></em></span></dt><dd>Number of hard links to the file.
     </dd><dt><span class="term"><em class="structfield"><code>uid</code></em></span></dt><dd>User ID of file.
     </dd><dt><span class="term"><em class="structfield"><code>gid</code></em></span></dt><dd>Group ID of file.
     </dd><dt><span class="term"><em class="structfield"><code>rdev</code></em></span></dt><dd>Device ID (if file is character or block
        special).</dd><dt><span class="term"><em class="structfield"><code>size</code></em></span></dt><dd>For regular files, the file size in bytes.
        For symbolic links, the length in bytes of the pathname contained
        in the symbolic link.
        For a shared memory object, the length in bytes.
        For a typed memory object, the length in bytes.
        For other file types, the use of this field is unspecified.
     </dd><dt><span class="term"><em class="structfield"><code>atime</code></em></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-4-2.html" target="_top">universal time</a> of last access.
     </dd><dt><span class="term"><em class="structfield"><code>mtime</code></em></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-4-2.html" target="_top">universal time</a> of last data modification.
     </dd><dt><span class="term"><em class="structfield"><code>ctime</code></em></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-4-2.html" target="_top">universal time</a> of last status change
        (on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> - creation time).</dd><dt><span class="term"><em class="structfield"><code>blksize</code></em></span></dt><dd>A file system-specific preferred I/O block size
        for this object.  In some file system types, this may vary from
        file to file.</dd><dt><span class="term"><em class="structfield"><code>blocks</code></em></span></dt><dd>Number of blocks allocated for this object.
     </dd></dl></div><p>
    All slots are read-only.</p><p>If the system does not support a particular field (e.g.,
    <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> prior to 2000 does not have hard links), <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> (or the
    default, like 1 for the number of hard links for old <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>) is
    returned.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><span class="strong"><strong>Win32</strong></span> platform only.</h3><p>Normally, one would expect <code class="code">(POSIX:FILE-STAT
      "foo")</code> and <code class="code">(POSIX:FILE-STAT (<a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><code class="function">OPEN</code></a> "foo"))</code> to
     return “<span class="quote">similar</span>” objects (<a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><code class="function">OPEN</code></a>ing a file changes its
     access time though).  This is <span class="strong"><strong>not</strong></span> the case on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>,
     where <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/stat.html"><code class="function">stat</code></a>
     works but <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/fstat.html"><code class="function">fstat</code></a> does <span class="strong"><strong>not</strong></span>.
     Specifically, <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/fstat.html"><code class="function">fstat</code></a> requires
     an <span class="type">int</span> argument of an unknown nature,
     and it is not clear how do deduce it from the <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> file handle.
     Therefore, instead of always failing on open <a href="http://www.lisp.org/HyperSpec/Body/syscla_file-stream.html" target="_top"><code class="classname">FILE-STREAM</code></a> arguments,
     this function calls
     <code class="function">GetFileInformationByHandle</code> and
     fills the <span class="type">FILE-STAT</span> return value based on that.
 </p></div></dd><dt><a id="set-file-stat"></a><span class="term"><code class="code">(<code class="function">POSIX:SET-FILE-STAT</code> <em class="replaceable"><code>pathname</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :ATIME :MTIME :MODE :UID :GID)</code></span></dt><dd>Set some file attributes using
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/chmod.html"><code class="function">chmod</code></a>,
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/chown.html"><code class="function">chown</code></a>,
    and <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/utime.html"><code class="function">utime</code></a>.
 </dd><dt><a id="stat-vfs"></a><span class="term"><code class="code">(<code class="function">POSIX:STAT-VFS</code>
    <em class="replaceable"><code>pathname</code></em>)</code></span></dt><dd><p>Return a <span class="type">STAT-VFS</span> structure.
   <em class="replaceable"><code>pathname</code></em> can be a <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><code class="classname">PATHNAME</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><code class="classname">NUMBER</code></a> (on a <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> system, meaning <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165">file descriptor</a>).
   The first slot of the structure returned is the string
   or the number on which <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/statvfs.html"><code class="function">statvfs</code></a> or
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/fstatvfs.html"><code class="function">fstatvfs</code></a> was called.
   The other slots are members of the <span class="type">struct statvfs</span>:
   </p><div class="variablelist"><dl><dt><span class="term"><em class="structfield"><code>bsize</code></em></span></dt><dd>File system block size.
    </dd><dt><span class="term"><em class="structfield"><code>frsize</code></em></span></dt><dd>Fundamental file system block size.
    </dd><dt><span class="term"><em class="structfield"><code>blocks</code></em></span></dt><dd>Total number of blocks on file system in units of
       <em class="structfield"><code>frsize</code></em>.</dd><dt><span class="term"><em class="structfield"><code>bfree</code></em></span></dt><dd>Total number of free blocks.
    </dd><dt><span class="term"><em class="structfield"><code>bavail</code></em></span></dt><dd>Number of free blocks available to
       non-privileged processes.</dd><dt><span class="term"><em class="structfield"><code>files</code></em></span></dt><dd>Total number of file serial numbers.
    </dd><dt><span class="term"><em class="structfield"><code>ffree</code></em></span></dt><dd>Total number of free file serial numbers.
    </dd><dt><span class="term"><em class="structfield"><code>favail</code></em></span></dt><dd>Number of file serial numbers available to
       non-privileged processes.</dd><dt><span class="term"><em class="structfield"><code>fsid</code></em></span></dt><dd>File system ID.</dd><dt><span class="term"><em class="structfield"><code>flag</code></em></span></dt><dd>List of platform-dependent values, such as <code class="constant">:READ-ONLY</code>.
    </dd><dt><span class="term"><em class="structfield"><code>namemax</code></em></span></dt><dd>Maximum filename length.
   </dd><dt><span class="term"><em class="structfield"><code>vol-name</code></em></span></dt><dd>Volume name (<a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> only).
   </dd><dt><span class="term"><em class="structfield"><code>fs-type</code></em></span></dt><dd>File system type (<a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> only).
   </dd></dl></div><p>
   All slots are read-only.
 </p></dd><dt><a id="file-info"></a><span class="term"><code class="code">(<code class="function">OS:FILE-INFO</code>
    <em class="replaceable"><code>pathname</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> all)</code></span></dt><dd><p>Return the <span class="type">FILE-INFO</span> structure.
    <em class="replaceable"><code>pathname</code></em> should be a <a href="filename-dict.html#path-des">pathname designator</a>. The 7 slots are</p><table class="simplelist" border="0" summary="Simple list"><tr><td><em class="structfield"><code>attributes</code></em></td></tr><tr><td><em class="structfield"><code>ctime</code></em></td></tr><tr><td><em class="structfield"><code>atime</code></em></td></tr><tr><td><em class="structfield"><code>wtime</code></em></td></tr><tr><td><em class="structfield"><code>size</code></em></td></tr><tr><td><em class="structfield"><code>name</code></em></td></tr><tr><td><em class="structfield"><code>name-short</code></em></td></tr></table><p>When <em class="replaceable"><code>pathname</code></em> is wild, returns just the first match,
    unless the second (optional) argument is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, in which case a
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of objects is returned, one for each match.
 </p></dd><dt><a id="user-info"></a><span class="term"><code class="code">(<code class="function">POSIX:USER-INFO</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>user</code></em>)</code></span></dt><dd><p>Return the <span class="type">USER-INFO</span> structure (name,
   encoded password, UID, GID, full name, home directory, shell).
   <em class="replaceable"><code>user</code></em> should be a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><code class="classname">NUMBER</code></a>.
   When <em class="replaceable"><code>user</code></em> is missing or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, return all users.
   When <em class="replaceable"><code>user</code></em> is <code class="constant">:DEFAULT</code>,
   return the information about the current user.</p><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> platform only.</span></span></p></dd><dt><a id="group-info"></a><span class="term"><code class="code">(<code class="function">POSIX:GROUP-INFO</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>group</code></em>)</code></span></dt><dd><p>Return the <span class="type">GROUP-INFO</span> structure (name,
   GID, member list). <em class="replaceable"><code>group</code></em> should be a
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><code class="classname">NUMBER</code></a>. When <em class="replaceable"><code>group</code></em> is
   missing or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, return all groups.</p><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> platform only.</span></span></p></dd><dt><span class="term"><code class="code">(<code class="function">POSIX:UNAME</code>)</code></span></dt><dd>Return a structure describing the OS, derived from
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/name.html"><code class="function">name</code></a>.</dd><dt><span class="term"><code class="code">(<code class="function">POSIX:SYSCONF</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:CONFSTR</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></span></dt><dd>Return the specified configuration parameter or a
    list of all available parameters (when <em class="replaceable"><code>what</code></em> is missing or
    <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>), by calling <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/sysconf.html"><code class="function">sysconf</code></a>
    and <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/confstr.html"><code class="function">confstr</code></a> respectively.
 </dd><dt><a id="rlimit"></a><span class="term"><code class="code">(<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></span></dt><dd>Return the current and the maximal limits as two
    values when <em class="replaceable"><code>what</code></em> is specified or a <a href="http://www.lisp.org/HyperSpec/Body/glo_a.html#association_list" target="_top">alist</a> of all available
    limits (as an <span class="type">RLIMIT</span> structure) when <em class="replaceable"><code>what</code></em> is
    missing or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, by calling <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getrlimit.html"><code class="function">getrlimit</code></a>.
 </dd><dt><a id="set-rlimit"></a><span class="term"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a> <em class="replaceable"><code>what</code></em>)
    (<a href="http://www.lisp.org/HyperSpec/Body/acc_values.html" target="_top"><code class="function">VALUES</code></a> cur max))</code><br /></span><span class="term"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a> <em class="replaceable"><code>what</code></em>) rlimit)</code><br /></span><span class="term"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a>) rlimit-alist)</code></span></dt><dd><p>Set the limits using
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setrlimit.html"><code class="function">setrlimit</code></a>.</p><div class="orderedlist"><ol type="1"><li>In the first form, <em class="replaceable"><code>cur</code></em>
       and <em class="replaceable"><code>max</code></em> are numbers
       (or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> for <code class="constant">RLIM_INFINITY</code>).</li><li>In the second form, <em class="replaceable"><code>rlimit</code></em>
       is an <span class="type">RLIMIT</span> structure.</li><li>In the third form,
       <em class="replaceable"><code>rlimit-alist</code></em> is an <a href="http://www.lisp.org/HyperSpec/Body/glo_a.html#association_list" target="_top">alist</a>, as returned by
       <code class="code">(<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a>)</code>.</li></ol></div></dd><dt><a id="usage"></a><span class="term"><code class="code">(<code class="function">POSIX:USAGE</code>)</code></span></dt><dd>Return 2 structures describing the resource usage
    by the lisp process and its children, using
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getrusage.html"><code class="function">getrusage</code></a>.
 </dd><dt><span class="term"><code class="code">(<code class="function">POSIX:ERF</code> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:ERFC</code> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:J0</code> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:J1</code> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:JN</code> <em class="replaceable"><code>integer</code></em> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:Y0</code> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:Y1</code> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:YN</code> <em class="replaceable"><code>integer</code></em> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:GAMMA</code> <em class="replaceable"><code>real</code></em>)</code><br /></span><span class="term"><code class="code">(<code class="function">POSIX:LGAMMA</code> <em class="replaceable"><code>real</code></em>)</code></span></dt><dd><p>Compute the error functions, Bessel functions and
   Gamma.  These functions are required by the POSIX standard and should
   be available in <code class="filename">libm.so</code>.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Please note that these functions do not provide
    lisp-style error handling and precision, and do all the computations
    at the <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><code class="classname">DOUBLE-FLOAT</code></a> level.</p></div></dd><dt><a id="stream-lock"></a><span class="term">
   <code class="code">(<code class="function">POSIX:STREAM-LOCK</code> <em class="replaceable"><code>stream</code></em>
    <em class="replaceable"><code>lock-p</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    (:BLOCK <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>) (:SHARED <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>) (:START 0) (:END <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>))</code></span></dt><dd><p>Set or remove a file lock for the (portion of the)
    file associated with <em class="replaceable"><code>stream</code></em>,
    depending on <em class="replaceable"><code>lock-p</code></em>.
    When <em class="replaceable"><code>block</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, the call is non-blocking,
    and when locking fails, it returns <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
    When <em class="replaceable"><code>shared</code></em> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>,
    then lock can be shared between several callers.
    Several processes can set a <em class="replaceable"><code>shared</code></em>
    (i.e., <span class="emphasis"><em>read</em></span>) lock, but only one can set
    an <em class="replaceable"><code>exclusive</code></em> (i.e., <span class="emphasis"><em>write</em></span>,
    or non-<em class="replaceable"><code>shared</code></em>) lock.
    Uses <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/fcntl.html"><code class="function">fcntl</code></a>
    or <code class="function">LockFileEx</code>.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> and <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> differ on locking 0-length files: on
     <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>, two processes can have exclusive locks on it!</p></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> locks are <span class="emphasis"><em>mandatory</em></span>:
     if you lock a file, others will not be able to open it!
     <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> locks are usually <span class="emphasis"><em>advisory</em></span>: a process
     is free to ignore it, but on some <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> systems one can mount some
     file system with <span class="emphasis"><em>mandatory</em></span> locks.</p></div></dd><dt><a id="with-stream-lock"></a><span class="term">
   <code class="code">(<code class="function">POSIX:WITH-STREAM-LOCK</code> (<em class="replaceable"><code>stream</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>options</code></em>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><code class="literal">&amp;BODY</code></a> <em class="replaceable"><code>body</code></em>)</code></span></dt><dd>Lock the <em class="replaceable"><code>stream</code></em>, execute the <em class="replaceable"><code>body</code></em>, unlock
    the <em class="replaceable"><code>stream</code></em>.  Pass <em class="replaceable"><code>options</code></em> to
    <a href="syscalls.html#stream-lock"><code class="function">POSIX:STREAM-LOCK</code></a>.
 </dd><dt><a id="fcntl"></a><span class="term"><code class="code">(<code class="function">POSIX:STREAM-OPTIONS</code>
    <em class="replaceable"><code>stream</code></em> <em class="replaceable"><code>command</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>value</code></em>)</code></span></dt><dd>Call <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/fcntl.html"><code class="function">fcntl</code></a>,
    <em class="replaceable"><code>command</code></em> can be <code class="constant">:FD</code> or <code class="constant">:FL</code>.
 </dd><dt><a id="mknod"></a><span class="term"><code class="code">(<code class="function">POSIX:MKNOD</code>
    <em class="replaceable"><code>pathname</code></em> <em class="replaceable"><code>type</code></em> <em class="replaceable"><code>mode</code></em>)</code></span></dt><dd>Create a special file using
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/mknod.html"><code class="function">mknod</code></a>.
   Use <code class="constant">:FIFO</code> to create pipes
   and <code class="constant">:SOCK</code> to create sockets.
 </dd><dt><a id="convert-modes"></a><span class="term"><code class="code">(<code class="function">POSIX:CONVERT-MODE</code> <em class="replaceable"><code>mode</code></em>)</code></span></dt><dd>Convert between numeric, (e.g., <code class="literal">0644</code>)
    and symbolic (e.g., <span class="data"><code class="literal">(:RUSR :WUSR :RGRP
     :ROTH)</code></span>) file modes.</dd><dt><a id="umask"></a><span class="term"><code class="code">(<code class="function">UMASK</code>
    <em class="replaceable"><code>mode</code></em>)</code></span></dt><dd>Change process mask using
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/umask.html"><code class="function">umask</code></a>.
 </dd><dt><a id="copy-file"></a><span class="term">
   <code class="code">(<code class="function">POSIX:COPY-FILE</code> <em class="replaceable"><code>source</code></em> <em class="replaceable"><code>destination</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :METHOD :PRESERVE :IF-EXISTS :IF-DOES-NOT-EXIST)</code></span></dt><dd><p>This is an interface to
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/symlink.html"><code class="function">symlink</code></a>
    (when <em class="replaceable"><code>method</code></em> is <code class="constant">:SYMLINK</code>),
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/link.html"><code class="function">link</code></a>
    (when it is <code class="constant">:HARDLINK</code>),
    and <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/rename.html"><code class="function">rename</code></a>
    (when it is <code class="constant">:RENAME</code>) system calls, as well as,
    you guessed it, a generic file copy utility (when <em class="replaceable"><code>method</code></em> is <code class="constant">:COPY</code>).
   </p><p>Both <em class="replaceable"><code>source</code></em> and <em class="replaceable"><code>destination</code></em> may be wild.
 </p></dd><dt><a id="dup-handle"></a><span class="term">
   <code class="code">(<code class="function">POSIX:DUPLICATE-HANDLE</code>
    <em class="replaceable"><code>fd1</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>fd2</code></em>)</code></span></dt><dd>This is an interface to the
    <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/dup.html"><code class="function">dup</code></a> system calls on
    <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> systems and to <code class="function">DuplicateHandle</code>
    system call on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>.</dd><dt><span class="term"><code class="code">(OS:SHORTCUT-INFO <em class="replaceable"><code>pathname</code></em>)</code></span></dt><dd>Return information about a <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> shortcut
    (<code class="filename">#P".lnk"</code>) file contents in a
    <span class="type">SHORTCUT-INFO</span> structure.</dd><dt><span class="term"><code class="code">(OS:MAKE-SHORTCUT <em class="replaceable"><code>pathname</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    :WORKING-DIRECTORY :ARGUMENTS :SHOW-COMMAND :ICON :DESCRIPTION
    :HOT-KEY :PATH)</code></span></dt><dd>Create (or modify the properties of an existing one)
    a <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> shortcut (<code class="filename">#P".lnk"</code>) file.
 </dd><dt><span class="term"><code class="code">(OS:SYSTEM-INFO)</code></span></dt><dd>Return <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> system information in a
    <span class="type">SYSTEM-INFO</span> structure.</dd><dt><span class="term"><code class="code">(OS:VERSION)</code></span></dt><dd>Return <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> version information in a
    <span class="type">VERSION</span> structure.</dd><dt><span class="term"><code class="code">(OS:MEMORY-STATUS)</code></span></dt><dd>Return <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> memory status information in a
    <span class="type">MEMORY-STATUS</span> structure.</dd><dt><span class="term"><code class="code">(OS:FILE-PROPERTIES filename set
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :INITID <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></dt><dd><p>Wrapper for the <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>
    <code class="function">IPropertyStorage</code> functionality.
    </p><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>filename</code></em></span></dt><dd>name of a compound file (where properties are stored)
      or (on NTFS) name of any file (properties are stored in the filesystem).
      For compound files on NTFS, file storage is preferred.
     </dd><dt><span class="term"><em class="replaceable"><code>set</code></em></span></dt><dd>property set, either <code class="constant">:BUILT-IN</code>
        or <code class="constant">:USER-DEFINED</code>
     </dd><dt><span class="term"><code class="constant">:INITID</code>
       <em class="replaceable"><code>init-id</code></em></span></dt><dd>set the <em class="replaceable"><code>init-id</code></em>
     </dd><dt><span class="term"><em class="replaceable"><code>specifier value</code></em></span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>specifier</code></em></span></dt><dd><p>the property specifier: an <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a>,
            <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of an <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a> or a
            <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> and a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>.
            </p><div class="variablelist"><dl><dt><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a></span></dt><dd>a property identifier
             </dd><dt><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a></span></dt><dd><p>Predefined <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> IDs are
                </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:APPNAME</code></td><td><code class="constant">:CREATE-DTM</code></td><td><code class="constant">:LASTPRINTED</code></td><td><code class="constant">:SUBJECT</code></td></tr><tr><td><code class="constant">:AUTHOR</code></td><td><code class="constant">:DOC-SECURITY</code></td><td><code class="constant">:LASTSAVE-DTM</code></td><td><code class="constant">:TEMPLATE</code></td></tr><tr><td><code class="constant">:CHARCOUNT</code></td><td><code class="constant">:EDITTIME</code></td><td><code class="constant">:LOCALE</code></td><td><code class="constant">:THUMBNAIL</code></td></tr><tr><td><code class="constant">:CODEPAGE</code></td><td><code class="constant">:KEYWORDS</code></td><td><code class="constant">:PAGECOUNT</code></td><td><code class="constant">:TITLE</code></td></tr><tr><td><code class="constant">:COMMENTS</code></td><td><code class="constant">:LASTAUTHOR</code></td><td><code class="constant">:REVNUMBER</code></td><td><code class="constant">:WORDCOUNT</code></td></tr></table></dd><dt><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a></span></dt><dd>string property specifier.
                If no match is found, the first ID &gt;= init-id
                (which defaults to 2) is associated with the
                string and its value is replaced with new value.
             </dd><dt><span class="term">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a>|<a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a>
               <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>)</span></dt><dd>the first element is used as
                a specifier, the string is associated with this ID.
            </dd></dl></div><p>
           </p></dd><dt><span class="term"><em class="replaceable"><code>value</code></em></span></dt><dd><p>the new value of the property, a suitable Lisp
            object, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of a <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> and the value
            itself.  If <em class="replaceable"><code>value</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, no assignment is done.
            <code class="constant">:EMPTY</code> and <code class="constant">:NULL</code>
            correspond to the <span class="type">VT_EMPTY</span>
            and <span class="type">VT_NULL</span> data types.
            <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> in the <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> specifies the desired type of
            the property being set.
            Supported types are</p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:BOOL</code></td><td><code class="constant">:I1</code></td><td><code class="constant">:LPWSTR</code></td><td><code class="constant">:UI4</code></td></tr><tr><td><code class="constant">:BSTR</code></td><td><code class="constant">:I2</code></td><td><code class="constant">:R4</code></td><td><code class="constant">:UI8</code></td></tr><tr><td><code class="constant">:DATE</code></td><td><code class="constant">:I4</code></td><td><code class="constant">:R8</code></td><td><code class="constant">:UINT</code></td></tr><tr><td><code class="constant">:ERROR</code></td><td><code class="constant">:I8</code></td><td><code class="constant">:UI1</code></td><td> </td></tr><tr><td><code class="constant">:FILETIME</code></td><td><code class="constant">:LPSTR</code></td><td><code class="constant">:UI2</code></td><td> </td></tr></table><p>
            <span class="type">FILETIME</span>s are converted to/from the universal
            time format, while <span class="type">DATE</span>s are not.
       </p></dd></dl></div><p>
    </p></dd></dl></div><p>
    Returns the property contents before assignment as multiple values.
 </p></dd><dt><span class="term"><code class="code">(POSIX:CRYPT <em class="replaceable"><code>key</code></em>
    <em class="replaceable"><code>salt</code></em>)</code></span></dt><dd>Call <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/crypt.html"><code class="function">crypt</code></a>,
    arguments are <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>s.</dd><dt><a id="encrypt"></a><span class="term"><code class="code">(POSIX:ENCRYPT <em class="replaceable"><code>block</code></em>
    <em class="replaceable"><code>decrypt-p</code></em>)</code><br /></span><span class="term"><code class="code">(POSIX:SETKEY <em class="replaceable"><code>key</code></em>)</code></span></dt><dd>Call <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/encrypt.html"><code class="function">encrypt</code></a>
    and <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setkey.html"><code class="function">setkey</code></a>, respectively.
    <em class="replaceable"><code>block</code></em> and <em class="replaceable"><code>key</code></em> are of type
    <span class="type"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/fun_vector.html" target="_top"><code class="function">VECTOR</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><code class="classname">UNSIGNED-BYTE</code></a> 8) 8)</code></span>.
    <em class="replaceable"><code>decrypt-p</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><code class="classname">BOOLEAN</code></a>.
 </dd><dt><a id="phys-mem"></a><span class="term"><code class="code">(OS:PHYSICAL-MEMORY)</code></span></dt><dd><p>Return 2 values: total and available physical memory.
   </p><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a>, <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> platforms only.</span></span></p></dd><dt><a id="file-owner"></a><span class="term"><code class="code">(OS:FILE-OWNER
    <em class="replaceable"><code>filename</code></em>)</code></span></dt><dd><p>Return the owner of the file.</p><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a>, <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> platforms only.</span></span></p></dd><dt><a id="priority"></a><span class="term"><code class="code">(OS:PRIORITY <em class="replaceable"><code>pid</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></span></dt><dd><p>Return the process priority, platform-dependent
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a> or platform-independent <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>, one of
    </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:REALTIME</code></td><td><code class="constant">:NORMAL</code></td><td><code class="constant">:IDLE</code></td></tr><tr><td><code class="constant">:HIGH</code></td><td><code class="constant">:BELOW-NORMAL</code></td><td> </td></tr><tr><td><code class="constant">:ABOVE-NORMAL</code></td><td><code class="constant">:LOW</code></td><td> </td></tr></table><p>
    On <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getpriority.html"><code class="function">getpriority</code></a>, on
    <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> calls <code class="function">GetPriorityClass</code>.</p><p><a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a>able using <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setpriority.html"><code class="function">setpriority</code></a> and
    <code class="function">SetPriorityClass</code>.
 </p></dd><dt><a id="process-id"></a><span class="term"><code class="code">(OS:PROCESS-ID)</code></span></dt><dd>Return the process ID
    (on <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getpid.html"><code class="function">getpid</code></a>,
    on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> calls <code class="function">GetCurrentProcessId</code>)
 </dd><dt><a id="openlog"></a><span class="term"><code class="code">(POSIX:OPENLOG ident <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    :PID :CONS :NDELAY :ODELAY :NOWAIT :FACILITY)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/openlog.html"><code class="function">openlog</code></a>
 </dd><dt><a id="setlogmask"></a><span class="term"><code class="code">(POSIX:SETLOGMASK
    maskpri)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setlogmask.html"><code class="function">setlogmask</code></a>
 </dd><dt><a id="syslog"></a><span class="term"><code class="code">(POSIX:SYSLOG severity facility
    <em class="replaceable"><code>format-string</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>arguments</code></em>)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/syslog.html"><code class="function">syslog</code></a> on
    <code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><code class="function">FORMAT</code></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> <em class="replaceable"><code>format-string</code></em> <em class="replaceable"><code>arguments</code></em>)</code>
 </dd><dt><a id="closelog"></a><span class="term"><code class="code">(POSIX:CLOSELOG)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/closelog.html"><code class="function">closelog</code></a>
 </dd><dt><a id="kill"></a><span class="term"><code class="code">(POSIX:KILL <em class="replaceable"><code>pid</code></em> <em class="replaceable"><code>signal</code></em>)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/kill.html"><code class="function">kill</code></a>
 </dd><dt><a id="getpgrp"></a><span class="term"><code class="code">(POSIX:GETPGRP <em class="replaceable"><code>pid</code></em>)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getpgrp.html"><code class="function">getpgrp</code></a>
 </dd><dt><a id="setpgrp"></a><span class="term"><code class="code">(POSIX:SETPGRP)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setpgrp.html"><code class="function">setpgrp</code></a>;
    on non-POSIX systems where it requires 2 arguments (legacy
    BSD-style), it is called as <code class="code">setpgrp(0,0)</code>
 </dd><dt><a id="getsid"></a><span class="term"><code class="code">(POSIX:GETSID <em class="replaceable"><code>pid</code></em>)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getsid.html"><code class="function">getsid</code></a>
 </dd><dt><a id="setsid"></a><span class="term"><code class="code">(POSIX:SETSID)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setsid.html"><code class="function">setsid</code></a>
 </dd><dt><a id="setpgid"></a><span class="term"><code class="code">(POSIX:SETPGID
    <em class="replaceable"><code>pid</code></em> <em class="replaceable"><code>pgid</code></em>)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setpgid.html"><code class="function">setpgid</code></a>
 </dd><dt><a id="endutxent"></a><span class="term"><code class="code">(POSIX:ENDUTXENT)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/endutxent.html"><code class="function">endutxent</code></a>
 </dd><dt><a id="getutxent"></a><span class="term"><code class="code">(POSIX:GETUTXENT
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> utmpx)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getutxent.html"><code class="function">getutxent</code></a>,
    returns a <a href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><code class="classname">STRUCTURE-OBJECT</code></a> of
    type <span class="type">POSIX:UTMPX</span>, which can be passed to subsequent calls to
    this function and re-used.</dd><dt><a id="getutxid"></a><span class="term"><code class="code">(POSIX:GETUTXID id)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getutxid.html"><code class="function">getutxid</code></a>,
    the argument is filled and returned</dd><dt><a id="getutxline"></a><span class="term"><code class="code">(POSIX:GETUTXLINE line)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getutxline.html"><code class="function">getutxline</code></a>,
    the argument is filled and returned</dd><dt><a id="pututxline"></a><span class="term"><code class="code">(POSIX:PUTUTXLINE
    utmpx)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/pututxline.html"><code class="function">pututxline</code></a>,
    the argument is filled and returned</dd><dt><a id="setutxent"></a><span class="term"><code class="code">(POSIX:SETUTXENT)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setutxent.html"><code class="function">setutxent</code></a>
 </dd><dt><a id="getuid"></a><span class="term"><code class="code">(POSIX:GETUID)</code><br /></span><span class="term"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (POSIX:GETUID) <em class="replaceable"><code>uid</code></em>)</code></span></dt><dd>Call <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getuid.html"><code class="function">getuid</code></a> and
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setuid.html"><code class="function">setuid</code></a>.</dd><dt><a id="getgid"></a><span class="term"><code class="code">(POSIX:GETGID)</code><br /></span><span class="term"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (POSIX:GETGID) <em class="replaceable"><code>gid</code></em>)</code></span></dt><dd>Call <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getgid.html"><code class="function">getgid</code></a> and
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setgid.html"><code class="function">setgid</code></a>.</dd><dt><a id="geteuid"></a><span class="term"><code class="code">(POSIX:GETEUID)</code><br /></span><span class="term"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (POSIX:GETEUID) <em class="replaceable"><code>uid</code></em>)</code></span></dt><dd>Call <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/geteuid.html"><code class="function">geteuid</code></a> and
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/seteuid.html"><code class="function">seteuid</code></a>.</dd><dt><a id="getegid"></a><span class="term"><code class="code">(POSIX:GETEGID)</code><br /></span><span class="term"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (POSIX:GETEGID) <em class="replaceable"><code>gid</code></em>)</code></span></dt><dd>Call <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/getegid.html"><code class="function">getegid</code></a> and
   <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/setegid.html"><code class="function">setegid</code></a>.</dd><dt><a id="strtime"></a><span class="term"><code class="code">(OS:STRING-TIME <em class="replaceable"><code>format-string</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>object</code></em> timezone)</code></span></dt><dd>When <em class="replaceable"><code>object</code></em> is a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>, is is parsed
    according to <em class="replaceable"><code>format-string</code></em> by <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/strptime.html"><code class="function">strptime</code></a>.
    When it is an <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a>, it is formatted according to <em class="replaceable"><code>format-string</code></em>
    by <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/strftime.html"><code class="function">strftime</code></a>.
    <em class="replaceable"><code>object</code></em> defaults to <code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/fun_get-unive_decoded-time.html" target="_top"><code class="function">GET-UNIVERSAL-TIME</code></a>)</code>.
 </dd><dt><a id="mkstemp"></a><span class="term"><code class="code">(POSIX:MKSTEMP <em class="replaceable"><code>filename</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:DIRECTION</code> <a href="stream-dict.html#eltype"><code class="constant">:ELEMENT-TYPE</code></a> <a href="stream-dict.html#extfmt"><code class="constant">:EXTERNAL-FORMAT</code></a> <a href="stream-dict.html#buffered"><code class="constant">:BUFFERED</code></a>)</code></span></dt><dd><p>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/mkstemp.html"><code class="function">mkstemp</code></a>,
    returns a <a href="http://www.lisp.org/HyperSpec/Body/syscla_file-stream.html" target="_top"><code class="classname">FILE-STREAM</code></a>.</p><p><code class="constant">:DIRECTION</code> should allow output.</p><p>When <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/mkstemp.html"><code class="function">mkstemp</code></a> is missing,
    use <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/tempnam.html"><code class="function">tempnam</code></a>.
    On <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> use <code class="function">GetTempFileName</code>.
 </p></dd><dt><a id="mkdtemp"></a><span class="term"><code class="code">(POSIX:MKDTEMP
    <em class="replaceable"><code>filename</code></em>)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/mkdtemp.html"><code class="function">mkdtemp</code></a>
    (similar to <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/mkstemp.html"><code class="function">mkstemp</code></a> but not in POSIX),
    returns the namestring of a new empty temporary directory.
 </dd><dt><a id="sync"></a><span class="term"><code class="code">(POSIX:SYNC <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a>
    <em class="replaceable"><code>stream</code></em>)</code></span></dt><dd>calls <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/fsync.html"><code class="function">fsync</code></a>
    (<code class="function">FlushFileBuffers</code> on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>)
    on the <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165">file descriptor</a> associated with <em class="replaceable"><code>stream</code></em>,
    or <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/sync.html"><code class="function">sync</code></a>
    when <em class="replaceable"><code>stream</code></em> is not supplied</dd><dt><a id="mk-xterm-io"></a><span class="term">(<a href="syscalls.html#mk-xterm-io"><code class="function">POSIX:MAKE-XTERM-IO-STREAM</code></a>)</span></dt><dd><p>When running under the <a href="http://www.x.org/" target="_top">X Window System</a>, you can create a <a href="http://www.lisp.org/HyperSpec/Body/glo_b.html#bidirectional" target="_top">bidirectional</a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>,
    which uses a new dedicated xterm, using the function <a href="syscalls.html#mk-xterm-io"><code class="function">POSIX:MAKE-XTERM-IO-STREAM</code></a>:
</p><pre class="programlisting">
  (<a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><code class="function">SETQ</code></a> <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><code class="varname">*ERROR-OUTPUT*</code></a>
        (<a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><code class="function">SETQ</code></a> <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><code class="varname">*DEBUG-IO*</code></a>
             (<a href="syscalls.html#mk-xterm-io"><code class="function">POSIX:MAKE-XTERM-IO-STREAM</code></a>)))
</pre><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> platform only.</span></span></p></dd></dl></div></div><div class="bookinfo"><hr width="100%" /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version 2.36</td><td align="right">Last modified: 2005-12-04</td></th></table></div><div class="custom-footer"><hr width="100%" /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://sourceforge.net/donate/index.php?group_id=1355"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="[Support This Project]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=syscalls" /></a></td></tr></table></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="readline-mod.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ext-modules.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="oracle.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">32.10. Advanced Readline and History Functionality. </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 32.12. Oracle Interface</td></tr></table></div></body></html>
