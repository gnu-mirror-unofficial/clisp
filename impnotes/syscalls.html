<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>32.10. System Calls</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@sf.net" /><meta name="generator" content="DocBook XSL Stylesheets V2005-07-12_04:47_snapshot" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP." /><link rel="up" href="ext-modules.html" title="Chapter 32. Extensions Implemented as Modules" /><link rel="prev" href="i18n-mod.html" title="32.9. Internationalization of User Programs" /><link rel="next" href="oracle.html" title="32.11. Oracle Interface" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">32.10. System Calls</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="i18n-mod.html">Prev</a> </td><th width="60%" align="center">Chapter 32. Extensions Implemented as Modules</th><td width="20%" align="right"> <a accesskey="n" href="oracle.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="syscalls"></a>32.10. System Calls</h2></div></div></div><p>The <a href="syscalls.html" title="32.10. System Calls"><strong class="package">“<span class="quote">POSIX</span>”</strong></a> module makes some system calls available from lisp.
 Not all of these system calls are actually POSIX, so this package has a
 nickname <strong class="package">“<span class="quote">OS</span>”</strong>.</p><p>This module is present even in the <a href="modules.html#base-modules" class="olink"><span><strong class="command">base</strong></span></a> <a href="modules.html#linkset" class="olink">linking set</a> by default.</p><p>When this module is present, <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><code class="varname">*FEATURES*</code></a>
 contains the symbol <code class="constant">:SYSCALLS</code>.</p><div class="variablelist"><dl><dt><a id="resolve-host"></a><code class="code">(<a href="syscalls.html#resolve-host"><code class="function">POSIX:RESOLVE-HOST-IPADDR</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>host</code></em>)</code></dt><dd><p>Returns the <span class="type">HOSTENT</span> structure:
   </p><div class="variablelist"><dl><dt><em class="structfield"><code>name</code></em></dt><dd>host name</dd><dt><em class="structfield"><code>aliases</code></em></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of aliases</dd><dt><em class="structfield"><code>addr-list</code></em></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of IP addresses as dotted quads (for IPv4) or
       coloned octets (for IPv6)</dd><dt><em class="structfield"><code>addrtype</code></em></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a> address type (IPv4 or IPv6)
   </dd></dl></div><p>
   When <em class="replaceable"><code>host</code></em> is omitted or <code class="constant">:DEFAULT</code>, return the data for the
   current host. When <em class="replaceable"><code>host</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, all the
   host database is returned as a list (this would be the contents of the
   <code class="filename">/etc/hosts</code> file on a <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> system or
   <code class="filename">${windir}/system32/etc/hosts</code> on a <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> system).
  </p><p>This is an interface to <a href="http://www.opengroup.org/onlinepubs/007904975/functions/gethostbyname.html" target="_top"><code class="function">gethostbyname</code></a>/<a href="http://www.opengroup.org/onlinepubs/007904975/functions/gethostbyaddr.html" target="_top"><code class="function">gethostbyaddr</code></a>.
 </p></dd><dt><a id="file-stat"></a><code class="code">(<code class="function">POSIX:FILE-STAT</code>
    <em class="replaceable"><code>pathname</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>link-p</code></em>)</code></dt><dd><p>Return the <span class="type">FILE-STAT</span> structure.
   <em class="replaceable"><code>pathname</code></em> can be a <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><code class="classname">PATHNAME</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><code class="classname">NUMBER</code></a> (on a <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> system, meaning <a href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165" target="_top">file descriptor</a>).
   The first slot of the structure returned is the string or the
   number on which <a href="http://www.opengroup.org/onlinepubs/007904975/functions/stat.html" target="_top"><code class="function">stat</code></a>/<a href="http://www.opengroup.org/onlinepubs/007904975/functions/fstat.html" target="_top"><code class="function">fstat</code></a>/<a href="http://www.opengroup.org/onlinepubs/007904975/functions/lstat.html" target="_top"><code class="function">lstat</code></a> was called.
   The other slots are numbers, members of the <span class="type">struct stat</span>:
    </p><div class="variablelist"><dl><dt><em class="structfield"><code>dev</code></em></dt><dd>Device ID of device containing file.
     </dd><dt><em class="structfield"><code>ino</code></em></dt><dd>File serial number.
     </dd><dt><em class="structfield"><code>mode</code></em></dt><dd>Mode of file.
     </dd><dt><em class="structfield"><code>nlink</code></em></dt><dd>Number of hard links to the file.
     </dd><dt><em class="structfield"><code>uid</code></em></dt><dd>User ID of file.
     </dd><dt><em class="structfield"><code>gid</code></em></dt><dd>Group ID of file.
     </dd><dt><em class="structfield"><code>rdev</code></em></dt><dd>Device ID (if file is character or block
        special).</dd><dt><em class="structfield"><code>size</code></em></dt><dd>For regular files, the file size in bytes.
        For symbolic links, the length in bytes of the pathname contained
        in the symbolic link.
        For a shared memory object, the length in bytes.
        For a typed memory object, the length in bytes.
        For other file types, the use of this field is unspecified.
     </dd><dt><em class="structfield"><code>atime</code></em></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-4-2.html" target="_top">universal time</a> of last access.
     </dd><dt><em class="structfield"><code>mtime</code></em></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-4-2.html" target="_top">universal time</a> of last data modification.
     </dd><dt><em class="structfield"><code>ctime</code></em></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/sec_25-1-4-2.html" target="_top">universal time</a> of last status change.
     </dd><dt><em class="structfield"><code>blksize</code></em></dt><dd>A file system-specific preferred I/O block size
        for this object.  In some file system types, this may vary from
        file to file.</dd><dt><em class="structfield"><code>blocks</code></em></dt><dd>Number of blocks allocated for this object.
     </dd></dl></div><p>
    All slots are read-only.</p><p>If the system does not support a particular field (e.g.,
    <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> prior to 2000 does not have hard links), <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> (or the
    default, like 1 for the number of hard links for old <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>) is
    returned.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><span class="strong"><strong>Win32</strong></span> platform only.</h3><p>Normally, one would expect <code class="code">(POSIX:FILE-STAT
      "foo")</code> and <code class="code">(POSIX:FILE-STAT (<a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><code class="function">OPEN</code></a> "foo"))</code> to
     return “<span class="quote">similar</span>” objects (<a href="http://www.lisp.org/HyperSpec/Body/fun_open.html" target="_top"><code class="function">OPEN</code></a>ing a file changes its
     access time though).  This is <span class="strong"><strong>not</strong></span> the case on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>, where <a href="http://www.opengroup.org/onlinepubs/007904975/functions/stat.html" target="_top"><code class="function">stat</code></a>
     works but <a href="http://www.opengroup.org/onlinepubs/007904975/functions/fstat.html" target="_top"><code class="function">fstat</code></a> does <span class="strong"><strong>not</strong></span>.  Specifically, <a href="http://www.opengroup.org/onlinepubs/007904975/functions/fstat.html" target="_top"><code class="function">fstat</code></a> requires an
     <span class="type">int</span> argument of an unknown nature, and it is not
     clear how do deduce it from the <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> file handle.  Therefore,
     instead of always failing on open <a href="http://www.lisp.org/HyperSpec/Body/syscla_file-stream.html" target="_top"><code class="classname">FILE-STREAM</code></a> arguments, this
     function calls <code class="function">GetFileInformationByHandle</code> and
     fills the <span class="type">FILE-STAT</span> return value based on that.
 </p></div></dd><dt><a id="set-file-stat"></a><code class="code">(<code class="function">POSIX:SET-FILE-STAT</code> <em class="replaceable"><code>pathname</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :ATIME :MTIME :MODE :UID :GID)</code></dt><dd>Set some file attributes using <a href="http://www.opengroup.org/onlinepubs/007904975/functions/chmod.html" target="_top"><code class="function">chmod</code></a>, <a href="http://www.opengroup.org/onlinepubs/007904975/functions/chown.html" target="_top"><code class="function">chown</code></a>,
    and <a href="http://www.opengroup.org/onlinepubs/007904975/functions/utime.html" target="_top"><code class="function">utime</code></a>.</dd><dt><a id="stat-vfs"></a><code class="code">(<code class="function">POSIX:STAT-VFS</code>
    <em class="replaceable"><code>pathname</code></em>)</code></dt><dd><p>Return a <span class="type">STAT-VFS</span> structure.
   <em class="replaceable"><code>pathname</code></em> can be a <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><code class="classname">PATHNAME</code></a>, a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_number.html" target="_top"><code class="classname">NUMBER</code></a> (on a <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> system, meaning <a href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165" target="_top">file descriptor</a>).
   The first slot of the structure returned is the string
   or the number on which <a href="http://www.opengroup.org/onlinepubs/007904975/functions/statvfs.html" target="_top"><code class="function">statvfs</code></a>/<a href="http://www.opengroup.org/onlinepubs/007904975/functions/fstatvfs.html" target="_top"><code class="function">fstatvfs</code></a> was called.
   The other slots are members of the <span class="type">struct statvfs</span>:
   </p><div class="variablelist"><dl><dt><em class="structfield"><code>bsize</code></em></dt><dd>File system block size.
    </dd><dt><em class="structfield"><code>frsize</code></em></dt><dd>Fundamental file system block size.
    </dd><dt><em class="structfield"><code>blocks</code></em></dt><dd>Total number of blocks on file system in units of
       <em class="structfield"><code>frsize</code></em>.</dd><dt><em class="structfield"><code>bfree</code></em></dt><dd>Total number of free blocks.
    </dd><dt><em class="structfield"><code>bavail</code></em></dt><dd>Number of free blocks available to
       non-privileged processes.</dd><dt><em class="structfield"><code>files</code></em></dt><dd>Total number of file serial numbers.
    </dd><dt><em class="structfield"><code>ffree</code></em></dt><dd>Total number of free file serial numbers.
    </dd><dt><em class="structfield"><code>favail</code></em></dt><dd>Number of file serial numbers available to
       non-privileged processes.</dd><dt><em class="structfield"><code>fsid</code></em></dt><dd>File system ID.</dd><dt><em class="structfield"><code>flag</code></em></dt><dd>List of platform-dependent values, such as <code class="constant">:READ-ONLY</code>.
    </dd><dt><em class="structfield"><code>namemax</code></em></dt><dd>Maximum filename length.
   </dd><dt><em class="structfield"><code>vol-name</code></em></dt><dd>Volume name (<a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> only).
   </dd><dt><em class="structfield"><code>fs-type</code></em></dt><dd>File system type (<a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> only).
   </dd></dl></div><p>
   All slots are read-only.
 </p></dd><dt><a id="file-info"></a><code class="code">(<code class="function">OS:FILE-INFO</code>
    <em class="replaceable"><code>pathname</code></em>)</code></dt><dd><p>Return the <span class="type">FILE-INFO</span> structure.
    <em class="replaceable"><code>pathname</code></em> should be a <a href="filename-dict.html#path-des">pathname designator</a>. The 7 slots are</p><table class="simplelist" border="0" summary="Simple list"><tr><td><em class="structfield"><code>attributes</code></em></td></tr><tr><td><em class="structfield"><code>ctime</code></em></td></tr><tr><td><em class="structfield"><code>atime</code></em></td></tr><tr><td><em class="structfield"><code>wtime</code></em></td></tr><tr><td><em class="structfield"><code>size</code></em></td></tr><tr><td><em class="structfield"><code>name</code></em></td></tr><tr><td><em class="structfield"><code>name-short</code></em></td></tr></table></dd><dt><code class="code">(<code class="function">POSIX:USER-DATA</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>user</code></em>)</code></dt><dd><p>Return the <span class="type">PASSWD</span> structure (name,
   encoded password, UID, GID, full name, home directory, shell).
   When <em class="replaceable"><code>user</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, return all users.
   When <em class="replaceable"><code>user</code></em> is <code class="constant">:DEFAULT</code> or
   not supplied, return the information about the current user.
   If the system does not support a particular field (e.g., Win32 does
   not have a concept of a shell), <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> (or the default, like
   <code class="filename">c:\command.com</code> for DOS) is returned.
   </p><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> platform only.</span></span></p></dd><dt><code class="code">(<code class="function">POSIX:UNAME</code>)</code></dt><dd>Return a structure describing the OS, derived from
    <a href="http://www.opengroup.org/onlinepubs/007904975/functions/uname.html" target="_top"><code class="function">uname</code></a>.</dd><dt><code class="code">(<code class="function">POSIX:SYSCONF</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code><br /><code class="code">(<code class="function">POSIX:CONFSTR</code>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></dt><dd>Return the specified configuration parameter or a
    list of all available parameters (when <em class="replaceable"><code>what</code></em> is missing or
    <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>), by calling <a href="http://www.opengroup.org/onlinepubs/007904975/functions/sysconf.html" target="_top"><code class="function">sysconf</code></a> and <a href="http://www.opengroup.org/onlinepubs/007904975/functions/confstr.html" target="_top"><code class="function">confstr</code></a> respectively.
 </dd><dt><a id="rlimit"></a><code class="code">(<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></dt><dd>Return the current and the maximal limits as two
    values when <em class="replaceable"><code>what</code></em> is specified or a <a href="http://www.lisp.org/HyperSpec/Body/glo_a.html#association_list" target="_top">alist</a> of all available
    limits (as an <span class="type">RLIMIT</span> structure)
    when <em class="replaceable"><code>what</code></em> is missing or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, by calling <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getrlimit.html" target="_top"><code class="function">getrlimit</code></a>.
 </dd><dt><a id="set-rlimit"></a><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a> <em class="replaceable"><code>what</code></em>)
    (<a href="http://www.lisp.org/HyperSpec/Body/acc_values.html" target="_top"><code class="function">VALUES</code></a> cur max))</code><br /><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a> <em class="replaceable"><code>what</code></em>) rlimit)</code><br /><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a>) rlimit-alist)</code></dt><dd><p>Set the limits using <a href="http://www.opengroup.org/onlinepubs/007904975/functions/setrlimit.html" target="_top"><code class="function">setrlimit</code></a>.</p><div class="orderedlist"><ol type="1"><li>In the first form, <em class="replaceable"><code>cur</code></em>
       and <em class="replaceable"><code>max</code></em> are numbers
       (or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> for <code class="constant">RLIM_INFINITY</code>).</li><li>In the second form, <em class="replaceable"><code>rlimit</code></em>
       is an <span class="type">RLIMIT</span> structure.</li><li>In the third form,
       <em class="replaceable"><code>rlimit-alist</code></em> is an <a href="http://www.lisp.org/HyperSpec/Body/glo_a.html#association_list" target="_top">alist</a>, as returned by
       <code class="code">(<a href="syscalls.html#rlimit"><code class="function">POSIX:RLIMIT</code></a>)</code>.</li></ol></div></dd><dt><a id="usage"></a><code class="code">(<code class="function">POSIX:USAGE</code>)</code></dt><dd>Return 2 structures describing the resource usage by
    the lisp process and its children, derived from <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getrusage.html" target="_top"><code class="function">getrusage</code></a>.
  </dd><dt><code class="code">(<code class="function">POSIX:ERF</code> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:ERFC</code> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:J0</code> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:J1</code> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:JN</code> <em class="replaceable"><code>integer</code></em> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:Y0</code> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:Y1</code> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:YN</code> <em class="replaceable"><code>integer</code></em> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:GAMMA</code> <em class="replaceable"><code>real</code></em>)</code><br /><code class="code">(<code class="function">POSIX:LGAMMA</code> <em class="replaceable"><code>real</code></em>)</code></dt><dd><p>Compute the error functions, Bessel functions and
   Gamma.  These functions are required by the POSIX standard and should
   be available in <code class="filename">libm.so</code>.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Please note that these functions do not provide
    lisp-style error handling and precision, and do all the computations
    at the <a href="http://www.lisp.org/HyperSpec/Body/typ_short-flo_m_long-float.html" target="_top"><code class="classname">DOUBLE-FLOAT</code></a> level.</p></div></dd><dt><a id="stream-lock"></a>
   <code class="code">(<code class="function">POSIX:STREAM-LOCK</code> <em class="replaceable"><code>stream</code></em>
    <em class="replaceable"><code>lock-p</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    (:BLOCK <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>) (:SHARED <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>) (:START 0) (:END <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>))</code></dt><dd>This is an interface to the <a href="http://www.opengroup.org/onlinepubs/007904975/functions/fcntl.html" target="_top"><code class="function">fcntl</code></a> system call.
   It sets or removes a file lock for the (portion of the) file associated
   with <em class="replaceable"><code>stream</code></em>, depending on <em class="replaceable"><code>lock-p</code></em>.
   When <em class="replaceable"><code>block</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, the call is non-blocking,
   and when the file is already locked, it <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
   When <em class="replaceable"><code>shared</code></em> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>,
   then lock can be shared between several callers.
   Several processes can set a <em class="replaceable"><code>shared</code></em>
   (i.e., <span class="emphasis"><em>read</em></span>) lock, but only one can set
   an <em class="replaceable"><code>exclusive</code></em> (i.e., <span class="emphasis"><em>write</em></span>,
   or non-<em class="replaceable"><code>shared</code></em>) lock.
 </dd><dt><a id="with-stream-lock"></a>
   <code class="code">(<code class="function">POSIX:WITH-STREAM-LOCK</code> (<em class="replaceable"><code>stream</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>options</code></em>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><code class="literal">&amp;BODY</code></a> <em class="replaceable"><code>body</code></em>)</code></dt><dd>Lock the <em class="replaceable"><code>stream</code></em>, execute the <em class="replaceable"><code>body</code></em>, unlock
    the <em class="replaceable"><code>stream</code></em>.  Pass <em class="replaceable"><code>options</code></em> to
    <a href="syscalls.html#stream-lock"><code class="function">POSIX:STREAM-LOCK</code></a>.
 </dd><dt><a id="mknod"></a><code class="code">(<code class="function">POSIX:MKNOD</code>
    <em class="replaceable"><code>pathname</code></em> <em class="replaceable"><code>type</code></em> <em class="replaceable"><code>mode</code></em>)</code></dt><dd>Create a special file using <a href="http://www.opengroup.org/onlinepubs/007904975/functions/mknod.html" target="_top"><code class="function">mknod</code></a>.
   Use <code class="literal">:FIFO</code> to create pipes
   and <code class="literal">:SOCK</code> to create sockets.
 </dd><dt><a id="convert-modes"></a><code class="code">(<code class="function">POSIX:CONVERT-MODE</code> <em class="replaceable"><code>mode</code></em>)</code></dt><dd>Convert between numeric, (e.g., <code class="literal">0644</code>)
    and symbolic (e.g., <span class="data"><code class="literal">(:RUSR :WUSR :RGRP
     :ROTH)</code></span>) file modes.</dd><dt><a id="umask"></a><code class="code">(<code class="function">UMASK</code>
    <em class="replaceable"><code>mode</code></em>)</code></dt><dd>Change process mask using <a href="http://www.opengroup.org/onlinepubs/007904975/functions/umask.html" target="_top"><code class="function">umask</code></a>.
 </dd><dt><a id="copy-file"></a>
   <code class="code">(<code class="function">POSIX:COPY-FILE</code> <em class="replaceable"><code>source</code></em> <em class="replaceable"><code>destination</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :METHOD :PRESERVE :IF-EXISTS :IF-DOES-NOT-EXIST)</code></dt><dd><p>This is an interface to the <a href="http://www.opengroup.org/onlinepubs/007904975/functions/symlink.html" target="_top"><code class="function">symlink</code></a>
    (when <em class="replaceable"><code>method</code></em> is <code class="constant">:SYMLINK</code>),
    <a href="http://www.opengroup.org/onlinepubs/007904975/functions/link.html" target="_top"><code class="function">link</code></a> (when it is <code class="constant">:HARDLINK</code>), and <a href="http://www.opengroup.org/onlinepubs/007904975/functions/rename.html" target="_top"><code class="function">rename</code></a>
    (when it is <code class="constant">:RENAME</code>) system calls, as well as,
    you guessed it, a generic file copy utility (when <em class="replaceable"><code>method</code></em> is <code class="constant">:COPY</code>).
   </p><p>Both <em class="replaceable"><code>source</code></em> and <em class="replaceable"><code>destination</code></em> may be wild.
 </p></dd><dt><a id="dup-handle"></a>
   <code class="code">(<code class="function">POSIX:DUPLICATE-HANDLE</code>
    <em class="replaceable"><code>fd1</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>fd2</code></em>)</code></dt><dd>This is an interface to the <a href="http://www.opengroup.org/onlinepubs/007904975/functions/dup.html" target="_top"><code class="function">dup</code></a> system calls on
   <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> systems and to <code class="function">DuplicateHandle</code> system
   call on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>.</dd><dt><code class="code">(OS:SHORTCUT-INFO <em class="replaceable"><code>pathname</code></em>)</code></dt><dd>Return information about a <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> shortcut
    (<code class="filename">#P".lnk"</code>) file contents in a
    <span class="type">SHORTCUT-INFO</span> structure.</dd><dt><code class="code">(OS:MAKE-SHORTCUT <em class="replaceable"><code>pathname</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    :WORKING-DIRECTORY :ARGUMENTS :SHOW-COMMAND :ICON :DESCRIPTION
    :HOT-KEY :PATH)</code></dt><dd>Create (or modify the properties of an existing one)
    a <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> shortcut (<code class="filename">#P".lnk"</code>) file.
 </dd><dt><code class="code">(OS:SYSTEM-INFO)</code></dt><dd>Return <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> system information in a
    <span class="type">SYSTEM-INFO</span> structure.</dd><dt><code class="code">(OS:VERSION)</code></dt><dd>Return <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> version information in a
    <span class="type">VERSION</span> structure.</dd><dt><code class="code">(OS:MEMORY-STATUS)</code></dt><dd>Return <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> memory status information in a
    <span class="type">MEMORY-STATUS</span> structure.</dd><dt><code class="code">(OS:FILE-PROPERTIES filename set
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :INITID <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></dt><dd><p>Wrapper for the <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>
    <code class="function">IPropertyStorage</code> functionality.
    </p><div class="variablelist"><dl><dt><em class="replaceable"><code>filename</code></em></dt><dd>name of a compound file (where properties are stored)
      or (on NTFS) name of any file (properties are stored in the filesystem).
      For compound files on NTFS, file storage is preferred.
     </dd><dt><em class="replaceable"><code>set</code></em></dt><dd>property set, either <code class="constant">:BUILT-IN</code>
        or <code class="constant">:USER-DEFINED</code>
     </dd><dt><code class="constant">:INITID</code>
       <em class="replaceable"><code>init-id</code></em></dt><dd>set the <em class="replaceable"><code>init-id</code></em>
     </dd><dt><em class="replaceable"><code>specifier value</code></em></dt><dd><div class="variablelist"><dl><dt><em class="replaceable"><code>specifier</code></em></dt><dd><p>the property specifier: an <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a>,
            <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of an <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a> or a
            <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> and a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>.
            </p><div class="variablelist"><dl><dt><a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a></dt><dd>a property identifier
             </dd><dt><a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a></dt><dd><p>Predefined <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> IDs are
                </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:APPNAME</code></td><td><code class="constant">:CREATE-DTM</code></td><td><code class="constant">:LASTPRINTED</code></td><td><code class="constant">:SUBJECT</code></td></tr><tr><td><code class="constant">:AUTHOR</code></td><td><code class="constant">:DOC-SECURITY</code></td><td><code class="constant">:LASTSAVE-DTM</code></td><td><code class="constant">:TEMPLATE</code></td></tr><tr><td><code class="constant">:CHARCOUNT</code></td><td><code class="constant">:EDITTIME</code></td><td><code class="constant">:LOCALE</code></td><td><code class="constant">:THUMBNAIL</code></td></tr><tr><td><code class="constant">:CODEPAGE</code></td><td><code class="constant">:KEYWORDS</code></td><td><code class="constant">:PAGECOUNT</code></td><td><code class="constant">:TITLE</code></td></tr><tr><td><code class="constant">:COMMENTS</code></td><td><code class="constant">:LASTAUTHOR</code></td><td><code class="constant">:REVNUMBER</code></td><td><code class="constant">:WORDCOUNT</code></td></tr></table></dd><dt><a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a></dt><dd>string property specifier.
                If no match is found, the first ID &gt;= init-id
                (which defaults to 2) is associated with the
                string and its value is replaced with new value.
             </dd><dt>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a>|<a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a>
               <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>)</dt><dd>the first element is used as
                a specifier, the string is associated with this ID.
            </dd></dl></div><p>
           </p></dd><dt><em class="replaceable"><code>value</code></em></dt><dd><p>the new value of the property, a suitable Lisp
            object, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of a <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> and the value
            itself.  If <em class="replaceable"><code>value</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, no assignment is done.
            <code class="constant">:EMPTY</code> and <code class="constant">:NULL</code>
            correspond to the <span class="type">VT_EMPTY</span>
            and <span class="type">VT_NULL</span> data types.
            <a href="http://www.lisp.org/HyperSpec/Body/typ_keyword.html" target="_top"><code class="classname">KEYWORD</code></a> in the <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> specifies the desired type of
            the property being set.
            Supported types are</p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:BOOL</code></td><td><code class="constant">:I1</code></td><td><code class="constant">:LPWSTR</code></td><td><code class="constant">:UI4</code></td></tr><tr><td><code class="constant">:BSTR</code></td><td><code class="constant">:I2</code></td><td><code class="constant">:R4</code></td><td><code class="constant">:UI8</code></td></tr><tr><td><code class="constant">:DATE</code></td><td><code class="constant">:I4</code></td><td><code class="constant">:R8</code></td><td><code class="constant">:UINT</code></td></tr><tr><td><code class="constant">:ERROR</code></td><td><code class="constant">:I8</code></td><td><code class="constant">:UI1</code></td><td> </td></tr><tr><td><code class="constant">:FILETIME</code></td><td><code class="constant">:LPSTR</code></td><td><code class="constant">:UI2</code></td><td> </td></tr></table><p>
            <span class="type">FILETIME</span>s are converted to/from the universal
            time format, while <span class="type">DATE</span>s are not.
       </p></dd></dl></div><p>
    </p></dd></dl></div><p>
    Returns the property contents before assignment as multiple values.
 </p></dd><dt><code class="code">(POSIX:CRYPT <em class="replaceable"><code>key</code></em>
    <em class="replaceable"><code>salt</code></em>)</code></dt><dd>Call <a href="http://www.opengroup.org/onlinepubs/007904975/functions/crypt.html" target="_top"><code class="function">crypt</code></a>, arguments are <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>s.
 </dd><dt><a id="encrypt"></a><code class="code">(POSIX:ENCRYPT <em class="replaceable"><code>block</code></em>
    <em class="replaceable"><code>decrypt-p</code></em>)</code><br /><code class="code">(POSIX:SETKEY <em class="replaceable"><code>key</code></em>)</code></dt><dd>Call <a href="http://www.opengroup.org/onlinepubs/007904975/functions/encrypt.html" target="_top"><code class="function">encrypt</code></a> and <a href="http://www.opengroup.org/onlinepubs/007904975/functions/setkey.html" target="_top"><code class="function">setkey</code></a>, respectively.
    <em class="replaceable"><code>block</code></em> and <em class="replaceable"><code>key</code></em> are of type
    <span class="type"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/fun_vector.html" target="_top"><code class="function">VECTOR</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><code class="classname">UNSIGNED-BYTE</code></a> 8) 8)</code></span>.
    <em class="replaceable"><code>decrypt-p</code></em> is <a href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><code class="classname">BOOLEAN</code></a>.
 </dd><dt><a id="phys-mem"></a><code class="code">(OS:PHYSICAL-MEMORY)</code></dt><dd><p>Return 2 values: total and available physical memory.
   </p><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a>, <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> platforms only.</span></span></p></dd><dt><a id="file-owner"></a><code class="code">(OS:FILE-OWNER
    <em class="replaceable"><code>filename</code></em>)</code></dt><dd><p>Return the owner of the file.</p><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a>, <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> platforms only.</span></span></p></dd><dt><a id="priority"></a><code class="code">(OS:PRIORITY <em class="replaceable"><code>pid</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>what</code></em>)</code></dt><dd><p>Return the process priority, platform-dependent
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_integer.html" target="_top"><code class="classname">INTEGER</code></a> or platform-independent <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>, one of
    </p><table class="simplelist" border="0" summary="Simple list"><tr><td><code class="constant">:REALTIME</code></td><td><code class="constant">:NORMAL</code></td><td><code class="constant">:IDLE</code></td></tr><tr><td><code class="constant">:HIGH</code></td><td><code class="constant">:BELOW-NORMAL</code></td><td> </td></tr><tr><td><code class="constant">:ABOVE-NORMAL</code></td><td><code class="constant">:LOW</code></td><td> </td></tr></table><p>
    On <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getpriority.html" target="_top"><code class="function">getpriority</code></a>, on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> calls
    <code class="function">GetPriorityClass</code>.</p><p><a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a>able using <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getpriority.html" target="_top"><code class="function">setpriority</code></a> and
    <code class="function">SetPriorityClass</code>.</p></dd><dt><a id="process-id"></a><code class="code">(OS:PROCESS-ID)</code></dt><dd>Return the process ID (on <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getpid.html" target="_top"><code class="function">getpid</code></a>,
    on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> calls <code class="function">GetCurrentProcessId</code>)
 </dd><dt><a id="openlog"></a><code class="code">(POSIX:OPENLOG ident <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    :PID :CONS :NDELAY :ODELAY :NOWAIT :FACILITY)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/openlog.html" target="_top"><code class="function">openlog</code></a></dd><dt><a id="setlogmask"></a><code class="code">(POSIX:SETLOGMASK
    maskpri)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/setlogmask.html" target="_top"><code class="function">setlogmask</code></a></dd><dt><a id="syslog"></a><code class="code">(POSIX:SYSLOG severity facility
    <em class="replaceable"><code>format-string</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>arguments</code></em>)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/syslog.html" target="_top"><code class="function">syslog</code></a> on <code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><code class="function">FORMAT</code></a> <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
     <em class="replaceable"><code>format-string</code></em> <em class="replaceable"><code>arguments</code></em>)</code></dd><dt><a id="closelog"></a><code class="code">(POSIX:CLOSELOG)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/closelog.html" target="_top"><code class="function">closelog</code></a></dd><dt><a id="kill"></a><code class="code">(POSIX:KILL <em class="replaceable"><code>pid</code></em> <em class="replaceable"><code>signal</code></em>)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/kill.html" target="_top"><code class="function">kill</code></a></dd><dt><a id="getpgrp"></a><code class="code">(POSIX:GETPGRP <em class="replaceable"><code>pid</code></em>)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getpgrp.html" target="_top"><code class="function">getpgrp</code></a></dd><dt><a id="setpgrp"></a><code class="code">(POSIX:SETPGRP)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/setpgrp.html" target="_top"><code class="function">setpgrp</code></a>; on non-POSIX systems where
    it requires 2 arguments (legacy BSD-style), it is called
    as <code class="code"><a href="http://www.opengroup.org/onlinepubs/007904975/functions/setpgrp.html" target="_top"><code class="function">setpgrp</code></a>(0,0)</code></dd><dt><a id="getsid"></a><code class="code">(POSIX:GETSID <em class="replaceable"><code>pid</code></em>)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getsid.html" target="_top"><code class="function">getsid</code></a></dd><dt><a id="setsid"></a><code class="code">(POSIX:SETSID)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/setsid.html" target="_top"><code class="function">setsid</code></a></dd><dt><a id="setpgid"></a><code class="code">(POSIX:SETPGID
    <em class="replaceable"><code>pid</code></em> <em class="replaceable"><code>pgid</code></em>)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/setpgid.html" target="_top"><code class="function">setpgid</code></a></dd><dt><a id="endutxent"></a><code class="code">(POSIX:ENDUTXENT)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/endutxent.html" target="_top"><code class="function">endutxent</code></a></dd><dt><a id="getutxent"></a><code class="code">(POSIX:GETUTXENT
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> utmpx)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getutxent.html" target="_top"><code class="function">getutxent</code></a>, returns a <a href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><code class="classname">STRUCTURE-OBJECT</code></a> of
    type <span class="type">POSIX:UTMPX</span>, which can be passed to subsequent calls to
    this function and re-used.</dd><dt><a id="getutxid"></a><code class="code">(POSIX:GETUTXID id)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getutxid.html" target="_top"><code class="function">getutxid</code></a>,
    the argument is filled and returned</dd><dt><a id="getutxline"></a><code class="code">(POSIX:GETUTXLINE line)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/getutxline.html" target="_top"><code class="function">getutxline</code></a>,
    the argument is filled and returned</dd><dt><a id="pututxline"></a><code class="code">(POSIX:PUTUTXLINE
    utmpx)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/pututxline.html" target="_top"><code class="function">pututxline</code></a>,
    the argument is filled and returned</dd><dt><a id="setutxent"></a><code class="code">(POSIX:SETUTXENT)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/setutxent.html" target="_top"><code class="function">setutxent</code></a></dd><dt><a id="mkstemp"></a><code class="code">(POSIX:MKSTEMP <em class="replaceable"><code>filename</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:DIRECTION</code> <a href="stream-dict.html#eltype"><code class="constant">:ELEMENT-TYPE</code></a> <a href="stream-dict.html#extfmt"><code class="constant">:EXTERNAL-FORMAT</code></a> <a href="stream-dict.html#buffered"><code class="constant">:BUFFERED</code></a>)</code></dt><dd><p>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/mkstemp.html" target="_top"><code class="function">mkstemp</code></a>, returns a <a href="http://www.lisp.org/HyperSpec/Body/syscla_file-stream.html" target="_top"><code class="classname">FILE-STREAM</code></a>.</p><p><code class="constant">:DIRECTION</code> should allow output.</p><p>When <a href="http://www.opengroup.org/onlinepubs/007904975/functions/mkstemp.html" target="_top"><code class="function">mkstemp</code></a> is missing, use <a href="http://www.opengroup.org/onlinepubs/007904975/functions/tempnam.html" target="_top"><code class="function">tempnam</code></a>.
    On <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a> use <code class="function">GetTempFileName</code>.
 </p></dd><dt><a id="mkdtemp"></a><code class="code">(POSIX:MKDTEMP
    <em class="replaceable"><code>filename</code></em>)</code></dt><dd>calls <code class="function">mkdtemp</code> (similar to
    <a href="http://www.opengroup.org/onlinepubs/007904975/functions/mkstemp.html" target="_top"><code class="function">mkstemp</code></a> but not in POSIX), returns the namestring of a new empty
    temporary directory.</dd><dt><a id="sync"></a><code class="code">(POSIX:SYNC <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a>
    <em class="replaceable"><code>stream</code></em>)</code></dt><dd>calls <a href="http://www.opengroup.org/onlinepubs/007904975/functions/fsync.html" target="_top"><code class="function">fsync</code></a> (<code class="function">FlushFileBuffers</code>
    on <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>) on the <a href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap03.html#tag_03_165" target="_top">file descriptor</a> associated with <em class="replaceable"><code>stream</code></em>, or <a href="http://www.opengroup.org/onlinepubs/007904975/functions/sync.html" target="_top"><code class="function">sync</code></a>
    when <em class="replaceable"><code>stream</code></em> is not supplied</dd><dt><a id="mk-xterm-io"></a>(<a href="syscalls.html#mk-xterm-io"><code class="function">POSIX:MAKE-XTERM-IO-STREAM</code></a>)</dt><dd><p>When running under the <a href="http://www.x.org/" target="_top">X Window System</a>, you can create a <a href="http://www.lisp.org/HyperSpec/Body/glo_b.html#bidirectional" target="_top">bidirectional</a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>,
    which uses a new dedicated xterm, using the function <a href="syscalls.html#mk-xterm-io"><code class="function">POSIX:MAKE-XTERM-IO-STREAM</code></a>:
</p><pre class="programlisting">
  (<a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><code class="function">SETQ</code></a> <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><code class="varname">*ERROR-OUTPUT*</code></a>
        (<a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><code class="function">SETQ</code></a> <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><code class="varname">*DEBUG-IO*</code></a>
             (<a href="syscalls.html#mk-xterm-io"><code class="function">POSIX:MAKE-XTERM-IO-STREAM</code></a>)))
</pre><p><span class="plat-dep">Platform Dependent: <span class="plat-dep"><a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> platform only.</span></span></p></dd></dl></div></div><div class="bookinfo"><hr width="100%" /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version 2.34.</td><td align="right">Last modified: 2005-07-20</td></th></table></div><div class="custom-footer"><hr width="100%" /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://www.gnu.org"><img src="http://www.gnu.org/graphics/gnubanner.jpg" width="468" height="60" alt="[Come and see what GNU creates for YOU]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=syscalls" /></a></td></tr></table></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="i18n-mod.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ext-modules.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="oracle.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">32.9. Internationalization of User Programs </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 32.11. Oracle Interface</td></tr></table></div></body></html>
