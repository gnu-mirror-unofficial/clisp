<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>29.1. Meta-Object Protocol</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@lists.sourceforge.net" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot_2006-10-11_0449" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP" /><link rel="up" href="ext-standard.html" title="Chapter 29. Standard Widely Portable Extensions" /><link rel="prev" href="ext-standard.html" title="Chapter 29. Standard Widely Portable Extensions" /><link rel="next" href="gray.html" title="29.2. Gray streams" /><link rel="copyright" href="ln-legalese.html" title="Legal Status of the CLISP Implementation Notes" /><meta name="date" content="'generated: 2006-10-13 00:03:08-04:00'" /><link rel="author" title="Authors" href="index.html#authors" /><link rel="contents" title="Table of Contents" href="index.html" /><link rel="glossary" href="glossary.html" /><link rel="help" href="faq.html#faq-help" title="How do I ask for help?" /><link rel="home" title="Home" href="http://clisp.cons.org" /><link rel="index" href="idx.html" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.1. Meta-Object Protocol</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ext-standard.html">Prev</a> </td><th width="60%" align="center">Chapter 29. Standard Widely Portable Extensions</th><td width="20%" align="right"> <a accesskey="n" href="gray.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="mop-chap"></a>29.1. Meta-Object Protocol</h2></div><div><h3 class="subtitle">Adapted from chapters 5 and 6 of [<a href="references.html#amop"><abbr class="abbrev">AMOP</abbr></a>]</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-intro">29.1.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-intro-notation">29.1.1.1. Notation</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-package">29.1.1.2. Package</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-overview">29.1.2. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-metaobjects">29.1.2.1. Metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-mo-classes">29.1.2.1.1. Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-slot-defs">29.1.2.1.2. Slot Definitions</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-gen-funs">29.1.2.1.3. Generic Functions</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-methods">29.1.2.1.4. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-spec">29.1.2.1.5. Specializers</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-meth-combs">29.1.2.1.6. Method Combinations</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-mo-cl-inheritance">29.1.2.2. Inheritance Structure of Metaobject Classes</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-ov-impl-and-user-spec">29.1.2.2.1. Implementation and User Specialization</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-ui-macro">29.1.2.3. Processing of the User Interface Macros</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-compile-ui-macro">29.1.2.3.1. Compile-file Processing of the User Interface Macros</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-ov-ui-others">29.1.2.3.2. Compile-file Processing of Specific User Interface Macros</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-ov-mo-init">29.1.2.4. Metaobject Initialization Protocol</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-classes">29.1.3. Classes</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-cl-defclass">29.1.3.1. Macro <code class="function">DEFCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-Inheritance">29.1.3.2. Inheritance Structure of class metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-readers">29.1.3.3. Introspection: Readers for class metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#class-name">29.1.3.3.1. Generic Function <code class="function">CLASS-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-superclasses">29.1.3.3.2. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-slots">29.1.3.3.3. Generic Function <code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-default-initargs">29.1.3.3.4. Generic Function <code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#cpl">29.1.3.3.5. Generic Function <code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-subclasses">29.1.3.3.6. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-slots">29.1.3.3.7. Generic Function <code class="function">CLOS:CLASS-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-default-initargs">29.1.3.3.8. Generic Function <code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-finalized-p">29.1.3.3.9. Generic Function <code class="function">CLOS:CLASS-FINALIZED-P</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-prototype">29.1.3.3.10. Generic Function <code class="function">CLOS:CLASS-PROTOTYPE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-readers-methods">29.1.3.3.11. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-finalization">29.1.3.4. Class Finalization Protocol</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-init">29.1.3.5. Class Initialization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-cl-init-mo">29.1.3.5.1. Initialization of class metaobjects</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-reinit-mo">29.1.3.5.2. Reinitialization of class metaobjects</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-customize">29.1.3.6. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#setf-class-name">29.1.3.6.1. Generic Function <code class="code">(SETF CLASS-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-class">29.1.3.6.2. Generic Function <code class="function">CLOS:ENSURE-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-class-UC">29.1.3.6.3. Generic Function <code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#finalize-inheritance">29.1.3.6.4. Generic Function <code class="function">CLOS:FINALIZE-INHERITANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-make-instance">29.1.3.6.5. Generic Function <code class="function">MAKE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#alloc-instance">29.1.3.6.6. Generic Function <code class="function">ALLOCATE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#validate-superclass">29.1.3.6.7. Generic Function <code class="function">CLOS:VALIDATE-SUPERCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-dsd-initargs">29.1.3.6.8. Generic Function <code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#dsd-class">29.1.3.6.9. Generic Function <code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-cpl">29.1.3.6.10. Generic Function <code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-slots">29.1.3.6.11. Generic Function <code class="function">CLOS:COMPUTE-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-esd">29.1.3.6.12. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-esd-initargs">29.1.3.6.13. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#esd-class">29.1.3.6.14. Generic Function <code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-default-initargs">29.1.3.6.15. Generic Function <code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-dep">29.1.3.7. Updating Dependencies</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#add-direct-subclass">29.1.3.7.1. Generic Function <code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-direct-subclass">29.1.3.7.2. Generic Function <code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-sd">29.1.4. Slot Definitions</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-sd-inheritance">29.1.4.1. Inheritance Structure of slot definition metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-sd-readers">29.1.4.2. Introspection: Readers for slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-sd-readers-GFs">29.1.4.2.1. Generic Functions</a></span></dt><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-methods">29.1.4.2.2. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-dsd">29.1.4.2.3. Readers for direct slot definition metaobjects</a></span></dt><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-esd">29.1.4.2.4. Readers for effective slot definition metaobjects</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-sd-init">29.1.4.3. Initialization of slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-mo-methods">29.1.4.3.1. Methods</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-gf">29.1.5. Generic Functions</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-gf-inheritance">29.1.5.1. Inheritance Structure of generic function metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-readers">29.1.5.2. Introspection: Readers for generic function metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#gf-name">29.1.5.2.1. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-methods">29.1.5.2.2. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-lambda-list">29.1.5.2.3. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-argument-precedence-order">29.1.5.2.4. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-declarations">29.1.5.2.5. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-DECLARATIONS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-method-class">29.1.5.2.6. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-method-combination">29.1.5.2.7. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHOD-COMBINATION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-name-methods">29.1.5.2.8. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-gf-init">29.1.5.3. Initialization of Generic Functions</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-gf-init-defgeneric">29.1.5.3.1. Macro <code class="function">DEFGENERIC</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-invocation">29.1.5.3.2. Generic Function Invocation Protocol</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-init-mo">29.1.5.3.3. Initialization of generic function metaobjects</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-gf-customize">29.1.5.4. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#setf-gf-name">29.1.5.4.1. Generic Function <code class="code">(SETF CLOS:GENERIC-FUNCTION-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-gf">29.1.5.4.2. Generic Function <code class="function">ENSURE-GENERIC-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-gf-UC">29.1.5.4.3. Generic Function <code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-add-method">29.1.5.4.4. Generic Function <code class="function">ADD-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-remove-method">29.1.5.4.5. Generic Function <code class="function">REMOVE-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-applicable-methods">29.1.5.4.6. Generic Function <code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-applicable-methods-UC">29.1.5.4.7. Generic Function <code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-effective-method">29.1.5.4.8. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-effective-method-as-function">29.1.5.4.9. Function <code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#make-method-lambda">29.1.5.4.10. Generic Function <code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-discriminating-function">29.1.5.4.11. Generic Function <code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth">29.1.6. Methods</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-inheritance">29.1.6.1. Inheritance Structure of method metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-mo-readers">29.1.6.2. Introspection: Readers for method metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#method-specializers">29.1.6.2.1. Generic Function <code class="function">CLOS:METHOD-SPECIALIZERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-qualifiers">29.1.6.2.2. Generic Function <code class="function">METHOD-QUALIFIERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-lambda-list">29.1.6.2.3. Generic Function <code class="function">CLOS:METHOD-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-gf">29.1.6.2.4. Generic Function <code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-function">29.1.6.2.5. Generic Function <code class="function">CLOS:METHOD-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-mo-readers-methods">29.1.6.2.6. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth-init">29.1.6.3. Initialization of Methods</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod">29.1.6.3.1. Macro <code class="function">DEFMETHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-init-mo">29.1.6.3.2. Initialization of method metaobjects</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth-customize">29.1.6.4. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#extract-lambda-list">29.1.6.4.1. Function <code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#extract-specializer-names">29.1.6.4.2. Function <code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-accessors">29.1.7. Accessor Methods</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-acc-readers">29.1.7.1. Introspection</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#accessor-method-slotdef">29.1.7.1.1. Generic Function <code class="function">CLOS:ACCESSOR-METHOD-SLOT-DEFINITION</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-acc-customize">29.1.7.2. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#reader-method-class">29.1.7.2.1. Generic Function <code class="function">CLOS:READER-METHOD-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#writer-method-class">29.1.7.2.2. Generic Function <code class="function">CLOS:WRITER-METHOD-CLASS</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-specializers">29.1.8. Specializers</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-specializers-inheritance">29.1.8.1. Inheritance Structure of Specializer Metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-spec-readers">29.1.8.2. Introspection</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#eql-specializer-object">29.1.8.2.1. Function <code class="function">CLOS:EQL-SPECIALIZER-OBJECT</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-spec-init">29.1.8.3. Initialization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#intern-eql-specializer">29.1.8.3.1. Function <code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-spec-dep">29.1.8.4. Updating Dependencies</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#specializer-direct-methods">29.1.8.4.1. Generic Function <code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#specializer-direct-gfs">29.1.8.4.2. Generic Function <code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#add-direct-method">29.1.8.4.3. Generic Function <code class="function">CLOS:ADD-DIRECT-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-direct-method">29.1.8.4.4. Generic Function <code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth-comb">29.1.9. Method Combinations</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-comb-inheritance">29.1.9.1. Inheritance Structure of method combination metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-comb-customize">29.1.9.2. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#find-method-combination">29.1.9.2.1. Generic Function <code class="function">CLOS:FIND-METHOD-COMBINATION</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-slot-access">29.1.10. Slot Access</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-sa-instance-stuct">29.1.10.1. Instance Structure Protocol</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-sa-funcallable">29.1.10.2. Funcallable Instances</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-sa-customize">29.1.10.3. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#standard-instance-access">29.1.10.3.1. Function <code class="function">CLOS:STANDARD-INSTANCE-ACCESS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#funcallable-standard-instance-access">29.1.10.3.2. Function <code class="function">CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#set-fif">29.1.10.3.3. Function <code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-value-UC">29.1.10.3.4. Generic Function <code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#setf-slot-value-UC">29.1.10.3.5. Generic Function <code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-boundp-UC">29.1.10.3.6. Generic Function <code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-makunbound-UC">29.1.10.3.7. Generic Function <code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-dep-maint">29.1.11. Dependent Maintenance</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-dep-maint-protocol">29.1.11.1. Protocol</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#update-dependent">29.1.11.1.1. Generic Function <code class="function">CLOS:UPDATE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#add-dependent">29.1.11.1.2. Generic Function <code class="function">CLOS:ADD-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-dependent">29.1.11.1.3. Generic Function <code class="function">CLOS:REMOVE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#map-dependents">29.1.11.1.4. Generic Function <code class="function">CLOS:MAP-DEPENDENTS</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-clisp">29.1.12. Deviations from [<abbr class="abbrev">AMOP</abbr>]</a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-intro"></a>29.1.1. Introduction</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-intro-notation">29.1.1.1. Notation</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-package">29.1.1.2. Package</a></span></dt></dl></div><p>The <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> specification ([<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] Chanpter 7) describes the
standard Programmer Interface for the <a href="http://www.lisp.org" target="_top"><span><strong class="command">Common Lisp</strong></span></a> Object System (<a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a>).  This
document extends that specification by defining a metaobject protocol
for <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> - that is, a description of <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> itself as an extensible
<a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> program.  In this description, the fundamental elements of <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a>
programs (classes, slot definitions, generic functions, methods,
specializers and method combinations) are represented by first-class
objects.  The behavior of <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> is provided by these objects, or, more
precisely, by methods specialized to the classes of these objects.
</p><p>Because these objects represent pieces of <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> programs, and
because their behavior provides the behavior of the <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> language
itself, they are considered meta-level objects or metaobjects.  The
protocol followed by the metaobjects to provide the behavior of <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a>
is called the <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> “<span class="quote">Metaobject Protocol</span>” (MOP).</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-intro-notation"></a>29.1.1.1. Notation</h4></div></div></div><p>The description of functions follows the same form as used in the
<a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> specification.  The description of generic functions is similar
to that in the <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> specification, but some minor changes have been
made in the way methods are presented.</p><p>The following is an example of the format for the syntax
description of a generic function:
</p><pre class="programlisting">
(<code class="function">gf1</code> <em class="replaceable"><code>x</code></em> <em class="replaceable"><code>y</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>v</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <em class="replaceable"><code>k</code></em>)
</pre><p>This description indicates that <code class="function">gf1</code> is a
generic function with two required parameters, <em class="replaceable"><code>x</code></em> and <em class="replaceable"><code>y</code></em>, an
optional parameter <em class="replaceable"><code>v</code></em> and a keyword parameter <em class="replaceable"><code>k</code></em>.</p><p>The description of a generic function includes a description of
its behavior.  This provides the general behavior, or protocol of the
generic function.  All methods defined on the generic function, both
portable and specified, must have behavior consistent with this
description.</p><p>Every generic function described here is an instance of the class
<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> and uses the <a href="http://www.lisp.org/HyperSpec/Body/sec_7-6-6-2.html" target="_top"><code class="function">STANDARD</code></a> method
combination.</p><p>The description of a generic function also includes descriptions
of the specified methods for that generic function.  In the description
of these methods, a <strong class="first"><em class="firstterm">method signature</em></strong> is used to
describe the parameters and parameter specializers of each method. The
following is an example of the format for a method signature:
</p><pre class="programlisting">
<span class="method"><code class="literal">(<code class="function">gf1</code> (<em class="replaceable"><code>x</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) <em class="replaceable"><code>y</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> <em class="replaceable"><code>v</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <em class="replaceable"><code>k</code></em>)</code></span>
</pre><p>This signature indicates that this primary method on the generic
function <code class="function">gf1</code> has two required parameters, named
<em class="replaceable"><code>x</code></em> and <em class="replaceable"><code>y</code></em>.  In addition, there is an optional parameter <em class="replaceable"><code>v</code></em> and
a keyword parameter <em class="replaceable"><code>k</code></em>.  This signature also indicates that the
method's parameter specializers are the classes <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>.
</p><p>The description of each method includes a description of the
behavior particular to that method.</p><p>An abbreviated syntax is used when referring to a method defined
elsewhere in the document.  This abbreviated syntax includes the name of
the generic function, the qualifiers, and the parameter specializers.  A
reference to the method with the signature shown above is written as:
<span class="method"><code class="literal"><code class="function">gf1</code> (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span>.
</p></div>
<!--mop-intro-notation-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-package"></a>29.1.1.2. Package</h4></div></div></div><p>The package exporting the <a href="mop-chap.html" title="29.1. Meta-Object Protocol">Meta-Object Protocol</a> symbols is unspecified.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The symbols specified by the <a href="mop-chap.html" title="29.1. Meta-Object Protocol">Meta-Object Protocol</a> are
  exported from the package <a href="classes.html" title="4.2. Classes [CLHS-4.3]"><strong class="package">“<span class="quote">CLOS</span>”</strong></a> and <a href="pack-dict.html#re-export" title="11.5.3. Function EXT:RE-EXPORT"><code class="function">EXT:RE-EXPORT</code></a>ed from the package
  <a href="imppack.html#ext-pac"><strong class="package">“<span class="quote">EXT</span>”</strong></a>.</p></div><p>The package exporting the <a href="mop-chap.html" title="29.1. Meta-Object Protocol">Meta-Object Protocol</a> symbols is different in other
implementations: In <a href="http://sbcl.sourceforge.net/" target="_top"><span><strong class="command">SBCL</strong></span></a> it is the package
 <strong class="package">“<span class="quote">SB-MOP</span>”</strong>;
in <a href="http://openmcl.clozure.com/" target="_top"><span><strong class="command">OpenMCL</strong></span></a> it is the package
 <strong class="package">“<span class="quote">OPENMCL-MOP</span>”</strong>.</p></div>
<!--mop-package-->
</div>
<!--mop-intro-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-overview"></a>29.1.2. Overview</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-metaobjects">29.1.2.1. Metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-mo-classes">29.1.2.1.1. Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-slot-defs">29.1.2.1.2. Slot Definitions</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-gen-funs">29.1.2.1.3. Generic Functions</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-methods">29.1.2.1.4. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-spec">29.1.2.1.5. Specializers</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-meth-combs">29.1.2.1.6. Method Combinations</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-mo-cl-inheritance">29.1.2.2. Inheritance Structure of Metaobject Classes</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-ov-impl-and-user-spec">29.1.2.2.1. Implementation and User Specialization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-portable-restrictions">29.1.2.2.1.1. Restrictions on Portable Programs</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-impl-restrictions">29.1.2.2.1.2. Restrictions on Implementations</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-ui-macro">29.1.2.3. Processing of the User Interface Macros</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-compile-ui-macro">29.1.2.3.1. Compile-file Processing of the User Interface Macros</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-ov-ui-others">29.1.2.3.2. Compile-file Processing of Specific User Interface Macros</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-ov-mo-init">29.1.2.4. Metaobject Initialization Protocol</a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-metaobjects"></a>29.1.2.1. Metaobjects</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-mo-classes">29.1.2.1.1. Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-slot-defs">29.1.2.1.2. Slot Definitions</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-gen-funs">29.1.2.1.3. Generic Functions</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-methods">29.1.2.1.4. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-spec">29.1.2.1.5. Specializers</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-mo-meth-combs">29.1.2.1.6. Method Combinations</a></span></dt></dl></div><p>For each kind of program element there is a corresponding
 <strong class="first"><em class="firstterm">basic metaobject class
  <a id="mop-ba-mo-cl" class="indexterm"></a></em></strong>.
These are the classes: <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>, <a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a>,
<a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_method-combination.html" target="_top"><code class="classname">METHOD-COMBINATION</code></a>.
A <strong class="first"><em class="firstterm">metaobject class<a id="mo-cl" class="indexterm"></a></em></strong>
is a subclass of exactly one of these classes.
The results are undefined if an attempt is made to define a <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>
that is a subclass of more than one basic metaobject class.
A <strong class="first"><em class="firstterm">metaobject<a id="mop-mo" class="indexterm"></a></em></strong>
is an instance of a metaobject class.</p><p>Each metaobject represents one program element.  Associated with
each metaobject is the information required to serve its role.  This
includes information that might be provided directly in a user interface
macro such as <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>.  It also includes information
computed indirectly from other metaobjects such as that computed from
class inheritance or the full set of methods associated with a generic
function.</p><p>Much of the information associated with a metaobject is in the
form of connections to other metaobjects.  This interconnection means
that the role of a metaobject is always based on that of other
metaobjects.  As an introduction to this interconnected structure, this
section presents a partial enumeration of the kinds of information
associated with each kind of metaobject.  More detailed information is
presented later.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-mo-classes"></a>29.1.2.1.1. Classes</h5></div></div></div><p>A <strong class="first"><em class="firstterm">class metaobject
  <a id="mop-class-mo" class="indexterm"></a></em></strong>
determines the structure and the default behavior of its instances.
The following information is associated with <a href="mop-chap.html#mop-class-mo">class metaobject</a>s:

</p><div class="itemizedlist"><ul type="disc"><li>The name, if there is one, is available as an object.
</li><li>The direct subclasses, direct superclasses and class
  precedence list are available as lists of <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.</li><li>The slots defined directly in the class are available
  as a list of <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.  The slots which are accessible in instances of
  the class are available as a list of <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.</li><li>The methods which use the class as a specializer, and
  the generic functions associated with those methods are available as
  lists of method and <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s respectively.</li><li>The documentation is available as a
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</li></ul></div><p>See also <a href="mop-chap.html#mop-classes" title="29.1.3. Classes">Section 29.1.3, “Classes”</a></p></div>
<!--mop-mo-classes-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-mo-slot-defs"></a>29.1.2.1.2. Slot Definitions</h5></div></div></div><p>A <strong class="first"><em class="firstterm">slot definition metaobject
  <a id="mop-slot-def-mo" class="indexterm"></a></em></strong>
 contains information about the definition of a slot.
There are two kinds of <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s:
A <strong class="first"><em class="firstterm">direct<a id="mop-dsd-mo" class="indexterm"></a></em></strong>
 <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> is used to represent the direct definition of a slot in a class.
This corresponds roughly to the slot specifiers found in <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> forms.
An <strong class="first"><em class="firstterm">effective<a id="mop-esd-mo" class="indexterm"></a></em></strong>
 <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> is used to represent information, including inherited
 information, about a slot which is accessible in instances of a
 particular class.</p><p>Associated with each <a href="mop-chap.html#mop-class-mo">class metaobject</a> is a list of <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s representing the
slots defined directly in the class.  Also associated with each <a href="mop-chap.html#mop-class-mo">class metaobject</a>
is a list of <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s representing the set of slots accessible in
instances of that class.</p><p>The following information is associated with both direct and
effective slot definitions metaobjects:
</p><div class="itemizedlist"><ul type="disc"><li>The name, allocation, and type are available as forms
  that could appear in a <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</li><li>The initialization form, if there is one, is
  available as a form that could appear in a <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.  The
  initialization form together with its <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html" target="_top">lexical environment</a> is available
  as a function of no arguments which, when called, returns the result
  of evaluating the initialization form in its <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html" target="_top">lexical environment</a>. This
  is called the <strong class="first"><em class="firstterm">initfunction</em></strong> of the slot.
</li><li>The slot filling initialization arguments are
  available as a list of symbols.</li><li>The documentation is available as a
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</li></ul></div><p>Certain other information is only associated with <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.
 This information applies only to the direct definition of the slot in
 the class (it is not inherited).
</p><div class="itemizedlist"><ul type="disc"><li>The function names of those generic
  functions for which there are automatically generated reader and
  writer methods.  This information is available as lists of function
  names.  Any accessors specified in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form are broken down
  into their equivalent readers and writers in the direct slot
  definition.</li></ul></div><p>Information, including inherited information, which applies to the
definition of a slot in a particular class in which it is accessible is
associated only with <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.
</p><div class="itemizedlist"><ul type="disc"><li>For certain slots, the location of the
slot in instances of the class is available.
</li></ul></div><p>See also <a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions">Section 29.1.4, “Slot Definitions”</a></p></div>
<!--mop-mo-slot-defs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-mo-gen-funs"></a>29.1.2.1.3. Generic Functions</h5></div></div></div><p>A <strong class="first"><em class="firstterm">generic function metaobject
  <a id="mop-gen-fun-mo" class="indexterm"></a></em></strong>
 contains information about a generic function over and above the
 information associated with each of the generic function's methods.
</p><div class="itemizedlist"><ul type="disc"><li>The name is available as a function name.
</li><li>The methods associated with the generic function are
  available as a list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.</li><li>The default class for this generic function's <a href="mop-chap.html#mop-method-mo">method metaobject</a>s
  is available as a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</li><li>The <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> is available as a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a>.
</li><li>The method combination is available as a <a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a>.
</li><li>The argument precedence order is available as a
  permutation of those symbols from the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> which name the
  required arguments of the generic function.</li><li><p>The “<span class="quote">declarations</span>” are available as a
 list of <a href="http://www.lisp.org/HyperSpec/Body/glo_d.html#declaration_specifier" target="_top">declaration specifier</a>s.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>There is a slight misnomer in the naming of functions and
 options in this document: Where the term “<span class="quote">declaration</span>” is
 used, actually a <a href="http://www.lisp.org/HyperSpec/Body/glo_d.html#declaration_specifier" target="_top">declaration specifier</a> is meant.
</p></div></li><li>The documentation is available as a
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</li></ul></div><p>See also <a href="mop-chap.html#mop-gf" title="29.1.5. Generic Functions">Section 29.1.5, “Generic Functions”</a></p></div>
<!--mop-mo-gen-funs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-mo-methods"></a>29.1.2.1.4. Methods</h5></div></div></div><p>A <strong class="first"><em class="firstterm">method metaobject
  <a id="mop-method-mo" class="indexterm"></a></em></strong> contains information about a specific <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>.
</p><div class="itemizedlist"><ul type="disc"><li>The qualifiers are available as a
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of of non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> atoms.</li><li>The <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> is available as a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a>.
</li><li>The specializers are available as a list of
  specializer metaobjects.</li><li>The function is available as a <a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><code class="classname">FUNCTION</code></a>.  This
  function can be applied to arguments and a list of next methods using
  <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><code class="function">FUNCALL</code></a>.</li><li>When the method is associated with a generic
  function, that <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> is available.  A method can be associated with
  at most one generic function at a time.</li><li>The documentation is available as a
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</li></ul></div><p>See also <a href="mop-chap.html#mop-meth" title="29.1.6. Methods">Section 29.1.6, “Methods”</a></p></div>
<!--mop-mo-methods-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-mo-spec"></a>29.1.2.1.5. Specializers</h5></div></div></div><p>A <strong class="first"><em class="firstterm">specializer metaobject
  <a id="spec-mo" class="indexterm"></a></em></strong> represents the specializers of a <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>.
 <a href="mop-chap.html#mop-class-mo">class metaobject</a>s are themselves specializer metaobjects.  A special
 kind of specializer metaobject is used for <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializers.</p><p>See also <a href="mop-chap.html#mop-specializers" title="29.1.8. Specializers">Section 29.1.8, “Specializers”</a></p></div>
<!--mop-mo-spec-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-mo-meth-combs"></a>29.1.2.1.6. Method Combinations</h5></div></div></div><p>A <strong class="first"><em class="firstterm">method combination metaobject
  <a id="mop-meth-comp-mo" class="indexterm"></a></em></strong>
 represents the information about the method combination being used by a
 generic function.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This document does not specify the structure of <a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a>s.
</p></div><p>See also <a href="mop-chap.html#mop-meth-comb" title="29.1.9. Method Combinations">Section 29.1.9, “Method Combinations”</a></p></div>
<!--mop-mo-meth-combs-->
</div>
<!--mop-metaobjects-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-mo-cl-inheritance"></a>29.1.2.2. Inheritance Structure of Metaobject Classes</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-ov-impl-and-user-spec">29.1.2.2.1. Implementation and User Specialization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-portable-restrictions">29.1.2.2.1.1. Restrictions on Portable Programs</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-impl-restrictions">29.1.2.2.1.2. Restrictions on Implementations</a></span></dt></dl></dd></dl></div><div class="figure"><a id="mop-mo-cl-inheritance-fig"></a><p class="title"><b>Figure 29.1. Inheritance structure of metaobject classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-all.png" width="100%" alt="Inheritance structure of metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /><p>The inheritance structure of the specified metaobject classes is
 shown in <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships&#10;  Among The Specified Metaobject Classes">Table 29.1, “Direct Superclass Relationships
  Among The Specified Metaobject Classes”</a>. The class of every class
 shown is <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> except for the classes <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><code class="classname">FUNCTION</code></a>,
 which are instances of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>, and the classes
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>, which are
 instances of the class <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>.
</p><div class="table"><a id="mop-inherit-struct"></a><p class="title"><b>Table 29.1. Direct Superclass Relationships
  Among The Specified Metaobject Classes</b></p><div class="table-contents"><table summary="Direct Superclass Relationships&#10;  Among The Specified Metaobject Classes" border="1"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th align="center">Metaobject Class</th><th align="center">Abstract</th><th align="center">Subclassable</th><th align="center">Direct Superclasses</th></tr></thead><tbody><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-OBJECT</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><code class="classname">FUNCTION</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-metaobjects" title="29.1.2.1. Metaobjects"><code class="classname">CLOS:METAOBJECT</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-metaobjects" title="29.1.2.1. Metaobjects"><code class="classname">CLOS:METAOBJECT</code></a> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-OBJECT</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-metaobjects" title="29.1.2.1. Metaobjects"><code class="classname">CLOS:METAOBJECT</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-meth-init-mo" title="29.1.6.3.2. Initialization of method metaobjects"><code class="classname">CLOS:STANDARD-ACCESSOR-METHOD</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-READER-METHOD</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="mop-chap.html#mop-meth-init-mo" title="29.1.6.3.2. Initialization of method metaobjects"><code class="classname">CLOS:STANDARD-ACCESSOR-METHOD</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="classname">CLOS:STANDARD-WRITER-METHOD</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="mop-chap.html#mop-meth-init-mo" title="29.1.6.3.2. Initialization of method metaobjects"><code class="classname">CLOS:STANDARD-ACCESSOR-METHOD</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_method-combination.html" target="_top"><code class="classname">METHOD-COMBINATION</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-metaobjects" title="29.1.2.1. Metaobjects"><code class="classname">CLOS:METAOBJECT</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-metaobjects" title="29.1.2.1. Metaobjects"><code class="classname">CLOS:METAOBJECT</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:DIRECT-SLOT-DEFINITION</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EFFECTIVE-SLOT-DEFINITION</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:DIRECT-SLOT-DEFINITION</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EFFECTIVE-SLOT-DEFINITION</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-mo-spec" title="29.1.2.1.5. Specializers"><code class="classname">CLOS:SPECIALIZER</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-metaobjects" title="29.1.2.1. Metaobjects"><code class="classname">CLOS:METAOBJECT</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EQL-SPECIALIZER</code></a></td><td align="center">no</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-mo-spec" title="29.1.2.1.5. Specializers"><code class="classname">CLOS:SPECIALIZER</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a></td><td align="center">yes</td><td align="center">no</td><td align="center">(<a href="mop-chap.html#mop-mo-spec" title="29.1.2.1.5. Specializers"><code class="classname">CLOS:SPECIALIZER</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a></td><td align="center">no</td><td align="center">no</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a></td><td align="center">no</td><td align="center">no</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</td></tr><tr><td align="center"><a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a></td><td align="center">no</td><td align="center">yes</td><td align="center">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</td></tr></tbody></table></div></div><p><br class="table-break" />
</p><p>Each class with a “<span class="quote">yes</span>” in the “<span class="quote">Abstract</span>”
column is an <span class="emphasis"><em>abstract class</em></span> and is not intended to
be instantiated.  The results are undefined if an attempt is made to
make an instance of one of these classes with <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.</p><p>Each class with a “<span class="quote">yes</span>” in
the “<span class="quote">Subclassable</span>” column can be used as direct superclass
for portable programs.  It is not meaningful to subclass a class that
has a “<span class="quote">no</span>” in this column.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a> is also subclassable: It
  is possible to create subclasses of <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a> that do not inherit
  from <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span> and some
  other implementations</h3><p>The class <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-OBJECT</code></a>'s class
  precedence list contains <a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><code class="classname">FUNCTION</code></a> before <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>, not
  after <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>.
  This is the most transparent way to realize the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] requirement
  (see the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section <a href="http://www.lisp.org/HyperSpec/Body/sec_4-2-2.html" target="_top">4.2.2
   “<span class="quote">Type Relationships</span>”</a>)
  that <a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a>'s class precedence list contains
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_function.html" target="_top"><code class="classname">FUNCTION</code></a> before <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>.</p></div><p>The classes <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>, <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>, <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>, <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-READER-METHOD</code></a>,
 <a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="classname">CLOS:STANDARD-WRITER-METHOD</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> are called
 <strong class="first"><em class="firstterm">standard metaobject
  <a id="std-mo" class="indexterm"></a></em></strong> classes.
 For each kind of metaobject, this is the class the user interface
 macros presented in the <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> use by default.  These are also the
 classes on which user specializations are normally based.</p><p>The classes <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>, <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> and
 <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> are special-purpose <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes.
 Built-in classes are instances of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>.
 The class <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> provides a special kind of
 instances described in <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances">Section 29.1.10.2, “Funcallable Instances”</a>.
 When the definition of a class references another class which has not
 yet been defined, an instance of <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> is used as
 a stand-in until the class is actually defined.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="forward-referenced-class-clisp"></a>Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span><strong class="command">CLISP</strong></span></h3><p>The class <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> is implemented in a way
  that fixes several flaws in the [<a href="references.html#amop"><abbr class="abbrev">AMOP</abbr></a>] specification.</p><p>It is not a subclass of <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> and <a href="mop-chap.html#mop-mo-spec" title="29.1.2.1.5. Specializers"><code class="classname">CLOS:SPECIALIZER</code></a>, just a
  subclass of <a href="mop-chap.html#mop-metaobjects" title="29.1.2.1. Metaobjects"><code class="classname">CLOS:METAOBJECT</code></a>, because forward references to classes are
  not classes and cannot be used as specializers of methods.  An [<a href="references.html#amop"><abbr class="abbrev">AMOP</abbr></a>]
  compatibility mode is provided, however, if you set the variable
  <strong class="first"><em class="firstterm"><code class="varname">CUSTOM:*FORWARD-REFERENCED-CLASS-MISDESIGN*</code>
   <a id="frc-bad" class="indexterm"></a></em></strong> to <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>.
  In this mode, <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> is formally a subclass of
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> and <a href="mop-chap.html#mop-mo-spec" title="29.1.2.1.5. Specializers"><code class="classname">CLOS:SPECIALIZER</code></a>, but the behaviour of
  <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> instances is the same.</p><p>The [<a href="references.html#amop"><abbr class="abbrev">AMOP</abbr></a>] says that the first argument of <a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> can
  be a <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>.
  But from the description of <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>, it is clear that it can
  only be a class returned by <a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>, and [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] <a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>
  cannot return a <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>.</p><p>The [<a href="references.html#amop"><abbr class="abbrev">AMOP</abbr></a>] says that <a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> creates a
  <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> for not-yet-defined class symbols among the
  direct-superclasses list.  But this leads to many
  <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> with the same name (since they cannot be
  stored and retrieved through <a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>), and since <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a>
  preserves the <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><code class="function">EQ</code></a>-ness, after the class is defined, we have many
  class objects with the same name.</p><p>In the direct-superclasses list of non-finalized classes,
  <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> instances can occur, denoting classes that
  have not yet been defined. When or after such a class gets defined,
  the <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> instance is replaced with the real
  class.  <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> uses simple object replacement, not <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a>, in
  this process.</p></div><p>The class <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a> is the <span class="emphasis"><em>default direct
superclass</em></span> of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>.  When an instance
of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> is created, and no direct superclasses are
explicitly specified, it defaults to the class <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>.  In
this way, any behavior associated with the class <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>
will be inherited, directly or indirectly, by all instances of the class
<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>.  A subclass of <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> may have a different
class as its default direct superclass, but that class must be a
subclass of the class <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>.</p><p>The same is true for <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> and
<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-OBJECT</code></a>.</p><p>The class <a href="mop-chap.html#mop-mo-spec" title="29.1.2.1.5. Specializers"><code class="classname">CLOS:SPECIALIZER</code></a> captures only the most basic behavior of
method specializers, and is not itself intended to be instantiated.  The
class <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> is a direct subclass of <a href="mop-chap.html#mop-mo-spec" title="29.1.2.1.5. Specializers"><code class="classname">CLOS:SPECIALIZER</code></a> reflecting the
property that classes by themselves can be used as method specializers.
The class <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EQL-SPECIALIZER</code></a> is used for <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializers.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-ov-impl-and-user-spec"></a>29.1.2.2.1. Implementation and User Specialization</h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-portable-restrictions">29.1.2.2.1.1. Restrictions on Portable Programs</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-impl-restrictions">29.1.2.2.1.2. Restrictions on Implementations</a></span></dt></dl></div><p>The purpose of the Metaobject Protocol is to provide users with a
powerful mechanism for extending and customizing the basic behavior of
the <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a>.  As an object-oriented description of the basic <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a>
behavior, the Metaobject Protocol makes it possible to create these
extensions by defining specialized subclasses of existing metaobject
classes.</p><p>The Metaobject Protocol provides this capability without
interfering with the implementor's ability to develop high-performance
implementations.  This balance between user extensibility and
implementor freedom is mediated by placing explicit restrictions on
each.  Some of these restrictions are general---they apply to the entire
class graph and the applicability of all methods.  These are presented
in this section.</p><p>The following additional terminology is used to present these
restrictions:</p><div class="itemizedlist"><ul type="disc"><li>Metaobjects are divided into three categories.  Those
  defined in this document are called <strong class="first"><em class="firstterm">specified</em></strong>;
  those defined by an implementation but not mentioned in this document
  are called <strong class="first"><em class="firstterm">implementation-specific</em></strong>; and those
  defined by a portable program are called <strong class="first"><em class="firstterm">portable</em></strong>.
</li><li>A class <em class="replaceable"><code>i</code></em> is <strong class="first"><em class="firstterm">interposed</em></strong>
  between two other classes <em class="replaceable"><code>k<sub>1</sub></code></em> and <em class="replaceable"><code>k<sub>2</sub></code></em> if and only if there is
  some path, following direct superclasses, from the class <em class="replaceable"><code>k<sub>1</sub></code></em> to the
  class <em class="replaceable"><code>k<sub>2</sub></code></em> which includes <em class="replaceable"><code>i</code></em>.</li><li>A method is <strong class="first"><em class="firstterm">specialized</em></strong> to a
  class if and only if that class is in the list of specializers
  associated with the method; and the method is in the list of methods
  associated with some generic function.</li><li>In a given implementation, a specified method is said
  to have been <strong class="first"><em class="firstterm">promoted</em></strong> if and only if the
  specializers of the method, <em class="replaceable"><code>x<sub>1</sub></code></em> ... <em class="replaceable"><code>x<sub>n</sub></code></em>, are defined in this
  specification as the classes <em class="replaceable"><code>k<sub>1</sub></code></em> ... <em class="replaceable"><code>k<sub>n</sub></code></em>, but in the
  implementation, one or more of the specializers
  <em class="replaceable"><code>x<sub>l</sub></code></em>, is a superclass of the class
  given in the specification <em class="replaceable"><code>k<sub>l</sub></code></em>.
</li><li><p>For a given generic function and set of arguments, a
  method <em class="replaceable"><code>k<sub>2</sub></code></em> <strong class="first"><em class="firstterm">extends</em></strong> a method <em class="replaceable"><code>k<sub>1</sub></code></em> if and
  only if:
  </p><div class="orderedlist"><ol type="i"><li><em class="replaceable"><code>k<sub>1</sub></code></em> and
     <em class="replaceable"><code>k<sub>2</sub></code></em> are both associated with the given generic function
     </li><li><em class="replaceable"><code>k<sub>1</sub></code></em> and <em class="replaceable"><code>k<sub>2</sub></code></em> are both applicable to the given
     arguments,</li><li>the specializers and qualifiers of the methods are
     such that when the generic function is called, <em class="replaceable"><code>k<sub>2</sub></code></em> is executed
     before <em class="replaceable"><code>k<sub>1</sub></code></em>,</li><li><em class="replaceable"><code>k<sub>1</sub></code></em> will be executed if and only if
   <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> is invoked from within the body of <em class="replaceable"><code>k<sub>2</sub></code></em> and
   </li><li><a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> is invoked from within the body
     of <em class="replaceable"><code>k<sub>2</sub></code></em>, thereby causing <em class="replaceable"><code>k<sub>1</sub></code></em> to be executed.
  </li></ol></div></li><li><p>For a given generic function and set of arguments, a
  method <em class="replaceable"><code>k<sub>2</sub></code></em> <strong class="first"><em class="firstterm">overrides</em></strong> a method <em class="replaceable"><code>k<sub>1</sub></code></em> if and
  only if conditions <span class="emphasis"><em>i</em></span>
  through <span class="emphasis"><em>iv</em></span> above hold and,
  instead of <span class="emphasis"><em>v</em></span>,
  </p><div class="orderedlist"><ol start="6" type="i"><li><a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> is not invoked from within the
     body of <em class="replaceable"><code>k<sub>2</sub></code></em>, thereby preventing <em class="replaceable"><code>k<sub>1</sub></code></em> from being executed.
</li></ol></div></li></ul></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-portable-restrictions"></a>29.1.2.2.1.1. Restrictions on Portable Programs</h6></div></div></div><p>Portable programs are allowed to define subclasses of specified
classes, and are permitted to define methods on specified generic
functions, with the following restrictions: </p><div class="itemizedlist"><ul type="disc"><li>Portable programs must not redefine any specified
classes, generic functions, methods or method combinations.  Any method
defined by a portable program on a specified generic function must have
at least one specializer that is neither a specified class nor an
<a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializer whose associated value is an instance of a specified
class.</li><li>Portable programs may define methods that extend
specified methods unless the description of the specified method
explicitly prohibits this.  Unless there is a specific statement to the
contrary, these extending methods must return whatever value was
returned by the call to <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a>.</li><li><p>Portable programs may define methods that override
specified methods only when the description of the specified method
explicitly allows this.  Typically, when a method is allowed to be
overridden, a small number of related methods will need to be overridden
as well.</p><p>An example of this is the specified methods on the generic
functions <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>, <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> and <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>.
Overriding a specified method on one of these generic functions requires
that the corresponding method on the other two generic functions be
overridden as well.</p></li><li><p>Portable methods on specified generic functions
specialized to portable metaobject classes must be defined before any
instances of those classes (or any subclasses) are created, either
directly or indirectly by a call to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.  Methods can be
defined after instances are created by <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a> however.
Portable metaobject classes cannot be redefined.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The purpose of this last restriction is to permit
implementations to provide performance optimizations by analyzing, at
the time the first instance of a metaobject class is initialized, what
portable methods will be applicable to it.  This can make it possible to
optimize calls to those specified generic functions which would have no
applicable portable methods.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="mop-mo-redef-clisp-warn"></a>Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>When a metaobject class is redefined,
  <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> issues a <a href="http://www.lisp.org/HyperSpec/Body/contyp_warning.html" target="_top"><code class="classname">WARNING</code></a> that the redefinition has no effect.
  To avoid this warning, place all metaobject class definitions in a
  separate file, compile it in a <span class="emphasis"><em>separate</em></span> session
  (because <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> is evaluated at <a href="http://www.lisp.org/HyperSpec/Body/glo_c.html#compile_time" target="_top">compile time</a> too;
  see <a href="mop-chap.html#mop-ov-ui-others" title="29.1.2.3.2. Compile-file Processing of Specific User Interface Macros">Section 29.1.2.3.2, “Compile-file Processing of Specific User Interface Macros”</a>),
  and then <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><code class="function">LOAD</code></a> it only <span class="emphasis"><em>once</em></span> per session.
</p></div></li></ul></div><p>
</p><p>The results are undefined if any of
 these restrictions are violated.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The specification technology used in this document needs
further development.  The concepts of object-oriented protocols and
subclass specialization are intuitively familiar to programmers of
object-oriented systems; the protocols presented here fit quite
naturally into this framework.  Nonetheless, in preparing this document,
we have found it difficult to give specification-quality descriptions of
the protocols in a way that makes it clear what extensions users can and
cannot write.  Object-oriented protocol specification is inherently
about specifying leeway, and this seems difficult using current
technology.</p></div></div>
<!--mop-portable-restrictions-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-impl-restrictions"></a>29.1.2.2.1.2. Restrictions on Implementations</h6></div></div></div><p>Implementations are allowed latitude to modify the structure of
specified classes and methods.  This includes: the interposition of
implementation-specific classes; the promotion of specified methods; and
the consolidation of two or more specified methods into a single method
specialized to interposed classes.</p><p>Any such modifications are permitted only so long as for any
portable class <em class="replaceable"><code>k</code></em> that is a subclass of one or more specified classes
<em class="replaceable"><code>k<sub>1</sub></code></em> ... <em class="replaceable"><code>k<sub>n</sub></code></em>, the following conditions are met:</p><div class="itemizedlist"><ul type="disc"><li>In the actual class precedence list of <em class="replaceable"><code>k</code></em>, the
  classes <em class="replaceable"><code>k<sub>1</sub></code></em> ... <em class="replaceable"><code>k<sub>n</sub></code></em> must appear in the same order as they would
  have if no implementation-specific modifications had been made.
</li><li>The method applicability of any specified generic
  function must be the same in terms of behavior as it would have been
  had no implementation-specific changes been made.  This includes
  specified generic functions that have had portable methods added.  In
  this context, the expression “<span class="quote">the same in terms of
  behavior</span>” means that methods with the same behavior as those
  specified are applicable, and in the same order.</li><li>No portable class <em class="replaceable"><code>k</code></em> may inherit, by virtue of
  being a direct or indirect subclass of a specified class, any slot for
  which the name is a symbol accessible in the <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top"><strong class="package">“<span class="quote">COMMON-LISP-USER</span>”</strong></a> package or
  exported by any package defined in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].</li><li>Implementations are free to define
  implementation-specific before- and after-methods on specified generic
  functions.  Implementations are also free to define
  implementation-specific around-methods with extending behavior.
</li></ul></div></div>
<!--mop-impl-restrictions-->
</div>
<!--mop-ov-impl-and-user-spec-->
</div>
<!--mop-mo-cl-inheritance-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-ui-macro"></a>29.1.2.3. Processing of the User Interface Macros</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-compile-ui-macro">29.1.2.3.1. Compile-file Processing of the User Interface Macros</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-ov-ui-others">29.1.2.3.2. Compile-file Processing of Specific User Interface Macros</a></span></dt></dl></div><p>A list in which the first element is one of the symbols
<a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_define-me_-combination.html" target="_top"><code class="function">DEFINE-METHOD-COMBINATION</code></a>,
<a href="http://www.lisp.org/HyperSpec/Issues/iss181.html" target="_top"><code class="function">CLOS:GENERIC-FUNCTION</code></a>, <a href="clos-diff.html#gen-flet"><code class="function">CLOS:GENERIC-FLET</code></a> or <a href="clos-diff.html#gen-labels"><code class="function">CLOS:GENERIC-LABELS</code></a>, and which has proper
syntax for that macro is called a <strong class="first"><em class="firstterm">user interface macro
form</em></strong>.  This document provides an extended specification of
the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> macros.</p><p>The user interface macros <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>
can be used not only to define metaobjects that are instances of the
corresponding standard metaobject class, but also to define metaobjects
that are instances of appropriate portable metaobject classes.  To make
it possible for portable metaobject classes to properly process the
information appearing in the macro form, this document provides a
limited specification of the processing of these macro forms.</p><p>User interface macro forms can be <span class="emphasis"><em>evaluated</em></span>
or <span class="emphasis"><em>compiled</em></span> and later <span class="emphasis"><em>executed</em></span>.
The effect of evaluating or executing a user interface macro form is
specified in terms of calls to specified functions and generic functions
which provide the actual behavior of the macro.  The arguments received
by these functions and generic functions are derived in a specified way
from the macro form.</p><p>Converting a user interface macro form into the arguments to the
appropriate functions and generic functions has two major aspects: the
conversion of the macro argument syntax into a form more suitable for
later processing, and the processing of macro arguments which are forms
to be evaluated (including method bodies).</p><p>In the syntax of the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro, the <em class="replaceable"><code>initform</code></em>
and <em class="replaceable"><code>default-initarg-initial-value-form</code></em>
arguments are forms which will be evaluated one or more times after the
macro form is evaluated or executed.  Special processing must be done on
these arguments to ensure that the lexical scope of the forms is
captured properly.  This is done by building a function of zero
arguments which, when called, returns the result of evaluating the form
in the proper <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html" target="_top">lexical environment</a>.</p><p>In the syntax of the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> macro
the <em class="replaceable"><code>forms</code></em> argument is a list of forms that
comprise the body of the method definition.  This list of forms must be
processed specially to capture the lexical scope of the macro form.  In
addition, the lexical functions available only in the body of methods
must be introduced.  To allow this and any other special processing
(such as slot access optimization), a specializable protocol is used for
processing the body of methods.
This is discussed in <a href="mop-chap.html#mop-meth-init-defmethod-body" title="29.1.6.3.1.1. Processing Method Bodies">Section 29.1.6.3.1.1, “Processing Method Bodies”</a>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-compile-ui-macro"></a>29.1.2.3.1. Compile-file Processing of the User Interface Macros</h5></div></div></div><p>It is a common practice for <a href="http://www.lisp.org" target="_top"><span><strong class="command">Common Lisp</strong></span></a> compilers, while processing a file
or set of files, to maintain information about the definitions that have
been compiled so far.  Among other things, this makes it possible to
ensure that a global macro definition (<a href="http://www.lisp.org/HyperSpec/Body/mac_defmacro.html" target="_top"><code class="function">DEFMACRO</code></a> form) which appears in
a file will affect uses of the macro later in that file.  This
information about the state of the compilation is called the
<strong class="first"><em class="firstterm"><a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> environment</em></strong>.</p><p>When compiling files containing <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> definitions, it is useful
to maintain certain additional information in the <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> environment.
This can make it possible to issue various kinds of warnings (e.g.,
<a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> congruence) and to do various performance optimizations that
would not otherwise be possible.</p><p>At this time, there is such significant variance in the way
existing <a href="http://www.lisp.org" target="_top"><span><strong class="command">Common Lisp</strong></span></a> implementations handle <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> environments that it
would be premature to specify this mechanism.  Consequently, this
document specifies only the behavior of evaluating or executing user
interface macro forms. What functions and generic functions are called
during <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> processing of a user interface macro form is not
specified.  Implementations are free to define and document their own
behavior.  Users may need to check implementation-specific behavior
before attempting to compile certain portable programs.</p></div>
<!--mop-compile-ui-macro-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-ov-ui-others"></a>29.1.2.3.2. Compile-file Processing of Specific User Interface Macros</h5></div></div></div><div class="variablelist"><dl><dt><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a></span></dt><dd><p><a href="mop-chap.html#mop-cl-defclass" title="29.1.3.1. Macro DEFCLASS">Section 29.1.3.1, “Macro <code class="function">DEFCLASS</code>”</a></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p><a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> evaluates <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> forms also at
     <a href="http://www.lisp.org/HyperSpec/Body/glo_c.html#compile_time" target="_top">compile time</a>.</p></div></dd><dt><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a></span></dt><dd><p><a href="mop-chap.html#mop-meth-init-defmethod" title="29.1.6.3.1. Macro DEFMETHOD">Section 29.1.6.3.1, “Macro <code class="function">DEFMETHOD</code>”</a></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p><a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> does <span class="strong"><strong>not</strong></span> evaluate <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>
     forms at <a href="http://www.lisp.org/HyperSpec/Body/glo_c.html#compile_time" target="_top">compile time</a> except as necessary for signature checking.
 </p></div></dd><dt><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a></span></dt><dd><p><a href="mop-chap.html#mop-gf-init-defgeneric" title="29.1.5.3.1. Macro DEFGENERIC">Section 29.1.5.3.1, “Macro <code class="function">DEFGENERIC</code>”</a></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p><a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> does <span class="strong"><strong>not</strong></span> evaluate <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a>
     forms at <a href="http://www.lisp.org/HyperSpec/Body/glo_c.html#compile_time" target="_top">compile time</a> except as necessary for signature checking.
</p></div></dd></dl></div></div>
<!--mop-ov-ui-others-->
</div>
<!--mop-ui-macro-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-ov-mo-init"></a>29.1.2.4. Metaobject Initialization Protocol</h4></div></div></div><p>Like other objects, metaobjects can be created by calling
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.  The initialization arguments passed to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
are used to initialize the metaobject in the usual way.  The set of
legal initialization arguments, and their interpretation, depends on the
kind of metaobject being created.  Implementations and portable programs
are free to extend the set of legal initialization arguments.  Detailed
information about the initialization of each kind of metaobject are
provided in the appropriate sections:</p><div class="itemizedlist"><ul type="disc"><li><a href="mop-chap.html#mop-cl-init-mo" title="29.1.3.5.1. Initialization of class metaobjects">Section 29.1.3.5.1, “Initialization of class metaobjects”</a></li><li><a href="mop-chap.html#mop-cl-reinit-mo" title="29.1.3.5.2. Reinitialization of class metaobjects">Section 29.1.3.5.2, “Reinitialization of class metaobjects”</a></li><li><a href="mop-chap.html#mop-gf-init-mo" title="29.1.5.3.3. Initialization of generic function metaobjects">Section 29.1.5.3.3, “Initialization of generic function metaobjects”</a></li><li><a href="mop-chap.html#mop-cl-finalization" title="29.1.3.4. Class Finalization Protocol">Section 29.1.3.4, “Class Finalization Protocol”</a></li><li><a href="mop-chap.html#mop-sa-instance-stuct" title="29.1.10.1. Instance Structure Protocol">Section 29.1.10.1, “Instance Structure Protocol”</a></li><li><a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances">Section 29.1.10.2, “Funcallable Instances”</a></li><li><a href="mop-chap.html#mop-gf-invocation" title="29.1.5.3.2. Generic Function Invocation Protocol">Section 29.1.5.3.2, “Generic Function Invocation Protocol”</a></li><li><a href="mop-chap.html#mop-dep-maint" title="29.1.11. Dependent Maintenance">Section 29.1.11, “Dependent Maintenance”</a></li></ul></div></div>
<!--mop-ov-mo-init-->
</div>
<!--mop-overview-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-classes"></a>29.1.3. Classes</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-cl-defclass">29.1.3.1. Macro <code class="function">DEFCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-Inheritance">29.1.3.2. Inheritance Structure of class metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-readers">29.1.3.3. Introspection: Readers for class metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#class-name">29.1.3.3.1. Generic Function <code class="function">CLASS-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-superclasses">29.1.3.3.2. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-slots">29.1.3.3.3. Generic Function <code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-default-initargs">29.1.3.3.4. Generic Function <code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#cpl">29.1.3.3.5. Generic Function <code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-subclasses">29.1.3.3.6. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-slots">29.1.3.3.7. Generic Function <code class="function">CLOS:CLASS-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-default-initargs">29.1.3.3.8. Generic Function <code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-finalized-p">29.1.3.3.9. Generic Function <code class="function">CLOS:CLASS-FINALIZED-P</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-prototype">29.1.3.3.10. Generic Function <code class="function">CLOS:CLASS-PROTOTYPE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-readers-methods">29.1.3.3.11. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-finalization">29.1.3.4. Class Finalization Protocol</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-init">29.1.3.5. Class Initialization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-cl-init-mo">29.1.3.5.1. Initialization of class metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#class-mo-init-methods">29.1.3.5.1.1. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-init-anon">29.1.3.5.1.2. Initialization of Anonymous Classes</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-reinit-mo">29.1.3.5.2. Reinitialization of class metaobjects</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-customize">29.1.3.6. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#setf-class-name">29.1.3.6.1. Generic Function <code class="code">(SETF CLASS-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-class">29.1.3.6.2. Generic Function <code class="function">CLOS:ENSURE-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-class-UC">29.1.3.6.3. Generic Function <code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#finalize-inheritance">29.1.3.6.4. Generic Function <code class="function">CLOS:FINALIZE-INHERITANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-make-instance">29.1.3.6.5. Generic Function <code class="function">MAKE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#alloc-instance">29.1.3.6.6. Generic Function <code class="function">ALLOCATE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#validate-superclass">29.1.3.6.7. Generic Function <code class="function">CLOS:VALIDATE-SUPERCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-dsd-initargs">29.1.3.6.8. Generic Function <code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#dsd-class">29.1.3.6.9. Generic Function <code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-cpl">29.1.3.6.10. Generic Function <code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-slots">29.1.3.6.11. Generic Function <code class="function">CLOS:COMPUTE-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-esd">29.1.3.6.12. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-esd-initargs">29.1.3.6.13. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#esd-class">29.1.3.6.14. Generic Function <code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-default-initargs">29.1.3.6.15. Generic Function <code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-dep">29.1.3.7. Updating Dependencies</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#add-direct-subclass">29.1.3.7.1. Generic Function <code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-direct-subclass">29.1.3.7.2. Generic Function <code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-defclass"></a>29.1.3.1. Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a></h4></div></div></div><p>The evaluation or execution of a <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form results in a call
to the <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> function. The arguments received by <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>
are derived from the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form in a defined way.  The exact
macro-expansion of the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form is not defined, only the
relationship between the arguments to the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro and the
arguments received by the <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> function.  Examples of typical
<a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> forms and sample expansions are shown in the following two
 examples:
</p><div class="informalexample"><p>A <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form with standard slot and class
  options and an expansion of it that would result in the proper call
  to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><pre class="programlisting">
(defclass plane (moving-object graphics-object)
  ((altitude :initform 0 :accessor plane-altitude)
   (speed))
  (:default-initargs :engine *jet*))

(ensure-class 'plane
  ':direct-superclasses '(moving-object graphics-object)
  ':direct-slots (list (list ':name 'altitude
                             ':initform '0
                             ':initfunction #'(lambda () 0)
                             ':readers '(plane-altitude)
                             ':writers '((setf plane-altitude)))
                       (list ':name 'speed))
  ':direct-default-initargs (list (list ':engine
                                        '*jet*
                                        #'(lambda () *jet*))))
</pre></div><p>
</p><div class="informalexample"><p>A <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form with non-standard class and
  slot options, and an expansion of it which results in the proper call
  to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.  Note that the order of the slot options has not
  affected the order of the properties in the <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>,
  but has affected the order of the elements in the lists
  which are the values of those properties.</p><pre class="programlisting">
(defclass sst (plane)
  ((mach mag-step 2
         locator sst-mach
         locator mach-location
         :reader mach-speed
         :reader mach))
  (:metaclass faster-class)
  (another-option foo bar))

(ensure-class 'sst
  ':direct-superclasses '(plane)
  ':direct-slots (list (list ':name 'mach
                             ':readers '(mach-speed mach)
                             'mag-step '2
                             'locator '(sst-mach mach-location)))
  ':metaclass 'faster-class
  'another-option '(foo bar))
</pre></div><div class="itemizedlist"><ul type="disc"><li>The <em class="replaceable"><code>name</code></em> argument to <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>
   becomes the value of the first argument to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.  This is
   the only positional argument accepted by <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>; all other
   arguments are keyword arguments.</li><li>The <code class="constant">:DIRECT-SUPERCLASSES</code> argument to <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>
  becomes the value of the <code class="constant">:DIRECT-SUPERCLASSES</code> keyword argument to
  <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</li><li><p>The <code class="constant">:DIRECT-SLOTS</code> argument to <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> becomes
  the value of the <code class="constant">:DIRECT-SLOTS</code> keyword argument to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.
  Special processing of this value is done to regularize the form of
  each slot specification and to properly capture the lexical scope of
  the initialization forms.  This is done by converting each slot
  specification to a property list called a
  <strong class="first"><em class="firstterm">canonicalized slot specification</em></strong>.
  The resulting list of <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s is the value
  of the <code class="constant">:DIRECT-SLOTS</code> keyword argument.</p><p><a id="mop-canonicalized-slot-spec"></a>Canonicalized slot
  specifications are later used as the keyword arguments to a generic
  function which will, in turn, pass them to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> for use as
  a set of initialization arguments.  Each <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> is
  formed from the corresponding slot specification as follows:
  </p><div class="itemizedlist"><ul type="circle"><li>The name of the slot is the value of the <code class="constant">:NAME</code>
     property.  This property appears in every
     <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.</li><li>When the <code class="constant">:INITFORM</code> slot option is present in
     the slot specification, then both the <code class="constant">:INITFORM</code> and
     <code class="constant">:INITFUNCTION</code> properties are present in the <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
     The value of the <code class="constant">:INITFORM</code> property is the
     initialization form.  The value of the <code class="constant">:INITFUNCTION</code> property is
     a function of zero arguments which, when called, returns the result
     of evaluating the initialization form in its proper <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html" target="_top">lexical environment</a>.
   </li><li>If the <code class="constant">:INITFORM</code> slot option is not present in
     the slot specification, then either the <code class="constant">:INITFUNCTION</code> property
     will not appear, or its value will be false.  In such cases, the
     value of the <code class="constant">:INITFORM</code> property, or whether it appears, is
     unspecified.</li><li>The value of the <code class="constant">:INITARGS</code> property is a list
     of the values of each <code class="constant">:INITARG</code> slot option.  If there are no
     <code class="constant">:INITARG</code> slot options, then either the <code class="constant">:INITARGS</code> property
     will not appear or its value will be the empty list.
   </li><li>The value of the <code class="constant">:READERS</code> property is a list of
     the values of each <code class="constant">:READER</code> and <code class="constant">:ACCESSOR</code> slot option.  If
     there are no <code class="constant">:READER</code> or <code class="constant">:ACCESSOR</code> slot options, then either
     the <code class="constant">:READERS</code> property will not appear or its value will be the
     empty list.</li><li>The value of the <code class="constant">:WRITERS</code> property is a list of
     the values specified by each <code class="constant">:WRITER</code> and <code class="constant">:ACCESSOR</code> slot
     option.  The value specified by a <code class="constant">:WRITER</code> slot option is just
     the value of the slot option.  The value specified by an
     <code class="constant">:ACCESSOR</code> slot option is a two element list: the first element
     is the symbol <a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a>, the second element is the value of the slot
     option.  If there are no <code class="constant">:WRITER</code> or <code class="constant">:ACCESSOR</code> slot options,
     then either the <code class="constant">:WRITERS</code> property will not appear or its value
     will be the empty list.</li><li>The value of the <code class="constant">:DOCUMENTATION</code> property is the
     value of the <code class="constant">:DOCUMENTATION</code> slot option.  If there is no
     <code class="constant">:DOCUMENTATION</code> slot option, then either the <code class="constant">:DOCUMENTATION</code>
     property will not appear or its value will be false.
   </li><li>All other slot options appear as the values of
     properties with the same name as the slot option.  Note that this
     includes not only the remaining standard slot options
     (<code class="constant">:ALLOCATION</code> and <code class="constant">:TYPE</code>), but also any other options and
     values appearing in the slot specification.  If one of these slot
     options appears more than once, the value of the property will be a
     list of the specified values.</li><li>An implementation is free to add additional
     properties to the <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> provided these
     are not symbols accessible in the <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top"><strong class="package">“<span class="quote">COMMON-LISP-USER</span>”</strong></a> package, or exported by
     any package defined in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].</li></ul></div></li><li><p>The <em class="replaceable"><code>default initargs</code></em> class
  option, if it is present in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, becomes the value of
  the <code class="constant">:DIRECT-DEFAULT-INITARGS</code> keyword argument to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.
  Special processing of this value is done to properly capture the
  lexical scope of the default value forms.  This is done by converting
  each default initarg in the class option into a
  <strong class="first"><em class="firstterm">canonicalized default initialization argument</em></strong>.
  The resulting list of <a href="mop-chap.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s is the value of
  the <code class="constant">:DIRECT-DEFAULT-INITARGS</code> keyword argument to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.
 </p><p><a id="mop-canonicalized-default-initarg"></a>A canonicalized default
  initarg is a list of three elements.  The first element is the name;
  the second is the actual form itself; and the third is a function of
  zero arguments which, when called, returns the result of evaluating
  the default value form in its proper <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html" target="_top">lexical environment</a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>If a <em class="replaceable"><code>default initargs</code></em>
    class option is not present in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form,
    <code class="constant">:DIRECT-DEFAULT-INITARGS</code> <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> is passed to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] requirement (see <a href="redef-class.html" title="4.6. Redefining Classes&#10;  [CLHS-4.3.6]">Section 4.6, “Redefining Classes
  [CLHS-4.3.6]”</a>) that
 the resulting <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li><li><p>The <em class="replaceable"><code>metaclass</code></em> class
  option, if it is present in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, becomes the value of
  the <code class="constant">:METACLASS</code> keyword argument to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>If a <em class="replaceable"><code>metaclass</code></em>
   class option is not present in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form,
   <code class="constant">:METACLASS</code> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> is passed to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] requirement (see <a href="redef-class.html" title="4.6. Redefining Classes&#10;  [CLHS-4.3.6]">Section 4.6, “Redefining Classes
  [CLHS-4.3.6]”</a>) that
 the resulting <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li><li><p>The <em class="replaceable"><code>documentation</code></em> class
  option, if it is present in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, becomes the value of
  the <code class="constant">:DOCUMENTATION</code> keyword argument to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>If a <em class="replaceable"><code>documentation</code></em>
    class option is not present in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form,
    <code class="constant">:DIRECT-DEFAULT-INITARGS</code> <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> is passed to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] requirement (see <a href="redef-class.html" title="4.6. Redefining Classes&#10;  [CLHS-4.3.6]">Section 4.6, “Redefining Classes
  [CLHS-4.3.6]”</a>) that
 the resulting <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li><li><p>Any other class options become the value of keyword
  arguments with the same name.  The value of the keyword argument is
  the tail of the class option.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if any class
  option appears more than once in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The default initargs of the
    <em class="replaceable"><code>metaclass</code></em> are added at the end of the list
    of arguments to pass to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] requirement (see <a href="redef-class.html" title="4.6. Redefining Classes&#10;  [CLHS-4.3.6]">Section 4.6, “Redefining Classes
  [CLHS-4.3.6]”</a>) that
 the resulting <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li></ul></div><p>In the call to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>, every element of its arguments
appears in the same left-to-right order as the corresponding element of
the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, except that the order of the properties of
<a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s is unspecified.  The values of
properties in <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s do follow this ordering
requirement.  Other ordering relationships in the keyword arguments to
<a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> are unspecified.</p><p>The result of the call to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> is returned as the result
of evaluating or executing the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div>
<!--mop-cl-defclass-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-Inheritance"></a>29.1.3.2. Inheritance Structure of <a href="mop-chap.html#mop-class-mo">class metaobject</a> Classes</h4></div></div></div><div class="figure"><a id="mop-cl-Inheritance-fig"></a><p class="title"><b>Figure 29.2. Inheritance structure of <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-class.png" width="100%" alt="Inheritance structure of class metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-readers"></a>29.1.3.3. Introspection: Readers for <a href="mop-chap.html#mop-class-mo">class metaobject</a>s</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#class-name">29.1.3.3.1. Generic Function <code class="function">CLASS-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-superclasses">29.1.3.3.2. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-slots">29.1.3.3.3. Generic Function <code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-default-initargs">29.1.3.3.4. Generic Function <code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#cpl">29.1.3.3.5. Generic Function <code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-direct-subclasses">29.1.3.3.6. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-slots">29.1.3.3.7. Generic Function <code class="function">CLOS:CLASS-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-default-initargs">29.1.3.3.8. Generic Function <code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-finalized-p">29.1.3.3.9. Generic Function <code class="function">CLOS:CLASS-FINALIZED-P</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#class-prototype">29.1.3.3.10. Generic Function <code class="function">CLOS:CLASS-PROTOTYPE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-readers-methods">29.1.3.3.11. Methods</a></span></dt></dl></div><p>In this and the following sections, the “<span class="quote">reader</span>”
generic functions which simply return information associated with a
particular kind of metaobject are presented together.  General
information is presented first, followed by a description of the purpose
of each, and ending with the specified methods for these generic
functions.</p><p>The reader generic functions which simply return information
associated with <a href="mop-chap.html#mop-class-mo">class metaobject</a>s are presented together in this section.</p><p>Each of the reader generic functions for <a href="mop-chap.html#mop-class-mo">class metaobject</a>s has the same
syntax, accepting one required argument called <em class="replaceable"><code>class</code></em>, which must be
a <a href="mop-chap.html#mop-class-mo">class metaobject</a>; otherwise, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is also <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if
the <a href="mop-chap.html#mop-class-mo">class metaobject</a> has not been initialized.</p><p>These generic functions can be called by the user or the
implementation.</p><p>For any of these generic
 functions which returns a list, such lists will not be mutated by the
 implementation.  The results are undefined if a portable program allows
 such a list to be mutated.</p>
<!--begin class basic introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-name"></a>29.1.3.3.1. Generic Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns the name of <em class="replaceable"><code>class</code></em>.  This value can be any Lisp object,
but is usually a symbol, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> if the class has no name.  This is the
defaulted value of the <code class="constant">:NAME</code> initialization argument that was
associated with the class during initialization or reinitialization.
(Also see <a href="mop-chap.html#setf-class-name" title="29.1.3.6.1. Generic Function (SETF CLASS-NAME)"><code class="code">(SETF CLASS-NAME)</code></a>.)
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-direct-superclasses"></a>29.1.3.3.2. Generic Function <a href="mop-chap.html#class-direct-superclasses" title="29.1.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-direct-superclasses" title="29.1.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns a list of the direct superclasses of <em class="replaceable"><code>class</code></em>.  The
elements of this list are <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.  The empty list is returned if
<em class="replaceable"><code>class</code></em> has no direct superclasses.  This is the defaulted value of
the <code class="constant">:DIRECT-SUPERCLASSES</code> initialization argument that was associated
with the class during initialization or reinitialization.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>For a class that has not yet been finalized,
 the returned list may contain <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> instances as
 placeholder for classes that were not yet defined when finalization of
 the class was last attempted.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-direct-slots"></a>29.1.3.3.3. Generic Function <a href="mop-chap.html#class-direct-slots" title="29.1.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-direct-slots" title="29.1.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns a set of the direct slots of <em class="replaceable"><code>class</code></em>.  The elements of
this set are <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.  If the class has no direct slots, the empty set
is returned.  This is the defaulted value of the <code class="constant">:DIRECT-SLOTS</code>
initialization argument that was associated with the class during
initialization and reinitialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-direct-default-initargs"></a>29.1.3.3.4. Generic Function <a href="mop-chap.html#class-direct-default-initargs" title="29.1.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-direct-default-initargs" title="29.1.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns a list of the direct default initialization arguments for
<em class="replaceable"><code>class</code></em>.  Each element of this list is a <a href="mop-chap.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>.
The empty list is returned if <em class="replaceable"><code>class</code></em> has no
direct default initialization arguments.  This is the defaulted value of
the <code class="constant">:DIRECT-DEFAULT-INITARGS</code> initialization argument that was
associated with the class during initialization or reinitialization.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="cpl"></a>29.1.3.3.5. Generic Function <a href="mop-chap.html#cpl" title="29.1.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#cpl" title="29.1.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns the class precedence list of <em class="replaceable"><code>class</code></em>.
 The elements of this list are <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.</p><p>During class finalization <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls
<a href="mop-chap.html#compute-cpl" title="29.1.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a> to compute the class precedence list of the class.  That
value is associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and is returned by <a href="mop-chap.html#cpl" title="29.1.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a>.</p><p>This generic function <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been finalized.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-direct-subclasses"></a>29.1.3.3.6. Generic Function <a href="mop-chap.html#class-direct-subclasses" title="29.1.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-direct-subclasses" title="29.1.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns a set of the direct subclasses of <em class="replaceable"><code>class</code></em>. The elements
of this set are <a href="mop-chap.html#mop-class-mo">class metaobject</a>s that all mention this class among their direct
superclasses.  The empty set is returned if <em class="replaceable"><code>class</code></em> has no direct
subclasses.  This value is maintained by the generic functions
<a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> and <a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The set of direct subclasses of a class is
 internally managed as a <a href="weak.html#weak-list" title="30.7.2. Weak Lists"><code class="classname">EXT:WEAK-LIST</code></a>. Therefore the existence of
 the <a href="mop-chap.html#class-direct-subclasses" title="29.1.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a> function does not prevent otherwise
 unreferenced classes from being <a href="gc.html" class="olink">garbage-collect</a>ed.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-slots"></a>29.1.3.3.7. Generic Function <a href="mop-chap.html#class-slots" title="29.1.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-slots" title="29.1.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns a possibly empty set of the slots accessible in instances
of <em class="replaceable"><code>class</code></em>.  The elements of this set are <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.</p><p>During class finalization <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls
<a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> to compute the slots of the class.  That value is
associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and is returned by <a href="mop-chap.html#class-slots" title="29.1.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a>.</p><p>This generic function <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been finalized.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-default-initargs"></a>29.1.3.3.8. Generic Function <a href="mop-chap.html#class-default-initargs" title="29.1.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-default-initargs" title="29.1.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns a list of the default initialization arguments for <em class="replaceable"><code>class</code></em>.
 Each element of this list is a <a href="mop-chap.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>.
 The empty list is returned if <em class="replaceable"><code>class</code></em> has no
 default initialization arguments.</p><p>During finalization <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls
<a href="mop-chap.html#compute-default-initargs" title="29.1.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a> to compute the default initialization
arguments for the class.  That value is associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and
is returned by <a href="mop-chap.html#class-default-initargs" title="29.1.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a>.</p><p>This generic function <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been
finalized.</p></div>
<!--end class basic introspection-->
<!--begin class advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-finalized-p"></a>29.1.3.3.9. Generic Function <a href="mop-chap.html#class-finalized-p" title="29.1.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-finalized-p" title="29.1.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns true if <em class="replaceable"><code>class</code></em> has been finalized.  Returns false
otherwise.  Also returns false if the <em class="replaceable"><code>class</code></em> has not been initialized.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-prototype"></a>29.1.3.3.10. Generic Function <a href="mop-chap.html#class-prototype" title="29.1.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#class-prototype" title="29.1.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> <em class="replaceable"><code>class</code></em>)</code></h6></div></div></div><p>Returns a prototype instance of <em class="replaceable"><code>class</code></em>.  Whether the instance
is initialized is not specified.  The results are undefined if a
portable program modifies the binding of any slot of a prototype instance.
</p><p>This generic function <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been finalized.
</p><div class="informalexample"><p>This allows non-<a href="http://www.lisp.org/HyperSpec/Body/glo_c.html#cons" target="_top">consing[3]</a> access to slots with
  allocation <code class="constant">:CLASS</code>:</p><pre class="programlisting">
(defclass counter ()
  ((count :allocation :class :initform 0 :reader how-many)))
(defmethod initialize-instance :after ((obj counter) &amp;rest args)
  (incf (slot-value obj 'count)))
(defclass counted-object (counter) ((name :initarg :name)))
 </pre><p>
 Now one can find out how many <code class="classname">COUNTED-OBJECT</code>s
 have been created by using
  <code class="code">(HOW-MANY (<a href="mop-chap.html#class-prototype" title="29.1.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> 'COUNTER)))</code>:
  </p><pre class="programlisting">
(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> 'counted-object :name 'foo)
⇒ <code class="computeroutput">#&lt;COUNTED-OBJECT #x203028C9&gt;</code>
(HOW-MANY (<a href="mop-chap.html#class-prototype" title="29.1.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> 'counter)))
⇒ <code class="computeroutput">1</code>
(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> 'counted-object :name 'bar)
⇒ <code class="computeroutput">#&lt;COUNTED-OBJECT #x20306CB1&gt;</code>
(HOW-MANY (<a href="mop-chap.html#class-prototype" title="29.1.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> 'counter)))
⇒ <code class="computeroutput">2</code>
</pre></div></div>
<!--end class advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-cl-readers-methods"></a>29.1.3.3.11. Methods</h5></div></div></div><p>The specified methods for the <a href="mop-chap.html#mop-class-mo">class metaobject</a> reader generic
functions are presented below.</p><p>Each entry in the table indicates a method on one of the reader
generic functions, specialized to a specified class.  The number in each
entry is a reference to the full description of the method.  The full
descriptions appear after the table.</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th align="center">Generic Function</th><th align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>, <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a></th><th align="center"><a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a></th><th align="center"><a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a></th></tr></thead><tbody><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a></td><td align="center"><a href="mop-chap.html#CRM-1">1</a></td><td align="center"><a href="mop-chap.html#CRM-1">1</a></td><td align="center"><a href="mop-chap.html#CRM-8">8</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-direct-superclasses" title="29.1.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></td><td align="center"><a href="mop-chap.html#CRM-1">1</a></td><td align="center"><a href="mop-chap.html#CRM-4">4</a></td><td align="center"><a href="mop-chap.html#CRM-7">7</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-direct-slots" title="29.1.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></td><td align="center"><a href="mop-chap.html#CRM-1">1</a></td><td align="center"><a href="mop-chap.html#CRM-4">4</a></td><td align="center"><a href="mop-chap.html#CRM-4">4</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-direct-default-initargs" title="29.1.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></td><td align="center"><a href="mop-chap.html#CRM-1">1</a></td><td align="center"><a href="mop-chap.html#CRM-4">4</a></td><td align="center"><a href="mop-chap.html#CRM-4">4</a></td></tr><tr><td align="center"><a href="mop-chap.html#cpl" title="29.1.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></td><td align="center"><a href="mop-chap.html#CRM-2">2</a></td><td align="center"><a href="mop-chap.html#CRM-3">3</a></td><td align="center"><a href="mop-chap.html#CRM-7">7</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-direct-subclasses" title="29.1.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></td><td align="center"><a href="mop-chap.html#CRM-9">9</a></td><td align="center"><a href="mop-chap.html#CRM-9">9</a></td><td align="center"><a href="mop-chap.html#CRM-7">7</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-slots" title="29.1.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a></td><td align="center"><a href="mop-chap.html#CRM-2">2</a></td><td align="center"><a href="mop-chap.html#CRM-3">3</a></td><td align="center"><a href="mop-chap.html#CRM-4">4</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-default-initargs" title="29.1.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></td><td align="center"><a href="mop-chap.html#CRM-2">2</a></td><td align="center"><a href="mop-chap.html#CRM-3">3</a></td><td align="center"><a href="mop-chap.html#CRM-4">4</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-finalized-p" title="29.1.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a></td><td align="center"><a href="mop-chap.html#CRM-2">2</a></td><td align="center"><a href="mop-chap.html#CRM-6">6</a></td><td align="center"><a href="mop-chap.html#CRM-5">5</a></td></tr><tr><td align="center"><a href="mop-chap.html#class-prototype" title="29.1.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a></td><td align="center"><a href="mop-chap.html#CRM-10">10</a></td><td align="center"><a href="mop-chap.html#CRM-10">10</a></td><td align="center"><a href="mop-chap.html#CRM-10">10</a></td></tr></tbody></table></div><div class="orderedlist"><p class="title"><b>Class Reader Methods</b></p><ol type="1"><li><a id="CRM-1"></a>This method returns the value which was
   associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> during initialization or
   reinitialization.</li><li><a id="CRM-2"></a>This method returns the value associated
   with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> by <span class="method"><code class="literal"><a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
    (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>)</code></span> or
   <span class="method"><code class="literal"><a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
    (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)</code></span></li><li><a id="CRM-3"></a>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</li><li><a id="CRM-4"></a>This method returns the empty list.
 </li><li><a id="CRM-5"></a>This method returns true.</li><li><a id="CRM-6"></a>This method returns false.</li><li><a id="CRM-7"></a>This method returns a value derived from
   the information in <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships&#10;  Among The Specified Metaobject Classes">Table 29.1, “Direct Superclass Relationships
  Among The Specified Metaobject Classes”</a>, except that
   implementation-specific modifications are permitted as described in
   <a href="mop-chap.html#mop-ov-impl-and-user-spec" title="29.1.2.2.1. Implementation and User Specialization">Section 29.1.2.2.1, “Implementation and User Specialization”</a>.</li><li><a id="CRM-8"></a>This method returns the name of the
   built-in class.</li><li><a id="CRM-9"></a>This methods returns a value which is
   maintained by <span class="method"><code class="literal"><a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span> and <span class="method"><code class="literal"><a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
    (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span>.
   This method can be overridden only if those methods are overridden as
   well.</li><li><a id="CRM-10"></a>No behavior is specified for this
   method beyond that which is specified for the generic function.</li></ol></div></div>
<!--mop-cl-readers-methods-->
</div>
<!--mop-cl-readers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-finalization"></a>29.1.3.4. Class Finalization Protocol</h4></div></div></div><p>Class <strong class="first"><em class="firstterm">finalization</em></strong> is the process of
computing the information a class inherits from its superclasses and
preparing to actually allocate instances of the class.  The class
finalization process includes computing the class's class precedence
list, the full set of slots accessible in instances of the class and the
full set of default initialization arguments for the class.  These
values are associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and can be accessed by calling the
appropriate reader.  In addition, the class finalization process makes
decisions about how instances of the class will be implemented.</p><p>To support forward-referenced superclasses, and to account for the
fact that not all classes are actually instantiated, class finalization
is not done as part of the initialization of the <a href="mop-chap.html#mop-class-mo">class metaobject</a>.  Instead,
finalization is done as a separate protocol, invoked by calling the
generic function <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>.  The exact point at which
<a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> is called depends on the class of the <a href="mop-chap.html#mop-class-mo">class metaobject</a>; for
<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> it is called sometime after all the classes
superclasses are defined, but no later than when the first instance of
the class is allocated (by <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>).</p><p>The first step of class finalization is computing the class
precedence list.  Doing this first allows subsequent steps to access the
class precedence list.  This step is performed by calling the generic
function <a href="mop-chap.html#compute-cpl" title="29.1.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a>.  The value returned from this call is associated
with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and can be accessed by calling the <a href="mop-chap.html#cpl" title="29.1.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a> generic
function.</p><p>The second step is computing the full set of slots that will be
accessible in instances of the class.  This step is performed by calling
the generic function <a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>.  The result of this call is a list
of <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.  This value is associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and can
be accessed by calling the <a href="mop-chap.html#class-slots" title="29.1.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a> generic function.</p><p>The behavior of <a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> is itself layered, consisting of
calls to <a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> and <a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a>.</p><p>The final step of class finalization is computing the full set of
initialization arguments for the class.  This is done by calling the
generic function <a href="mop-chap.html#compute-default-initargs" title="29.1.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>.  The value returned by this
generic function is associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and can be
accessed by calling <a href="mop-chap.html#class-default-initargs" title="29.1.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a>.</p><p>If the class was previously finalized, <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> may
call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_mak_ces-obsolete.html" target="_top"><code class="function">MAKE-INSTANCES-OBSOLETE</code></a>.  The circumstances under which this
happens are described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section
 <a href="redef-class.html" title="4.6. Redefining Classes&#10;  [CLHS-4.3.6]">Section 4.6, “Redefining Classes
  [CLHS-4.3.6]”</a>.</p><p>Forward-referenced classes, which provide a temporary definition
for a class which has been referenced but not yet defined, can never be
finalized.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> is called on a
forward-referenced class.</p></div>
<!--mop-cl-finalization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-init"></a>29.1.3.5. Class Initialization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-cl-init-mo">29.1.3.5.1. Initialization of class metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#class-mo-init-methods">29.1.3.5.1.1. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-init-anon">29.1.3.5.1.2. Initialization of Anonymous Classes</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-cl-reinit-mo">29.1.3.5.2. Reinitialization of class metaobjects</a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-cl-init-mo"></a>29.1.3.5.1. Initialization of <a href="mop-chap.html#mop-class-mo">class metaobject</a>s</h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#class-mo-init-methods">29.1.3.5.1.1. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-cl-init-anon">29.1.3.5.1.2. Initialization of Anonymous Classes</a></span></dt></dl></div><p>A <a href="mop-chap.html#mop-class-mo">class metaobject</a> can be created by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.
 The initialization arguments establish the definition of the class.
 A <a href="mop-chap.html#mop-class-mo">class metaobject</a> can be redefined by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.
 Some classes of <a href="mop-chap.html#mop-class-mo">class metaobject</a> do not support redefinition;
 in these cases, <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</p><p>Initialization of a <a href="mop-chap.html#mop-class-mo">class metaobject</a> must be done by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
and allowing it to call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>.  Reinitialization of a
<a href="mop-chap.html#mop-class-mo">class metaobject</a> must be done by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.  Portable
programs must <span class="strong"><strong>not</strong></span> </p><div class="itemizedlist"><ul type="disc"><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> directly to
    initialize a <a href="mop-chap.html#mop-class-mo">class metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a> directly to
    initialize or reinitialize a <a href="mop-chap.html#mop-class-mo">class metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> to change the class of any
    <a href="mop-chap.html#mop-class-mo">class metaobject</a> or to turn a non-class object into a
    <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</li></ul></div><p>Since metaobject classes may not be redefined,
 no behavior is specified for the result of calls to
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_efined-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-REDEFINED-CLASS</code></a> on <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.
 Since the class of <a href="mop-chap.html#mop-class-mo">class metaobject</a>s may not be changed,
 no behavior is specified for the result of calls to
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_ferent-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-DIFFERENT-CLASS</code></a> on <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.</p><p>During initialization or reinitialization, each initialization
argument is checked for errors and then associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
The value can then be accessed by calling the appropriate accessor as
shown in <a href="mop-chap.html#class-mo-initargs" title="Table 29.2. Initialization arguments and&#10;   accessors for class metaobjects">Table 29.2, “Initialization arguments and
   accessors for class metaobjects”</a>.</p><p>This section begins with a description of the error checking and
processing of each initialization argument.  This is followed by a table
showing the generic functions that can be used to access the stored
initialization arguments.  Initialization behavior specific to the
different specified <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes comes next.  The section ends with a
set of restrictions on portable methods affecting <a href="mop-chap.html#mop-class-mo">class metaobject</a> initialization
and reinitialization.</p><p>In these descriptions, the phrase “<span class="quote">this argument defaults to
<em class="replaceable"><code>value</code></em></span>” means that when that initialization argument is not
supplied, initialization or reinitialization is performed as if
<em class="replaceable"><code>value</code></em> had been supplied.  For some initialization arguments this
could be done by the use of default initialization arguments, but
whether it is done this way is not specified.  Implementations are free
to define default initialization arguments for specified <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes.
Portable programs are free to define default initialization arguments
for portable subclasses of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>.</p><p>Unless there is a specific note to the contrary, then during
reinitialization, if an initialization argument is not supplied, the
previously stored value is left unchanged.</p><div class="itemizedlist"><ul type="disc"><li><p>The <code class="constant">:DIRECT-DEFAULT-INITARGS</code> argument is a list
   of <a href="mop-chap.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s.</p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a>, or if any
   element of the list is not a <a href="mop-chap.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>.</p><p>If the <a href="mop-chap.html#mop-class-mo">class metaobject</a> is being initialized, this argument
   defaults to the empty list.</p></li><li><p> The <code class="constant">:DIRECT-SLOTS</code> argument is a list of
   <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s.</p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a> or if any
   element of the list is not a <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
  </p><p>After error checking, this value is converted to a
   list of <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s before it is associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a>.  Conversion
   of each <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> to a <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> is a two-step process.
   First, the generic function <a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> is called with the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and
   the <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> to determine the class of the new
   <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>; this permits both the <a href="mop-chap.html#mop-class-mo">class metaobject</a> and the
   <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> to control the resulting <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> class.
   Second, <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> is applied to the direct <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> class and the
   <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
   This conversion could be implemented as shown in the
   following code:</p><pre class="programlisting">
(<a href="http://www.lisp.org/HyperSpec/Body/mac_defun.html" target="_top"><code class="function">DEFUN</code></a> convert-to-direct-slot-definition (class canonicalized-slot)
  (<a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> #'<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
         (<a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> #'<a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a>
                class canonicalized-slot)
         canonicalized-slot))
</pre><p>If the <a href="mop-chap.html#mop-class-mo">class metaobject</a> is being initialized, this argument defaults to
   the empty list.</p><p>Once the <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s have been created, the specified reader and
   writer methods are created.  The generic functions
   <a href="mop-chap.html#reader-method-class" title="29.1.7.2.1. Generic Function CLOS:READER-METHOD-CLASS"><code class="function">CLOS:READER-METHOD-CLASS</code></a> and <a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="function">CLOS:WRITER-METHOD-CLASS</code></a> are called to
   determine the classes of the <a href="mop-chap.html#mop-method-mo">method metaobject</a>s created.</p></li><li><p> The <code class="constant">:DIRECT-SUPERCLASSES</code> argument is a list of
   <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.  Classes which do not support multiple inheritance
   signal an error if the list contains more than one element.</p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a> or if
   <a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> applied to <em class="replaceable"><code>class</code></em> and any element of this
   list returns false.</p><p>When the <a href="mop-chap.html#mop-class-mo">class metaobject</a> is being initialized, and this argument is
   either not supplied or is the empty list, this argument defaults as
   follows: if the class is an instance of <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> or one of
   its subclasses the default value is a list of the class
   <a href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>; if the class is an instance of
   <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> or one of its subclasses the default
   value is a list of the class
   <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-OBJECT</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>If the class is an instance of
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><code class="classname">STRUCTURE-CLASS</code></a> or one of its subclasses the default value is a
    list of the class <a href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><code class="classname">STRUCTURE-OBJECT</code></a></p></div><p>After any defaulting of the value, the generic function
   <a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> is called once for each element of the list.
  </p><p>When the <a href="mop-chap.html#mop-class-mo">class metaobject</a> is being reinitialized and this
   argument is supplied, the generic function <a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
   is called once for each <a href="mop-chap.html#mop-class-mo">class metaobject</a> in the previously stored value but not
   in the new value; the generic function <a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> is
   called once for each <a href="mop-chap.html#mop-class-mo">class metaobject</a> in the new value but not in the
   previously stored value.</p></li><li>The <code class="constant">:DOCUMENTATION</code> argument is
 a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>. An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if it is not. This argument default
 to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> during initialization.</li><li><p>The <code class="constant">:NAME</code> argument is an object.</p><p>If the class is being initialized, this argument defaults to
   <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</p></li></ul></div><p>After the processing and defaulting of initialization arguments
described above, the value of each initialization argument is associated
with the <a href="mop-chap.html#mop-class-mo">class metaobject</a>.  These values can then be accessed by calling
the corresponding generic function.  The correspondences are as follows:
 </p><div class="table"><a id="class-mo-initargs"></a><p class="title"><b>Table 29.2. Initialization arguments and
   accessors for <a href="mop-chap.html#mop-class-mo">class metaobject</a>s</b></p><div class="table-contents"><table summary="Initialization arguments and&#10;   accessors for class metaobjects" border="1"><colgroup><col /><col /></colgroup><thead><tr><th align="center">Initialization Argument</th><th align="center">Generic Function</th></tr></thead><tbody><tr><td align="center"><code class="constant">:DIRECT-DEFAULT-INITARGS</code></td><td align="center"><a href="mop-chap.html#class-direct-default-initargs" title="29.1.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></td></tr><tr><td align="center"><code class="constant">:DIRECT-SLOTS</code></td><td align="center"><a href="mop-chap.html#class-direct-slots" title="29.1.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></td></tr><tr><td align="center"><code class="constant">:DIRECT-SUPERCLASSES</code></td><td align="center"><a href="mop-chap.html#class-direct-superclasses" title="29.1.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></td></tr><tr><td align="center"><code class="constant">:DOCUMENTATION</code></td><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><code class="function">DOCUMENTATION</code></a></td></tr><tr><td align="center"><code class="constant">:NAME</code></td><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a></td></tr></tbody></table></div></div><p><br class="table-break" /></p><p>Instances of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> support multiple
inheritance and reinitialization.  Instances of the class
<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> support multiple inheritance and
reinitialization.  For forward referenced classes, all of the
initialization arguments default to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>Instances of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><code class="classname">STRUCTURE-CLASS</code></a> do
  not support multiple inheritance and reinitialization.
</p></div><p>Since built-in classes cannot be created or reinitialized by the
user, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>
are called to initialize or reinitialize a derived instance of the class
<a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="class-mo-init-methods"></a>29.1.3.5.1.1. Methods</h6></div></div></div><p>It is not specified which methods provide the initialization and
reinitialization behavior described above.  Instead, the information
needed to allow portable programs to specialize this behavior is
presented as a set of restrictions on the methods a portable program can
define.  The model is that portable initialization methods have access
to the <a href="mop-chap.html#mop-class-mo">class metaobject</a> when either all or none of the specified initialization
has taken effect.</p><p>These restrictions govern the methods that a portable program can
 define on the generic functions <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>, and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.
 These restrictions apply only to methods on these generic functions for
 which the first specializer is a subclass of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>.
 Other portable methods on these generic functions are not affected by
 these restrictions.</p><div class="itemizedlist"><ul type="disc"><li>Portable programs must not define methods on
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.</li><li><p>For <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>:
   </p><div class="itemizedlist"><ul type="circle"><li>Portable programs must not define primary methods.
 </li><li>Portable programs may define around-methods, but
   these must be extending, not overriding methods.</li><li>Portable before-methods must assume that when they
   are run, none of the initialization behavior described above has been
   completed.</li><li>Portable after-methods must assume that when they
   are run, all of the initialization behavior described above has been
   completed.</li></ul></div></li></ul></div><p>The results are undefined if any of
 these restrictions are violated.</p></div>
<!--class-mo-init-methods-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-cl-init-anon"></a>29.1.3.5.1.2. Initialization of Anonymous Classes</h6></div></div></div><p><a href="mop-chap.html#mop-class-mo">class metaobject</a>s created with <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are usually
 <strong class="first"><em class="firstterm">anonymous</em></strong>; that is, they have no <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name" target="_top">proper name</a>.
An anonymous <a href="mop-chap.html#mop-class-mo">class metaobject</a> can be given a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name" target="_top">proper name</a> using
<code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>)</code> and
<code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a>)</code>.</p><p>When a <a href="mop-chap.html#mop-class-mo">class metaobject</a> is created with <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>, it is initialized
in the usual way.  The initialization arguments passed to
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are use to establish the definition of the class.  Each
initialization argument is checked for errors and associated with the
<a href="mop-chap.html#mop-class-mo">class metaobject</a>.  The initialization arguments correspond roughly to the
arguments accepted by the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro, and more closely to the
arguments accepted by the <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> function.</p><p>Some <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes allow their instances to be
 redefined.  When permissible, this is done by calling
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.  This is discussed in the
 <a href="mop-chap.html#mop-cl-reinit-mo" title="29.1.3.5.2. Reinitialization of class metaobjects">next section</a>.</p><p>An example of creating an anonymous class directly using
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> follows:</p><pre class="programlisting">
(flet ((zero () 0)
       (propellor () *propellor*))
  (make-instance 'standard-class
    :name '(my-class foo)
    :direct-superclasses (list (find-class 'plane)
                               another-anonymous-class)
    :direct-slots `((:name x
                     :initform 0
                     :initfunction ,#'zero
                     :initargs (:x)
                     :readers (position-x)
                     :writers ((setf position-x)))
                    (:name y
                     :initform 0
                     :initfunction ,#'zero
                     :initargs (:y)
                     :readers (position-y)
                     :writers ((setf position-y))))
    :direct-default-initargs `((:engine *propellor* ,#'propellor))))
</pre></div>
<!--mop-cl-init-anon-->
</div>
<!--mop-cl-init-mo-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-cl-reinit-mo"></a>29.1.3.5.2. Reinitialization of <a href="mop-chap.html#mop-class-mo">class metaobject</a>s</h5></div></div></div><p>Some <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes allow their instances to be reinitialized.
This is done by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.  The initialization
arguments have the same interpretation as in class initialization.</p><p>If the <a href="mop-chap.html#mop-class-mo">class metaobject</a> was finalized before the call to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>,
<a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> will be called again once all the initialization
arguments have been processed and associated with the <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
In addition, once finalization is complete, any dependents of the
<a href="mop-chap.html#mop-class-mo">class metaobject</a> will be updated by calling <a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a>.</p></div>
<!--mop-cl-reinit-mo-->
</div>
<!--mop-cl-init-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-customize"></a>29.1.3.6. Customization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#setf-class-name">29.1.3.6.1. Generic Function <code class="code">(SETF CLASS-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-class">29.1.3.6.2. Generic Function <code class="function">CLOS:ENSURE-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-class-UC">29.1.3.6.3. Generic Function <code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#finalize-inheritance">29.1.3.6.4. Generic Function <code class="function">CLOS:FINALIZE-INHERITANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-make-instance">29.1.3.6.5. Generic Function <code class="function">MAKE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#alloc-instance">29.1.3.6.6. Generic Function <code class="function">ALLOCATE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#validate-superclass">29.1.3.6.7. Generic Function <code class="function">CLOS:VALIDATE-SUPERCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-dsd-initargs">29.1.3.6.8. Generic Function <code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#dsd-class">29.1.3.6.9. Generic Function <code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-cpl">29.1.3.6.10. Generic Function <code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-slots">29.1.3.6.11. Generic Function <code class="function">CLOS:COMPUTE-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-esd">29.1.3.6.12. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-esd-initargs">29.1.3.6.13. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#esd-class">29.1.3.6.14. Generic Function <code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-default-initargs">29.1.3.6.15. Generic Function <code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a></span></dt></dl></div>
<!--begin class basic customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="setf-class-name"></a>29.1.3.6.1. Generic Function <a href="mop-chap.html#setf-class-name" title="29.1.3.6.1. Generic Function (SETF CLASS-NAME)"><code class="code">(SETF CLASS-NAME)</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#setf-class-name" title="29.1.3.6.1. Generic Function (SETF CLASS-NAME)"><code class="code">(SETF CLASS-NAME)</code></a> <em class="replaceable"><code>new-name</code></em>
 <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>new-name</code></em></span></dt><dd>any Lisp object.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This function returns its <em class="replaceable"><code>new-name</code></em> argument.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This function changes the name of <em class="replaceable"><code>class</code></em> to <em class="replaceable"><code>new-name</code></em>.
   This value is usually a symbol, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> if the class has no name.</p><p>This function works by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> with
   <em class="replaceable"><code>class</code></em> as its first argument, the symbol <code class="constant">:NAME</code> as its second
   argument and <em class="replaceable"><code>new-name</code></em> as its third argument.
</p></dd></dl></div></div>
<!--setf-class-name-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ensure-class"></a>29.1.3.6.2. Generic Function <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> <em class="replaceable"><code>name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>.</dd><dt><span class="term">keyword arguments</span></dt><dd>Some of the keyword arguments accepted by this
      function are actually processed by <a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>,
      others are processed during initialization of the <a href="mop-chap.html#mop-class-mo">class metaobject</a>
      (as described in <a href="mop-chap.html#mop-cl-init-mo" title="29.1.3.5.1. Initialization of class metaobjects">Section 29.1.3.5.1, “Initialization of class metaobjects”</a>).
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This function is called to define or redefine a
   class with the specified name, and can be called by the user or the
   implementation.  It is the functional equivalent of <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>, and
   is called by the expansion of the <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro.</p><p>The behavior of this function is actually implemented by the
   generic function <a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>.  When <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> is called,
   it immediately calls <a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> and returns that result as its
   own.</p><p>The first argument to <a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> is computed as
   follows:</p><div class="itemizedlist"><ul type="disc"><li>If <em class="replaceable"><code>name</code></em> names a class (<a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> returns a
      class when called with <em class="replaceable"><code>name</code></em>) use that class.</li><li>Otherwise use <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</li></ul></div><p>
   The second argument is <em class="replaceable"><code>name</code></em>.  The remaining arguments are the
   complete set of keyword arguments received by the <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>
   function.</p></dd></dl></div></div>
<!--ensure-class-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ensure-class-UC"></a>29.1.3.6.3. Generic Function <a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    <code class="constant">:DIRECT-DEFAULT-INITARGS</code> <code class="constant">:DIRECT-SLOTS</code> <code class="constant">:DIRECT-SUPERCLASSES</code>
    <code class="constant">:NAME</code> <code class="constant">:METACLASS</code> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</dd><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd>a class name.</dd><dt><span class="term"><code class="constant">:METACLASS</code></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> class or a <a href="mop-chap.html#mop-class-mo">class metaobject</a> class name.  If this
      argument is not supplied, it defaults to the class named
      <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>.  If a class name is supplied, it is interpreted
      as the class with that name.  If a class name is supplied, but
      there is no such class, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</dd><dt><span class="term"><code class="constant">:DIRECT-SUPERCLASSES</code></span></dt><dd>a list of which each element is a <a href="mop-chap.html#mop-class-mo">class metaobject</a> or a
      class name.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this argument is not a
      <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a>.</dd><dt><span class="term">additional keyword arguments</span></dt><dd>See <a href="mop-chap.html#mop-cl-init-mo" title="29.1.3.5.1. Initialization of class metaobjects">Section 29.1.3.5.1, “Initialization of class metaobjects”</a>
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to define or modify
   the definition of a named class.  It is called by the <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>
   function.  It can also be called directly.</p><p>The first step performed by this generic function is to
   compute the set of initialization arguments which will be used to
   create or reinitialize the named class.  The initialization arguments
   are computed from the full set of keyword arguments received by this
   generic function as follows:</p><div class="itemizedlist"><ul type="disc"><li>The <code class="constant">:METACLASS</code> argument is not included in the
      initialization arguments.</li><li><p>If the <code class="constant">:DIRECT-SUPERCLASSES</code> argument was received
      by this generic function, it is converted into a list of <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.
      This conversion does not affect the structure of the supplied
      <code class="constant">:DIRECT-SUPERCLASSES</code> argument.  For each element in the
      <code class="constant">:DIRECT-SUPERCLASSES</code> argument:</p><div class="itemizedlist"><ul type="circle"><li>If the element is a <a href="mop-chap.html#mop-class-mo">class metaobject</a>, that
         <a href="mop-chap.html#mop-class-mo">class metaobject</a> is used.</li><li>If the element names a class, that <a href="mop-chap.html#mop-class-mo">class metaobject</a> is
         used.</li><li><p>Otherwise an instance of the class
         <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> is created and used.
         The <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name" target="_top">proper name</a> of the newly created forward referenced
         <a href="mop-chap.html#mop-class-mo">class metaobject</a> is set to the element.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>A new <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>
          instance is only created when one for the given class name
          does not yet exist; otherwise the existing one is reused.
          See <a href="mop-chap.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP">Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span><strong class="command">CLISP</strong></span></a>.</p></div></li></ul></div></li><li>All other keyword arguments are included directly
      in the initialization arguments.</li></ul></div><p>If the <em class="replaceable"><code>class</code></em> argument is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, a new <a href="mop-chap.html#mop-class-mo">class metaobject</a> is created
   by calling the <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> generic function with the value of the
   <code class="constant">:METACLASS</code> argument as its first argument, and the previously
   computed initialization arguments.  The <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name" target="_top">proper name</a> of the
   newly created <a href="mop-chap.html#mop-class-mo">class metaobject</a> is set to <em class="replaceable"><code>name</code></em>.  The newly created <a href="mop-chap.html#mop-class-mo">class metaobject</a> is
   returned.</p><p>If the <em class="replaceable"><code>class</code></em> argument is a forward referenced class,
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> is called to change its class to the value specified
   by the <code class="constant">:METACLASS</code> argument.  The <a href="mop-chap.html#mop-class-mo">class metaobject</a> is then reinitialized with
   the previously initialization arguments.  (This is a documented
   violation of the general constraint that <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> may not be
   used with <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.)</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>
    The <em class="replaceable"><code>class</code></em> argument cannot be a forward referenced class. See
    <a href="mop-chap.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP">Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span><strong class="command">CLISP</strong></span></a>.</p></div><p>If the class of the <em class="replaceable"><code>class</code></em> argument is not the same as the
   class specified by the <code class="constant">:METACLASS</code> argument, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>Otherwise, the <a href="mop-chap.html#mop-class-mo">class metaobject</a> <em class="replaceable"><code>class</code></em> is redefined by calling the
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> generic function with <em class="replaceable"><code>class</code></em> and the
   initialization arguments.  The <em class="replaceable"><code>class</code></em> argument is then
   returned.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) <em class="replaceable"><code>name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:METACLASS</code>
   <code class="constant">:DIRECT-SUPERCLASSES</code> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function in the case where the <em class="replaceable"><code>class</code></em> argument is a class.</p><p>This method can be overridden.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>) <em class="replaceable"><code>name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:METACLASS</code>
   <code class="constant">:DIRECT-SUPERCLASSES</code> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function in the case where the <em class="replaceable"><code>class</code></em> argument is a forward
   referenced class.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>This method does not exist.
   See <a href="mop-chap.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP">Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span><strong class="command">CLISP</strong></span></a>.
   Use the method specialized on <a href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><code class="classname">NULL</code></a> instead.</p></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#ensure-class-UC" title="29.1.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><code class="classname">NULL</code></a>) <em class="replaceable"><code>name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:METACLASS</code>
   <code class="constant">:DIRECT-SUPERCLASSES</code> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd>This method implements the behavior of the generic
   function in the case where the <em class="replaceable"><code>class</code></em> argument is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
</dd></dl></div></div>
<!--ensure-class-UC-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="finalize-inheritance"></a>29.1.3.6.4. Generic Function <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
     <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to finalize a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
   This is described in <a href="mop-chap.html#mop-cl-finalization" title="29.1.3.4. Class Finalization Protocol">Section 29.1.3.4, “Class Finalization Protocol”</a>
  </p><p>After <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> returns, the <a href="mop-chap.html#mop-class-mo">class metaobject</a> is
   finalized and the result of calling <a href="mop-chap.html#class-finalized-p" title="29.1.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a> on the <a href="mop-chap.html#mop-class-mo">class metaobject</a>
   will be true.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>))</code></span></span></dt><dd>No behavior is specified for these
   methods beyond that which is specified for their respective generic
   functions.</dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>))</code></span></span></dt><dd>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
</dd></dl></div></div>
<!--finalize-inheritance-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-make-instance"></a>29.1.3.6.5. Generic Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> <em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
    <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> or a class name.
   </dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>a list of alternating initialization argument
      names and values.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is a newly allocated and initialized
 instance of <em class="replaceable"><code>class</code></em>.</dd><dt><span class="term">Purpose</span></dt><dd>The generic function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> creates and
   returns a new instance of the given class.  Its behavior and use is
   described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].
</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd>This method simply invokes <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
   recursively on the arguments <span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>
   <em class="replaceable"><code>class</code></em>)</code></span> and <em class="replaceable"><code>initargs</code></em>.</dd><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd>These methods implement the behavior of
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section
   <a href="http://www.lisp.org/HyperSpec/Body/sec_7-1.html" target="_top">7.1
    “<span class="quote">Object Creation and Initialization</span>”</a>.
</dd></dl></div></div>
<!--mop-make-instance-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="alloc-instance"></a>29.1.3.6.6. Generic Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a> <em class="replaceable"><code>class</code></em>
     <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>alternating initialization argument names and
      values.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned is a newly allocated instance of
   <em class="replaceable"><code>class</code></em></dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to create a new,
   uninitialized instance of a class.  The interpretation of the concept
   of an <strong class="first"><em class="firstterm">uninitialized</em></strong> instance depends on the
   <a href="mop-chap.html#mop-class-mo">class metaobject</a> class.</p><p>Before allocating the new instance, <a href="mop-chap.html#class-finalized-p" title="29.1.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a> is
   called to see if <em class="replaceable"><code>class</code></em> has been finalized.  If it has not been
   finalized, <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> is called before the new instance
   is allocated.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em></code></span></span></dt><dd>This method allocates storage in the instance for
   each slot with allocation <code class="constant">:INSTANCE</code>.  These slots are unbound.
   Slots with any other allocation are ignored by this method (no
   <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed).</dd><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>This method allocates storage in the instance for
   each slot with allocation <code class="constant">:INSTANCE</code>.  These slots are unbound.
   Slots with any other allocation are ignored by this method (no
   <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed).</p><p>The funcallable instance function of the instance is
   undefined - the results are undefined if the instance is applied to
   arguments before <a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a> has been used
   to set the funcallable instance function.
</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
</dd></dl></div></div>
<!--alloc-instance-->
<!--end class basic customization-->
<!--begin class advanced customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="validate-superclass"></a>29.1.3.6.7. Generic Function <a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> <em class="replaceable"><code>class</code></em>
    <em class="replaceable"><code>superclass</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>superclass</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns true or false.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to determine whether
   the class <em class="replaceable"><code>superclass</code></em> is suitable for use as a superclass of
   <em class="replaceable"><code>class</code></em>.</p><p>This generic function can be be called by the implementation
   or user code.  It is called during <a href="mop-chap.html#mop-class-mo">class metaobject</a> initialization and
   reinitialization, before the direct superclasses are stored.  If this
   generic function returns false, the initialization or
   reinitialization will signal an error.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>superclass</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>This method returns true in three situations:
  </p><div class="orderedlist"><ol type="i"><li>If the <em class="replaceable"><code>superclass</code></em> argument is the class named <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>,
   </li><li>if the class of the <em class="replaceable"><code>class</code></em> argument is the same
     as the class of the <em class="replaceable"><code>superclass</code></em> argument, or
   </li><li>if the class of one of the arguments is
     <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> and the class of the other is
     <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>.</li></ol></div><p>In all other cases, this method returns false.</p><p>This method can be overridden.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>This method also returns true in a fourth situation:
   </p><div class="orderedlist"><ol start="4" type="i"><li>If the class of the <em class="replaceable"><code>class</code></em> argument is a subclass
      of the class of the <em class="replaceable"><code>superclass</code></em> argument.
 </li></ol></div></div></dd></dl></div><p><b>Remarks. </b>Defining a method on <a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> requires detailed
 knowledge of of the internal protocol followed by each of the two
 <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes.  A method on <a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> which returns true
 for two different <a href="mop-chap.html#mop-class-mo">class metaobject</a> classes declares that they are
 compatible.</p></div>
<!--validate-superclass-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-dsd-initargs"></a>29.1.3.6.8. Generic Function <a href="mop-chap.html#compute-dsd-initargs" title="29.1.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a></h5></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p></p></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-dsd-initargs" title="29.1.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a> <em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
     <em class="replaceable"><code>slot-spec</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>slot-spec</code></em></span></dt><dd>a
       <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is a
   list of initialization arguments for a <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function determines the initialization
   arguments for the direct slot definition for a slot in a class.
   It is called during initialization of a class.  The resulting
   initialization arguments are passed to <a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> and then to
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.</p><p>This generic function uses the supplied <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
   The value of <code class="constant">:NAME</code> in the returned initargs is the same as the value
   of <code class="constant">:NAME</code> in the supplied <em class="replaceable"><code>slot-spec</code></em> argument.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-dsd-initargs" title="29.1.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>slot-spec</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-dsd-initargs" title="29.1.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>slot-spec</code></em>)</code></span></span></dt><dd><p>This method returns <em class="replaceable"><code>slot-spec</code></em> unmodified.</p><p>This method can be overridden.</p></dd></dl></div></div>
<!--compute-dsd-initargs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="dsd-class"></a>29.1.3.6.9. Generic Function <a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> <em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
    <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>a set of initialization arguments and values.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned is a subclass of the class <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:DIRECT-SLOT-DEFINITION</code></a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>When a class is initialized, each of the
   <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s must be converted to a <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.
   This generic function is called to determine
   the class of that <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</p><p>The <em class="replaceable"><code>initargs</code></em> argument is simply the
   <a href="mop-chap.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> for the slot.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a>
    (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> (<em class="replaceable"><code>class</code></em>
    <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>These methods return the class <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>.
  </p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--dsd-class-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-cpl"></a>29.1.3.6.10. Generic Function <a href="mop-chap.html#compute-cpl" title="29.1.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-cpl" title="29.1.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a>
     <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is a
   list of <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic-function is called to determine the
   class precedence list of a class.</p><p>The result is a list which contains each of <em class="replaceable"><code>class</code></em> and its
   superclasses once and only once.  The first element of the list is
   <em class="replaceable"><code>class</code></em> and the last element is the class named <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>.</p><p>All methods on this generic function must compute the class
   precedence list as a function of the ordered direct superclasses of
   the superclasses of <em class="replaceable"><code>class</code></em>.  The results are undefined if the
   rules used to compute the class precedence list depend on any other
   factors.</p><p>When a class is finalized, <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls this
   generic function and associates the returned value with the <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
   The value can then be accessed by calling <a href="mop-chap.html#cpl" title="29.1.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a>.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-cpl" title="29.1.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>This method computes the class precedence list
   according to the rules described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section
   <a href="http://www.lisp.org/HyperSpec/Body/sec_4-3-5.html" target="_top">4.3.5 “<span class="quote">Determining the
     Class Precedence List</span>”</a>.</p><p>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> or any of its superclasses
  is a forward referenced class.</p><p>This method can be overridden.</p></dd></dl></div></div>
<!--compute-cpl-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-slots"></a>29.1.3.6.11. Generic Function <a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> <em class="replaceable"><code>class</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned is a set of <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function computes a set of effective
   <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s for the class <em class="replaceable"><code>class</code></em>.  The result is a list of <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s:
   one for each slot that will be accessible in instances of <em class="replaceable"><code>class</code></em>.
  </p><p>This generic function proceeds in 3 steps:</p><p>The first step collects the full set of direct slot
   definitions from the superclasses of <em class="replaceable"><code>class</code></em>.</p><p>The direct slot definitions are then collected into
   individual lists, one list for each slot name associated with any of
   the direct slot definitions.  The slot names are compared with
   <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a>.  Each such list is then sorted into class precedence list
   order.  Direct slot definitions coming from classes earlier in the
   class precedence list of <em class="replaceable"><code>class</code></em> appear before those coming from
   classes later in the class precedence list.  For each slot name, the
   generic function <a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> is called to compute an effective slot
   definition.  The result of <a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> is a list of these
   effective slot definitions, in unspecified order.</p><p>In the final step, the location for each effective slot
   definition is set.  This is done by specified around-methods;
   portable methods cannot take over this behavior.
   For more information on the slot definition locations,
   see <a href="mop-chap.html#mop-sa-instance-stuct" title="29.1.10.1. Instance Structure Protocol">Section 29.1.10.1, “Instance Structure Protocol”</a>.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)}</code></span></span></dt><dd><p>These methods implement the specified behavior of
   the generic function.</p><p>These methods can be overridden.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   <code class="constant">:AROUND</code> (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> <code class="constant">:AROUND</code>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>))</code></span></span></dt><dd>These methods implement the specified behavior of
   computing and storing slot locations.
   These methods cannot be overridden.
</dd></dl></div></div>
<!--compute-slots-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-esd"></a>29.1.3.6.12. Generic Function <a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>name</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd>a slot name.</dd><dt><span class="term"><em class="replaceable"><code>direct-slot-definitions</code></em></span></dt><dd>an ordered list of <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.  The most specific
      <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> appears first in the list.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is an
   <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function determines the effective slot
   definition for a slot in a class.  It is called by <a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   once for each slot accessible in instances of <em class="replaceable"><code>class</code></em>.</p><p>This generic function uses the supplied list of <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s to
   compute the inheritance of slot properties for a single slot.  The
   returned effective slot definition represents the result of computing
   the inheritance.  The name of the new effective slot definition is
   the same as the name of the direct slot definitions supplied.</p><p>The class of the <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> is determined by calling
   <a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a>.  The effective slot definition is then created by
   calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.  The initialization arguments passed in this
   call to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are used to initialize the new <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.
   See <a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions">Section 29.1.4, “Slot Definitions”</a> for details.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>name</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>name</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span></span></dt><dd><p>This method implements the
 inheritance and defaulting of slot options following the rules
 described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section <a href="http://www.lisp.org/HyperSpec/Body/sec_7-5-3.html" target="_top">7.5.3 “<span class="quote">Inheritance of Slots and Options</span>”</a>.</p><p>This method can be extended, but the value returned by the
   extending method must be the value returned by this method.
</p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The initialization arguments that are passed
  to <a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are computed through a call to
  <a href="mop-chap.html#compute-esd-initargs" title="29.1.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a>.  It is the <a href="mop-chap.html#compute-esd-initargs" title="29.1.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a> method that
  implements the inheritance rules.</p></div></div>
<!--compute-esd-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-esd-initargs"></a>29.1.3.6.13. Generic Function <a href="mop-chap.html#compute-esd-initargs" title="29.1.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a></h5></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p></p></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-esd-initargs" title="29.1.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>direct-slot-definitions</code></em></span></dt><dd>an ordered list of <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.  The most specific
      <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> appears first in the list.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is a
   list of initialization arguments for an <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function determines the initialization
   arguments for the effective slot definition for a slot in a class.
   It is called by <a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a>.  The resulting initialization arguments
   are passed to <a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> and then to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.</p><p>This generic function uses the supplied list of <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s to
   compute the inheritance of slot properties for a single slot.  The
   returned effective slot definition initargs represent the result of
   computing the inheritance.  The value of <code class="constant">:NAME</code> in the returned
   initargs is the same as the name of the direct slot definitions
   supplied.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-esd-initargs" title="29.1.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-esd-initargs" title="29.1.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span></span></dt><dd><p>This method implements the
 inheritance and defaulting of slot options following the rules
 described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section <a href="http://www.lisp.org/HyperSpec/Body/sec_7-5-3.html" target="_top">7.5.3 “<span class="quote">Inheritance of Slots and Options</span>”</a>.</p><p>This method can be extended.</p></dd></dl></div></div>
<!--compute-esd-initargs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="esd-class"></a>29.1.3.6.14. Generic Function <a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> <em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
    <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>set of initialization arguments and values.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned is a subclass of the class <a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a>.
</dd><dt><span class="term">Purpose</span></dt><dd>This generic function is called by <a href="mop-chap.html#compute-esd" title="29.1.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> to
   determine the class of the resulting <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.  The <em class="replaceable"><code>initargs</code></em>
   argument is the set of initialization arguments and values that will
   be passed to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> when the <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> is created.
</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> (<em class="replaceable"><code>class</code></em>
   <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>These methods return the class <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>.
  </p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--esd-class-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-default-initargs"></a>29.1.3.6.15. Generic Function <a href="mop-chap.html#compute-default-initargs" title="29.1.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-default-initargs" title="29.1.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>
    <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is a
   list of <a href="mop-chap.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic-function is called to determine the
   default initialization arguments for a class.</p><p>The result is a list of <a href="mop-chap.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s,
  with no duplication among initialization argument names.</p><p>All methods on this generic function must compute the default
  initialization arguments as a function of only:
  </p><div class="orderedlist"><ol type="i"><li>the class precedence list of <em class="replaceable"><code>class</code></em>,
     and</li><li>the direct default initialization arguments of each
     class in that list.</li></ol></div><p>The results are undefined if the rules used to compute
  the default initialization arguments depend on any other factors.</p><p>When a class is finalized, <a href="mop-chap.html#finalize-inheritance" title="29.1.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls this
  generic function and associates the returned value with the <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
  The value can then be accessed by calling
  <a href="mop-chap.html#class-default-initargs" title="29.1.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a>.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-default-initargs" title="29.1.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-default-initargs" title="29.1.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>))</code></span></span></dt><dd><p>These methods compute the default initialization
   arguments according to the rules described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section
   <a href="http://www.lisp.org/HyperSpec/Body/sec_7-1-3.html" target="_top">7.1.3 “<span class="quote">Defaulting
     of Initialization Arguments</span>”</a>.</p><p>These methods signal an error if <em class="replaceable"><code>class</code></em> or any of its
   superclasses is a forward referenced class.</p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--compute-default-initargs-->
<!--end class advanced customization-->
</div>
<!--mop-cl-customize-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-dep"></a>29.1.3.7. Updating Dependencies</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#add-direct-subclass">29.1.3.7.1. Generic Function <code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-direct-subclass">29.1.3.7.2. Generic Function <code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="add-direct-subclass"></a>29.1.3.7.1. Generic Function <a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> <em class="replaceable"><code>superclass</code></em>
    <em class="replaceable"><code>subclass</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>superclass</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>subclass</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to maintain a set of
   backpointers from a class to its direct subclasses.  This generic
   function adds <em class="replaceable"><code>subclass</code></em> to the set of direct subclasses of
   <em class="replaceable"><code>superclass</code></em>.</p><p>When a class is initialized, this generic function is called
   once for each direct superclass of the class.</p><p>When a class is reinitialized, this generic function is
   called once for each added direct superclass of the class.  The
   generic function <a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a> is called once for each
   deleted direct superclass of the class.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a>
   (<em class="replaceable"><code>superclass</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>subclass</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#class-direct-subclasses" title="29.1.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div><p>
</p></dd></dl></div></div>
<!--add-direct-subclass-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="remove-direct-subclass"></a>29.1.3.7.2. Generic Function <a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a> <em class="replaceable"><code>superclass</code></em>
    <em class="replaceable"><code>subclass</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>superclass</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>subclass</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to maintain a set of
   backpointers from a class to its direct subclasses.  It removes
   <em class="replaceable"><code>subclass</code></em> from the set of direct subclasses of <em class="replaceable"><code>superclass</code></em>.  No
   <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if <em class="replaceable"><code>subclass</code></em> is not in this set.</p><p>Whenever a class is reinitialized, this generic function is
   called once with each deleted direct superclass of the class.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#remove-direct-subclass" title="29.1.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
   (<em class="replaceable"><code>superclass</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>subclass</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-direct-subclass" title="29.1.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#class-direct-subclasses" title="29.1.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div></dd></dl></div></div>
<!--remove-direct-subclass-->
</div>
<!--mop-cl-dep-->
</div>
<!--mop-classes-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-sd"></a>29.1.4. Slot Definitions</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-sd-inheritance">29.1.4.1. Inheritance Structure of slot definition metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-sd-readers">29.1.4.2. Introspection: Readers for slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-sd-readers-GFs">29.1.4.2.1. Generic Functions</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-name">29.1.4.2.1.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-allocation">29.1.4.2.1.2. Generic Function <code class="function">CLOS:SLOT-DEFINITION-ALLOCATION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initform">29.1.4.2.1.3. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITFORM</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initfunction">29.1.4.2.1.4. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-type">29.1.4.2.1.5. Generic Function <code class="function">CLOS:SLOT-DEFINITION-TYPE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initargs">29.1.4.2.1.6. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITARGS</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-methods">29.1.4.2.2. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-dsd">29.1.4.2.3. Readers for direct slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-readers">29.1.4.2.3.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-READERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-writers">29.1.4.2.3.2. Generic Function <code class="function">CLOS:SLOT-DEFINITION-WRITERS</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-esd">29.1.4.2.4. Readers for effective slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-location">29.1.4.2.4.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-LOCATION</code></a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-sd-init">29.1.4.3. Initialization of slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-mo-methods">29.1.4.3.1. Methods</a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-sd-inheritance"></a>29.1.4.1. Inheritance Structure of <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> Classes</h4></div></div></div><div class="figure"><a id="mop-sd-inheritance-fig"></a><p class="title"><b>Figure 29.3. Inheritance structure of <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-slotdef.png" width="100%" alt="Inheritance structure of slot definition metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-sd-readers"></a>29.1.4.2. Introspection: Readers for <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-sd-readers-GFs">29.1.4.2.1. Generic Functions</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-name">29.1.4.2.1.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-allocation">29.1.4.2.1.2. Generic Function <code class="function">CLOS:SLOT-DEFINITION-ALLOCATION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initform">29.1.4.2.1.3. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITFORM</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initfunction">29.1.4.2.1.4. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-type">29.1.4.2.1.5. Generic Function <code class="function">CLOS:SLOT-DEFINITION-TYPE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initargs">29.1.4.2.1.6. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITARGS</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-methods">29.1.4.2.2. Methods</a></span></dt><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-dsd">29.1.4.2.3. Readers for direct slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-readers">29.1.4.2.3.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-READERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-writers">29.1.4.2.3.2. Generic Function <code class="function">CLOS:SLOT-DEFINITION-WRITERS</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#slotd-mo-readers-esd">29.1.4.2.4. Readers for effective slot definition metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#slotdef-location">29.1.4.2.4.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-LOCATION</code></a></span></dt></dl></dd></dl></div><p>The reader generic functions which simply return information
associated with <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s are presented together here
in the format described in <a href="mop-chap.html#mop-cl-readers" title="29.1.3.3. Introspection: Readers for class metaobjects">Section 29.1.3.3, “Introspection: Readers for class metaobjects”</a>.</p><p>Each of the reader generic functions for <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s has the same
syntax, accepting one required argument called <em class="replaceable"><code>slot</code></em>, which must be a
<a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>; otherwise, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed. An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is also <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>
has not been initialized.</p><p>These generic functions can be called by the user or the
implementation.</p><p>For any of these generic
 functions which returns a list, such lists will not be mutated by the
 implementation.  The results are undefined if a portable program allows
 such a list to be mutated.</p>
<!--begin slot-definition basic introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-sd-readers-GFs"></a>29.1.4.2.1. Generic Functions</h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#slotdef-name">29.1.4.2.1.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-allocation">29.1.4.2.1.2. Generic Function <code class="function">CLOS:SLOT-DEFINITION-ALLOCATION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initform">29.1.4.2.1.3. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITFORM</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initfunction">29.1.4.2.1.4. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-type">29.1.4.2.1.5. Generic Function <code class="function">CLOS:SLOT-DEFINITION-TYPE</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-initargs">29.1.4.2.1.6. Generic Function <code class="function">CLOS:SLOT-DEFINITION-INITARGS</code></a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-name"></a>29.1.4.2.1.1. Generic Function <a href="mop-chap.html#slotdef-name" title="29.1.4.2.1.1. Generic Function CLOS:SLOT-DEFINITION-NAME"><code class="function">CLOS:SLOT-DEFINITION-NAME</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-name" title="29.1.4.2.1.1. Generic Function CLOS:SLOT-DEFINITION-NAME"><code class="function">CLOS:SLOT-DEFINITION-NAME</code></a> <em class="replaceable"><code>slot</code></em>)</code></h6></div></div></div><p>Returns the name of <em class="replaceable"><code>slot</code></em>.  This value is a symbol that can be
used as a variable name.  This is the value of the <code class="constant">:NAME</code>
initialization argument that was associated with the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during
initialization.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The slot name does not need to be usable as a
  variable name. Slot names like <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a> are perfectly valid.
</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-allocation"></a>29.1.4.2.1.2. Generic Function <a href="mop-chap.html#slotdef-allocation" title="29.1.4.2.1.2. Generic Function CLOS:SLOT-DEFINITION-ALLOCATION"><code class="function">CLOS:SLOT-DEFINITION-ALLOCATION</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-allocation" title="29.1.4.2.1.2. Generic Function CLOS:SLOT-DEFINITION-ALLOCATION"><code class="function">CLOS:SLOT-DEFINITION-ALLOCATION</code></a> <em class="replaceable"><code>slot</code></em>)</code></h6></div></div></div><p>Returns the allocation of <em class="replaceable"><code>slot</code></em>.  This is a symbol.  This is
the defaulted value of the <code class="constant">:ALLOCATION</code> initialization argument that
was associated with the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during initialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-initform"></a>29.1.4.2.1.3. Generic Function <a href="mop-chap.html#slotdef-initform" title="29.1.4.2.1.3. Generic Function CLOS:SLOT-DEFINITION-INITFORM"><code class="function">CLOS:SLOT-DEFINITION-INITFORM</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-initform" title="29.1.4.2.1.3. Generic Function CLOS:SLOT-DEFINITION-INITFORM"><code class="function">CLOS:SLOT-DEFINITION-INITFORM</code></a> <em class="replaceable"><code>slot</code></em>)</code></h6></div></div></div><p>Returns the initialization form of <em class="replaceable"><code>slot</code></em>.  This can be any
form.  This is the defaulted value of the <code class="constant">:INITFORM</code> initialization
argument that was associated with the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during initialization.
When <em class="replaceable"><code>slot</code></em> has no initialization form, the value returned is
unspecified (however, <a href="mop-chap.html#slotdef-initfunction" title="29.1.4.2.1.4. Generic Function CLOS:SLOT-DEFINITION-INITFUNCTION"><code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a> is guaranteed to return
<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-initfunction"></a>29.1.4.2.1.4. Generic Function <a href="mop-chap.html#slotdef-initfunction" title="29.1.4.2.1.4. Generic Function CLOS:SLOT-DEFINITION-INITFUNCTION"><code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-initfunction" title="29.1.4.2.1.4. Generic Function CLOS:SLOT-DEFINITION-INITFUNCTION"><code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a> <em class="replaceable"><code>slot</code></em>)</code></h6></div></div></div><p>Returns the initialization function of <em class="replaceable"><code>slot</code></em>.  This value is
either a function of no arguments, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, indicating that the slot
has no initialization function.  This is the defaulted value of the
<code class="constant">:INITFUNCTION</code> initialization argument that was associated with the
<a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during initialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-type"></a>29.1.4.2.1.5. Generic Function <a href="mop-chap.html#slotdef-type" title="29.1.4.2.1.5. Generic Function CLOS:SLOT-DEFINITION-TYPE"><code class="function">CLOS:SLOT-DEFINITION-TYPE</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-type" title="29.1.4.2.1.5. Generic Function CLOS:SLOT-DEFINITION-TYPE"><code class="function">CLOS:SLOT-DEFINITION-TYPE</code></a> <em class="replaceable"><code>slot</code></em>)</code></h6></div></div></div><p>Returns the type of <em class="replaceable"><code>slot</code></em>.  This is a type specifier name.
This is the defaulted value of the <code class="constant">:TYPE</code> initialization argument that
was associated with the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during initialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-initargs"></a>29.1.4.2.1.6. Generic Function <a href="mop-chap.html#slotdef-initargs" title="29.1.4.2.1.6. Generic Function CLOS:SLOT-DEFINITION-INITARGS"><code class="function">CLOS:SLOT-DEFINITION-INITARGS</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-initargs" title="29.1.4.2.1.6. Generic Function CLOS:SLOT-DEFINITION-INITARGS"><code class="function">CLOS:SLOT-DEFINITION-INITARGS</code></a> <em class="replaceable"><code>slot</code></em>)</code></h6></div></div></div><p>Returns the set of initialization argument keywords for <em class="replaceable"><code>slot</code></em>.
This is the defaulted value of the <code class="constant">:INITARGS</code> initialization argument
that was associated with the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during initialization.</p></div></div>
<!--mop-sd-readers-GFs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="slotd-mo-readers-methods"></a>29.1.4.2.2. Methods</h5></div></div></div><div class="variablelist"><p class="title"><b>The specified methods for the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> readers</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-name" title="29.1.4.2.1.1. Generic Function CLOS:SLOT-DEFINITION-NAME"><code class="function">CLOS:SLOT-DEFINITION-NAME</code></a>
    (<em class="replaceable"><code>slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-allocation" title="29.1.4.2.1.2. Generic Function CLOS:SLOT-DEFINITION-ALLOCATION"><code class="function">CLOS:SLOT-DEFINITION-ALLOCATION</code></a>
    (<em class="replaceable"><code>slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-initform" title="29.1.4.2.1.3. Generic Function CLOS:SLOT-DEFINITION-INITFORM"><code class="function">CLOS:SLOT-DEFINITION-INITFORM</code></a>
    (<em class="replaceable"><code>slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-initfunction" title="29.1.4.2.1.4. Generic Function CLOS:SLOT-DEFINITION-INITFUNCTION"><code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a>
    (<em class="replaceable"><code>slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-type" title="29.1.4.2.1.5. Generic Function CLOS:SLOT-DEFINITION-TYPE"><code class="function">CLOS:SLOT-DEFINITION-TYPE</code></a>
    (<em class="replaceable"><code>slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-initargs" title="29.1.4.2.1.6. Generic Function CLOS:SLOT-DEFINITION-INITARGS"><code class="function">CLOS:SLOT-DEFINITION-INITARGS</code></a>
    (<em class="replaceable"><code>slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-SLOT-DEFINITION</code></a>))</code></span></span></dt><dd>No behavior is specified for these
   methods beyond that which is specified for their respective generic
   functions.</dd></dl></div></div>
<!--slotd-mo-readers-methods-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="slotd-mo-readers-dsd"></a>29.1.4.2.3. Readers for <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s</h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#slotdef-readers">29.1.4.2.3.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-READERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slotdef-writers">29.1.4.2.3.2. Generic Function <code class="function">CLOS:SLOT-DEFINITION-WRITERS</code></a></span></dt></dl></div><p>The following additional reader generic functions are defined for
 <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-readers"></a>29.1.4.2.3.1. Generic Function <a href="mop-chap.html#slotdef-readers" title="29.1.4.2.3.1. Generic Function CLOS:SLOT-DEFINITION-READERS"><code class="function">CLOS:SLOT-DEFINITION-READERS</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-readers" title="29.1.4.2.3.1. Generic Function CLOS:SLOT-DEFINITION-READERS"><code class="function">CLOS:SLOT-DEFINITION-READERS</code></a> <em class="replaceable"><code>direct-slot-definition</code></em>)</code></h6></div></div></div><p>Returns a (possibly empty) set of readers of the <em class="replaceable"><code>direct-slot-definition</code></em>.  This
value is a list of function names.  This is the defaulted value of the
<code class="constant">:READERS</code> initialization argument that was associated with the direct
<a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during initialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-writers"></a>29.1.4.2.3.2. Generic Function <a href="mop-chap.html#slotdef-writers" title="29.1.4.2.3.2. Generic Function CLOS:SLOT-DEFINITION-WRITERS"><code class="function">CLOS:SLOT-DEFINITION-WRITERS</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-writers" title="29.1.4.2.3.2. Generic Function CLOS:SLOT-DEFINITION-WRITERS"><code class="function">CLOS:SLOT-DEFINITION-WRITERS</code></a> <em class="replaceable"><code>direct-slot-definition</code></em>)</code></h6></div></div></div><p>Returns a (possibly empty) set of writers of the <em class="replaceable"><code>direct-slot-definition</code></em>.  This
value is a list of function names.  This is the defaulted value of the
<code class="constant">:WRITERS</code> initialization argument that was associated with the direct
<a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> during initialization.
</p><div class="variablelist"><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-readers" title="29.1.4.2.3.1. Generic Function CLOS:SLOT-DEFINITION-READERS"><code class="function">CLOS:SLOT-DEFINITION-READERS</code></a>
    (<em class="replaceable"><code>direct-slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-writers" title="29.1.4.2.3.2. Generic Function CLOS:SLOT-DEFINITION-WRITERS"><code class="function">CLOS:SLOT-DEFINITION-WRITERS</code></a>
    (<em class="replaceable"><code>direct-slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>))</code></span></span></dt><dd>No behavior is specified for these
   methods beyond that which is specified for their respective generic
   functions.</dd></dl></div><p>
</p></div></div>
<!--slotd-mo-readers-dsd-->
<!--end slot-definition basic introspection-->
<!--begin slot-definition advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="slotd-mo-readers-esd"></a>29.1.4.2.4. Readers for <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s</h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#slotdef-location">29.1.4.2.4.1. Generic Function <code class="function">CLOS:SLOT-DEFINITION-LOCATION</code></a></span></dt></dl></div><p>The following reader generic function is defined for effective
 <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="slotdef-location"></a>29.1.4.2.4.1. Generic Function <a href="mop-chap.html#slotdef-location" title="29.1.4.2.4.1. Generic Function CLOS:SLOT-DEFINITION-LOCATION"><code class="function">CLOS:SLOT-DEFINITION-LOCATION</code></a></h6></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#slotdef-location" title="29.1.4.2.4.1. Generic Function CLOS:SLOT-DEFINITION-LOCATION"><code class="function">CLOS:SLOT-DEFINITION-LOCATION</code></a> <em class="replaceable"><code>effective-slot-definition</code></em>)</code></h6></div></div></div><p>Returns the location of <em class="replaceable"><code>effective-slot-definition</code></em>.  The meaning and interpretation
 of this value is described in <a href="mop-chap.html#mop-sa-instance-stuct" title="29.1.10.1. Instance Structure Protocol">Section 29.1.10.1, “Instance Structure Protocol”</a>.</p><div class="variablelist"><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slotdef-location" title="29.1.4.2.4.1. Generic Function CLOS:SLOT-DEFINITION-LOCATION"><code class="function">CLOS:SLOT-DEFINITION-LOCATION</code></a>
    (<em class="replaceable"><code>effective-slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span></span></dt><dd>This method returns the value stored by
    <span class="method"><code class="literal"><a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> <code class="constant">:AROUND</code>
     (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>)</code></span> and
    <span class="method"><code class="literal"><a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> <code class="constant">:AROUND</code>
     (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)</code></span>.
</dd></dl></div></div></div>
<!--slotd-mo-readers-esd-->
<!--end slot-definition advanced introspection-->
</div>
<!--mop-sd-readers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-sd-init"></a>29.1.4.3. Initialization of <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#slotdef-mo-methods">29.1.4.3.1. Methods</a></span></dt></dl></div><p>A <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> can be created by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.  The
initialization arguments establish the definition of the slot
definition.  A <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> cannot be redefined; calling
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</p><p>Initialization of a <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> must be done by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
and allowing it to call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>.
 Portable programs must <span class="strong"><strong>not</strong></span>...</p><div class="itemizedlist"><ul type="disc"><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> directly to
    initialize a <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a> directly to
    initialize a <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> to change the class of any
    <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> or to turn a non-slot-definition object into a
    <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</li></ul></div><p>Since metaobject classes may not be redefined, no behavior is
 specified for the result of calls to
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_efined-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-REDEFINED-CLASS</code></a> on <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.  Since the class of a
 <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> cannot be changed, no behavior is specified for the result of
 calls to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_ferent-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-DIFFERENT-CLASS</code></a> on <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s.</p><p>During initialization, each initialization argument is checked for
errors and then associated with the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.  The value can then be
accessed by calling the appropriate accessor as shown in
 <a href="mop-chap.html#slotd-mo-initargs" title="Table 29.3. Initialization arguments and&#10;  accessors for slot definition metaobjects">Table 29.3, “Initialization arguments and
  accessors for slot definition metaobjects”</a>.</p><p>This section begins with a description of the error checking and
processing of each initialization argument.  This is followed by a table
showing the generic functions that can be used to access the stored
initialization arguments.</p><p>In these descriptions, the phrase “<span class="quote">this argument defaults to
<em class="replaceable"><code>value</code></em></span>” means that when that initialization argument is not
supplied, initialization is performed as if <em class="replaceable"><code>value</code></em> had been supplied.
For some initialization arguments this could be done by the use of
default initialization arguments, but whether it is done this way is not
specified.  Implementations are free to define default initialization
arguments for specified <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> classes.  Portable programs are free to
define default initialization arguments for portable subclasses of the
class <a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a>.</p><div class="itemizedlist"><ul type="disc"><li><p>The <code class="constant">:NAME</code> argument is a slot name.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed
   if this argument is not a symbol which can be used as a variable
   name.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this argument is not supplied.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The <code class="constant">:NAME</code> argument does not need to be
    usable as a variable name. Slot names like <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a> are
    perfectly valid.</p></div></li><li>The <code class="constant">:INITFORM</code> argument is a form. The
   <code class="constant">:INITFORM</code> argument defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the
   <code class="constant">:INITFORM</code> argument is supplied, but the <code class="constant">:INITFUNCTION</code> argument
   is not supplied.</li><li>The <code class="constant">:INITFUNCTION</code> argument is a function of zero
   arguments which, when called, evaluates the <code class="constant">:INITFORM</code> in the
   appropriate <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html" target="_top">lexical environment</a>.  The <code class="constant">:INITFUNCTION</code> argument
   defaults to false.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the <code class="constant">:INITFUNCTION</code> argument is
   supplied, but the <code class="constant">:INITFORM</code> argument is not supplied.</li><li>The <code class="constant">:TYPE</code> argument is a type specifier name.  An
   <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed otherwise.  The <code class="constant">:TYPE</code> argument defaults to the symbol <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>.
 </li><li>The <code class="constant">:ALLOCATION</code> argument is a <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>.  An
   <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed otherwise.  The <code class="constant">:ALLOCATION</code> argument defaults to the
   symbol <code class="constant">:INSTANCE</code>.</li><li>The <code class="constant">:INITARGS</code> argument is a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>s.
   An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this argument is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a>, or if any
   element of this list is not a <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>.  The <code class="constant">:INITARGS</code> argument
   defaults to the empty list.</li><li>The <code class="constant">:READERS</code> and <code class="constant">:WRITERS</code> arguments are
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a>s of function names.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if they are not
   <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a>s, or if any element is not a valid function name.
   They default to the empty list.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if either of these
   arguments is supplied and the metaobject is not a <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:DIRECT-SLOT-DEFINITION</code></a>.
 </li><li>The <code class="constant">:DOCUMENTATION</code> argument is
 a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>. An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if it is not. This argument default
 to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> during initialization.</li></ul></div><p>After the processing and defaulting of initialization arguments
described above, the value of each initialization argument is associated
with the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.  These values can then be accessed by calling the
corresponding generic function.  The correspondences are as follows:

</p><div class="table"><a id="slotd-mo-initargs"></a><p class="title"><b>Table 29.3. Initialization arguments and
  accessors for <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>s</b></p><div class="table-contents"><table summary="Initialization arguments and&#10;  accessors for slot definition metaobjects" border="1"><colgroup><col /><col /></colgroup><thead><tr><th align="center">Initialization Argument</th><th align="center">Generic Function</th></tr></thead><tbody><tr><td align="center"><code class="constant">:NAME</code></td><td align="center"><a href="mop-chap.html#slotdef-name" title="29.1.4.2.1.1. Generic Function CLOS:SLOT-DEFINITION-NAME"><code class="function">CLOS:SLOT-DEFINITION-NAME</code></a></td></tr><tr><td align="center"><code class="constant">:INITFORM</code></td><td align="center"><a href="mop-chap.html#slotdef-initform" title="29.1.4.2.1.3. Generic Function CLOS:SLOT-DEFINITION-INITFORM"><code class="function">CLOS:SLOT-DEFINITION-INITFORM</code></a></td></tr><tr><td align="center"><code class="constant">:INITFUNCTION</code></td><td align="center"><a href="mop-chap.html#slotdef-initfunction" title="29.1.4.2.1.4. Generic Function CLOS:SLOT-DEFINITION-INITFUNCTION"><code class="function">CLOS:SLOT-DEFINITION-INITFUNCTION</code></a></td></tr><tr><td align="center"><code class="constant">:TYPE</code></td><td align="center"><a href="mop-chap.html#slotdef-type" title="29.1.4.2.1.5. Generic Function CLOS:SLOT-DEFINITION-TYPE"><code class="function">CLOS:SLOT-DEFINITION-TYPE</code></a></td></tr><tr><td align="center"><code class="constant">:ALLOCATION</code></td><td align="center"><a href="mop-chap.html#slotdef-allocation" title="29.1.4.2.1.2. Generic Function CLOS:SLOT-DEFINITION-ALLOCATION"><code class="function">CLOS:SLOT-DEFINITION-ALLOCATION</code></a></td></tr><tr><td align="center"><code class="constant">:INITARGS</code></td><td align="center"><a href="mop-chap.html#slotdef-initargs" title="29.1.4.2.1.6. Generic Function CLOS:SLOT-DEFINITION-INITARGS"><code class="function">CLOS:SLOT-DEFINITION-INITARGS</code></a></td></tr><tr><td align="center"><code class="constant">:READERS</code></td><td align="center"><a href="mop-chap.html#slotdef-readers" title="29.1.4.2.3.1. Generic Function CLOS:SLOT-DEFINITION-READERS"><code class="function">CLOS:SLOT-DEFINITION-READERS</code></a></td></tr><tr><td align="center"><code class="constant">:WRITERS</code></td><td align="center"><a href="mop-chap.html#slotdef-writers" title="29.1.4.2.3.2. Generic Function CLOS:SLOT-DEFINITION-WRITERS"><code class="function">CLOS:SLOT-DEFINITION-WRITERS</code></a></td></tr><tr><td align="center"><code class="constant">:DOCUMENTATION</code></td><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><code class="function">DOCUMENTATION</code></a></td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="slotdef-mo-methods"></a>29.1.4.3.1. Methods</h5></div></div></div><p>It is not specified which methods provide the initialization and
reinitialization behavior described above.  Instead, the information
needed to allow portable programs to specialize this behavior is
presented as a set of restrictions on the methods a portable program can
define.  The model is that portable initialization methods have access
to the <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> when either all or none of the specified initialization
has taken effect.</p><p>These restrictions govern the methods that a portable program can
define on the generic functions <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>,
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>, and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.  These restrictions
apply only to methods on these generic functions for which the first
specializer is a subclass of the class <a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a>.  Other portable
methods on these generic functions are not affected by these
restrictions.</p><div class="itemizedlist"><ul type="disc"><li>Portable programs must not define methods on
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.</li><li><p>For <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>:
   </p><div class="itemizedlist"><ul type="circle"><li>Portable programs must not define primary methods.
 </li><li>Portable programs may define around-methods, but
   these must be extending, not overriding methods.</li><li>Portable before-methods must assume that when they
   are run, none of the initialization behavior described above has been
   completed.</li><li>Portable after-methods must assume that when they
   are run, all of the initialization behavior described above has been
   completed.</li></ul></div></li></ul></div><p>The results are undefined if any of
 these restrictions are violated.</p></div>
<!--slotdef-mo-methods-->
</div>
<!--mop-sd-init-->
</div>
<!--mop-sd-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-gf"></a>29.1.5. Generic Functions</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-gf-inheritance">29.1.5.1. Inheritance Structure of generic function metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-readers">29.1.5.2. Introspection: Readers for generic function metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#gf-name">29.1.5.2.1. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-methods">29.1.5.2.2. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-lambda-list">29.1.5.2.3. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-argument-precedence-order">29.1.5.2.4. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-declarations">29.1.5.2.5. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-DECLARATIONS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-method-class">29.1.5.2.6. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-method-combination">29.1.5.2.7. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHOD-COMBINATION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-name-methods">29.1.5.2.8. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-gf-init">29.1.5.3. Initialization of Generic Functions</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-gf-init-defgeneric">29.1.5.3.1. Macro <code class="function">DEFGENERIC</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-invocation">29.1.5.3.2. Generic Function Invocation Protocol</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-init-mo">29.1.5.3.3. Initialization of generic function metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#gf-mo-init-methods">29.1.5.3.3.1. Methods</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-gf-customize">29.1.5.4. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#setf-gf-name">29.1.5.4.1. Generic Function <code class="code">(SETF CLOS:GENERIC-FUNCTION-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-gf">29.1.5.4.2. Generic Function <code class="function">ENSURE-GENERIC-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-gf-UC">29.1.5.4.3. Generic Function <code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-add-method">29.1.5.4.4. Generic Function <code class="function">ADD-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-remove-method">29.1.5.4.5. Generic Function <code class="function">REMOVE-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-applicable-methods">29.1.5.4.6. Generic Function <code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-applicable-methods-UC">29.1.5.4.7. Generic Function <code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-effective-method">29.1.5.4.8. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-effective-method-as-function">29.1.5.4.9. Function <code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#make-method-lambda">29.1.5.4.10. Generic Function <code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-discriminating-function">29.1.5.4.11. Generic Function <code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-gf-inheritance"></a>29.1.5.1. Inheritance Structure of <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> Classes</h4></div></div></div><div class="figure"><a id="mop-gf-inheritance-fig"></a><p class="title"><b>Figure 29.4. Inheritance structure of <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-genfun.png" width="100%" alt="Inheritance structure of generic function metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-gf-readers"></a>29.1.5.2. Introspection: Readers for <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#gf-name">29.1.5.2.1. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-NAME</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-methods">29.1.5.2.2. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-lambda-list">29.1.5.2.3. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-argument-precedence-order">29.1.5.2.4. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-declarations">29.1.5.2.5. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-DECLARATIONS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-method-class">29.1.5.2.6. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-method-combination">29.1.5.2.7. Generic Function <code class="function">CLOS:GENERIC-FUNCTION-METHOD-COMBINATION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#gf-name-methods">29.1.5.2.8. Methods</a></span></dt></dl></div><p>The reader generic functions which simply return information
associated with <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s are presented together here in the format
described in <a href="mop-chap.html#mop-cl-readers" title="29.1.3.3. Introspection: Readers for class metaobjects">Section 29.1.3.3, “Introspection: Readers for class metaobjects”</a>.</p><p>Each of the reader generic functions for <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s has the same
syntax, accepting one required argument called <em class="replaceable"><code>generic-function</code></em>, which must be a
<a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>; otherwise, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is also <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the
<a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> has not been initialized.</p><p>These generic functions can be called by the user or the
implementation.</p><p>For any of these generic
 functions which returns a list, such lists will not be mutated by the
 implementation.  The results are undefined if a portable program allows
 such a list to be mutated.</p>
<!--begin generic-function basic introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-name"></a>29.1.5.2.1. Generic Function <a href="mop-chap.html#gf-name" title="29.1.5.2.1. Generic Function CLOS:GENERIC-FUNCTION-NAME"><code class="function">CLOS:GENERIC-FUNCTION-NAME</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#gf-name" title="29.1.5.2.1. Generic Function CLOS:GENERIC-FUNCTION-NAME"><code class="function">CLOS:GENERIC-FUNCTION-NAME</code></a> <em class="replaceable"><code>generic-function</code></em>)</code></h6></div></div></div><p>Returns the name of the generic function, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> if the generic
function has no name.  This is the defaulted value of the <code class="constant">:NAME</code>
initialization argument that was associated with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> during
initialization or reinitialization.
 (See also <a href="mop-chap.html#setf-gf-name" title="29.1.5.4.1. Generic Function (SETF CLOS:GENERIC-FUNCTION-NAME)"><code class="code">(SETF CLOS:GENERIC-FUNCTION-NAME)</code></a>.)</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-methods"></a>29.1.5.2.2. Generic Function <a href="mop-chap.html#gf-methods" title="29.1.5.2.2. Generic Function CLOS:GENERIC-FUNCTION-METHODS"><code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#gf-methods" title="29.1.5.2.2. Generic Function CLOS:GENERIC-FUNCTION-METHODS"><code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a> <em class="replaceable"><code>generic-function</code></em>)</code></h6></div></div></div><p>Returns the set of methods currently connected to the generic
function.  This is a set of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.  This value is maintained by the
generic functions <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-lambda-list"></a>29.1.5.2.3. Generic Function <a href="mop-chap.html#gf-lambda-list" title="29.1.5.2.3. Generic Function CLOS:GENERIC-FUNCTION-LAMBDA-LIST"><code class="function">CLOS:GENERIC-FUNCTION-LAMBDA-LIST</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#gf-lambda-list" title="29.1.5.2.3. Generic Function CLOS:GENERIC-FUNCTION-LAMBDA-LIST"><code class="function">CLOS:GENERIC-FUNCTION-LAMBDA-LIST</code></a> <em class="replaceable"><code>generic-function</code></em>)</code></h6></div></div></div><p>Returns the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> of the generic function.  This is the
defaulted value of the <code class="constant">:LAMBDA-LIST</code> initialization argument that was
associated with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> during initialization or reinitialization.
An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> has yet to be supplied.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-argument-precedence-order"></a>29.1.5.2.4. Generic Function <a href="mop-chap.html#gf-argument-precedence-order" title="29.1.5.2.4. Generic Function CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER"><code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#gf-argument-precedence-order" title="29.1.5.2.4. Generic Function CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER"><code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a> <em class="replaceable"><code>generic-function</code></em>)</code></h6></div></div></div><p>Returns the argument precedence order of the generic function.
This value is a list of symbols, a permutation of the required
parameters in the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> of the generic function.  This is the
defaulted value of the <code class="constant">:ARGUMENT-PRECEDENCE-ORDER</code> initialization
argument that was associated with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> during initialization or
reinitialization.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> has not yet been
  supplied.</p></div></div>
<!--end generic-function basic introspection-->
<!--begin generic-function advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-declarations"></a>29.1.5.2.5. Generic Function <a href="mop-chap.html#gf-declarations" title="29.1.5.2.5. Generic Function CLOS:GENERIC-FUNCTION-DECLARATIONS"><code class="function">CLOS:GENERIC-FUNCTION-DECLARATIONS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#gf-declarations" title="29.1.5.2.5. Generic Function CLOS:GENERIC-FUNCTION-DECLARATIONS"><code class="function">CLOS:GENERIC-FUNCTION-DECLARATIONS</code></a> <em class="replaceable"><code>generic-function</code></em>)</code></h6></div></div></div><p>Returns a possibly empty list of the “<span class="quote">declarations</span>”
of the generic function.  The elements of this list are
<a href="http://www.lisp.org/HyperSpec/Body/glo_d.html#declaration_specifier" target="_top">declaration specifier</a>s.  This list is the defaulted value of the
<code class="constant">:DECLARATIONS</code> initialization argument that was associated with the
<a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> during initialization or reinitialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-method-class"></a>29.1.5.2.6. Generic Function <a href="mop-chap.html#gf-method-class" title="29.1.5.2.6. Generic Function CLOS:GENERIC-FUNCTION-METHOD-CLASS"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#gf-method-class" title="29.1.5.2.6. Generic Function CLOS:GENERIC-FUNCTION-METHOD-CLASS"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a> <em class="replaceable"><code>generic-function</code></em>)</code></h6></div></div></div><p>Returns the default method class of the generic function.  This
class must be a subclass of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>.  This is the defaulted
value of the <code class="constant">:METHOD-CLASS</code> initialization argument that was
associated with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> during initialization or reinitialization.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-method-combination"></a>29.1.5.2.7. Generic Function <a href="mop-chap.html#gf-method-combination" title="29.1.5.2.7. Generic Function CLOS:GENERIC-FUNCTION-METHOD-COMBINATION"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-COMBINATION</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#gf-method-combination" title="29.1.5.2.7. Generic Function CLOS:GENERIC-FUNCTION-METHOD-COMBINATION"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-COMBINATION</code></a> <em class="replaceable"><code>generic-function</code></em>)</code></h6></div></div></div><p>Returns the method combination of the generic function.  This is a
<a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a>.  This is the defaulted value of the <code class="constant">:METHOD-COMBINATION</code>
initialization argument that was associated with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> during
initialization or reinitialization.</p></div>
<!--end generic-function advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="gf-name-methods"></a>29.1.5.2.8. Methods</h5></div></div></div><div class="variablelist"><p class="title"><b>The specified methods for the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> reader generic
  functions</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#gf-name" title="29.1.5.2.1. Generic Function CLOS:GENERIC-FUNCTION-NAME"><code class="function">CLOS:GENERIC-FUNCTION-NAME</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#gf-lambda-list" title="29.1.5.2.3. Generic Function CLOS:GENERIC-FUNCTION-LAMBDA-LIST"><code class="function">CLOS:GENERIC-FUNCTION-LAMBDA-LIST</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#gf-argument-precedence-order" title="29.1.5.2.4. Generic Function CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER"><code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#gf-declarations" title="29.1.5.2.5. Generic Function CLOS:GENERIC-FUNCTION-DECLARATIONS"><code class="function">CLOS:GENERIC-FUNCTION-DECLARATIONS</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#gf-method-class" title="29.1.5.2.6. Generic Function CLOS:GENERIC-FUNCTION-METHOD-CLASS"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#gf-method-combination" title="29.1.5.2.7. Generic Function CLOS:GENERIC-FUNCTION-METHOD-COMBINATION"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-COMBINATION</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span></span></dt><dd>No behavior is specified for these
   methods beyond that which is specified for their respective generic
   functions.</dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#gf-methods" title="29.1.5.2.2. Generic Function CLOS:GENERIC-FUNCTION-METHODS"><code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>The value returned by this method is maintained by
   <span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>)</code></span> and
   <span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>
    <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>)</code></span>.</p></dd></dl></div></div>
<!--gf-name-methods-->
</div>
<!--mop-gf-readers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-gf-init"></a>29.1.5.3. Initialization of Generic Functions</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-gf-init-defgeneric">29.1.5.3.1. Macro <code class="function">DEFGENERIC</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-invocation">29.1.5.3.2. Generic Function Invocation Protocol</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-gf-init-mo">29.1.5.3.3. Initialization of generic function metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#gf-mo-init-methods">29.1.5.3.3.1. Methods</a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-gf-init-defgeneric"></a>29.1.5.3.1. Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a></h5></div></div></div><p>The evaluation or execution of a <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form results in a
call to the <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> function. The arguments received by <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>
are derived from the <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form in a defined way.  As with
<a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>, the exact macro-expansion of the
<a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form is not defined, only the relationship between the
arguments to the macro and the arguments received by <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.</p><div class="itemizedlist"><ul type="disc"><li>The <em class="replaceable"><code>function-name</code></em>
argument to <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> becomes the first argument to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.
This is the only positional argument accepted by <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>; all other
arguments are keyword arguments.</li><li>The <em class="replaceable"><code>lambda-list</code></em> argument
to <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> becomes the value of the <code class="constant">:LAMBDA-LIST</code> keyword
argument to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.</li><li><p>For each of the options
<code class="constant">:ARGUMENT-PRECEDENCE-ORDER</code>, <code class="constant">:DOCUMENTATION</code>, <code class="constant">:GENERIC-FUNCTION-CLASS</code> and
<code class="constant">:METHOD-CLASS</code>, the value of the option becomes the value of the
keyword argument with the same name.  If the option does not appear in
the macro form, the keyword argument does not appear in the resulting
call to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>If the option does not appear in the macro form, the
  keyword argument appears in the resulting call to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>, with a
  default value: the <em class="replaceable"><code>lambda list</code></em> for
  <code class="constant">:ARGUMENT-PRECEDENCE-ORDER</code>, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> for <code class="constant">:DOCUMENTATION</code>, the class
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> for <code class="constant">:GENERIC-FUNCTION-CLASS</code>, the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>
  for <code class="constant">:METHOD-CLASS</code>. This is needed to make the generic function reflect
  the <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form.</p></div></li><li><p>For the option <code class="constant">:DECLARE</code>, the list
of “<span class="quote">declarations</span>” becomes the value of the <code class="constant">:DECLARATIONS</code>
keyword argument.  If the <code class="constant">:DECLARE</code> option does not
appear in the macro form, the <code class="constant">:DECLARATIONS</code> keyword argument does not
appear in the call to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>If the <code class="constant">:DECLARE</code> option does not appear in
  the macro form, the <code class="constant">:DECLARATIONS</code> keyword argument appears in the
  resulting call to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>, with a default value of <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.  This is
  needed to make the generic function reflect the <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form.
 </p></div></li><li><p>The handling of the <code class="constant">:METHOD-COMBINATION</code> option is
not specified.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>If the <code class="constant">:METHOD-COMBINATION</code> option does not
  appear in the macro form, the <code class="constant">:METHOD-COMBINATION</code> keyword argument
  still appears in the resulting call to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>, but in a position
  where it can be overridden by user-defined initargs and default initargs.
 </p></div></li><li><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The <code class="constant">:DECLARE</code> keyword is
  recognized as equivalent to the <code class="constant">:DECLARATIONS</code> keyword, for
  compatibility with <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> in [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].  If both <code class="constant">:DECLARE</code> and
  <code class="constant">:DECLARATIONS</code> keyword arguments are specified, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>Any other generic function options become the value of
   keyword arguments with the same name. The value of the keyword
   argument is the tail of the generic function option. An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if
   any generic function option appears more than once in the
   <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form.</p><p>The default initargs of the
   <em class="replaceable"><code>generic-function-class</code></em> are added at the
   end of the list of arguments to pass to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>. This is needed to
   make the generic function reflect the <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form.</p></div></li><li><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p><a id="mop-defgeneric-user-options"></a><b>User-defined options. </b>Any other options become the value of keyword arguments with
    the same name.  The value of the keyword argument is the tail of the
    option.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if any option appears more than once in the
    <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form.</p></div></li></ul></div><p>The result of the call to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> is returned as the result of
evaluating or executing the <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> form.</p></div>
<!--mop-gf-init-defgeneric-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-gf-invocation"></a>29.1.5.3.2. Generic Function Invocation Protocol</h5></div></div></div><p>Associated with each generic function is its discriminating
function.  Each time the generic function is called, the discriminating
function is called to provide the behavior of the generic function.  The
discriminating function receives the full set of arguments received by
the generic function.  It must lookup and execute the appropriate
methods, and return the appropriate values.</p><p>The discriminating function is computed by the highest layer of
the generic function invocation protocol, <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a>.
Whenever a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> is initialized, reinitialized, or a method is added or
removed, the discriminating function is recomputed.
The new discriminating function is then stored with
<a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a>.</p><p>Discriminating functions call <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>
and <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a> to compute the methods
applicable to the generic functions arguments.  Applicable methods are
combined by <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a> to produce
an <strong class="first"><em class="firstterm">effective method</em></strong>.
Provisions are made to allow memoization of the method applicability and
effective methods computations.  (See the description of
<a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a> for details.)</p><p>The body of method definitions are processed by
<a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a>.  The result of this generic function is a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-3.html" target="_top">lambda expression</a>
which is processed by either <a href="http://www.lisp.org/HyperSpec/Body/fun_compile.html" target="_top"><code class="function">COMPILE</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> to produce
a <strong class="first"><em class="firstterm">method function</em></strong>.  The arguments received by the
method function are controlled by the <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> forms appearing in
the effective methods.  By default, method functions accept two
arguments: a list of arguments to the generic function, and a list of
next methods.  The list of next methods corresponds to the next methods
argument to <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a>.  If <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> appears with additional
arguments, these will be passed to the method functions as well; in
these cases, <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> must have created the method lambdas
to expect additional arguments.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>See <a href="mop-chap.html#no-make-method-lambda" title="The generic function CLOS:MAKE-METHOD-LAMBDA is not implemented">The generic function <code class="function">CLOS:MAKE-METHOD-LAMBDA</code> is not implemented</a>.</p><p>See <a href="mop-chap.html#method-functions-args" title="Method function arguments">Method function arguments</a>.</p></div></div>
<!--mop-gf-invocation-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-gf-init-mo"></a>29.1.5.3.3. Initialization of <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s</h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#gf-mo-init-methods">29.1.5.3.3.1. Methods</a></span></dt></dl></div><p>A <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> can be created by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.  The
initialization arguments establish the definition of the generic
function.  A <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> can be redefined by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.
Some classes of <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> do not support redefinition; in these cases,
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</p><p>Initialization of a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> must be done by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
and allowing it to call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>.  Reinitialization of a
generic-function metaobject must be done by calling
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.  Portable programs must <span class="strong"><strong>not</strong></span></p><div class="itemizedlist"><ul type="disc"><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> directly to
    initialize a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a> directly to
    initialize or reinitialize a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> to change the class of any
    <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> or to turn a non-generic-function object into a
    <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</li></ul></div><p>Since metaobject classes may not be redefined,
 no behavior is specified for the result of calls to
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_efined-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-REDEFINED-CLASS</code></a> on <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s.
 Since the class of a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> may not be changed,
 no behavior is specified for the results of calls to
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_ferent-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-DIFFERENT-CLASS</code></a> on <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s.</p><p>During initialization or reinitialization, each initialization
argument is checked for errors and then associated with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.
The value can then be accessed by calling the appropriate accessor as
shown in <a href="mop-chap.html#gf-mo-initargs" title="Table 29.4. Initialization arguments and accessors&#10;  for generic function metaobjects">Table 29.4, “Initialization arguments and accessors
  for generic function metaobjects”</a>.</p><p>This section begins with a description of the error checking and
processing of each initialization argument.  This is followed by a table
showing the generic functions that can be used to access the stored
initialization arguments. The section ends with a set of restrictions on
portable methods affecting <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> initialization and reinitialization.</p><p>In these descriptions, the phrase “<span class="quote">this argument defaults to
<em class="replaceable"><code>value</code></em></span>” means that when that initialization argument is not
supplied, initialization or reinitialization is performed as if
<em class="replaceable"><code>value</code></em> had been supplied.  For some initialization arguments this
could be done by the use of default initialization arguments, but
whether it is done this way is not specified.  Implementations are free
to define default initialization arguments for specified <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> classes.
Portable programs are free to define default initialization arguments
for portable subclasses of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a>.</p><p>Unless there is a specific note to the contrary, then during
reinitialization, if an initialization argument is not supplied, the
previously stored value is left unchanged.</p><div class="itemizedlist"><ul type="disc"><li><p>The <code class="constant">:ARGUMENT-PRECEDENCE-ORDER</code> argument is a list
   of symbols.</p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this argument appears but the <code class="constant">:LAMBDA-LIST</code>
   argument does not appear.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a>
   or if this value is not a permutation of the symbols from the
   required arguments part of the <code class="constant">:LAMBDA-LIST</code> initialization
   argument.</p><p>When the generic function is being initialized or
   reinitialized, and this argument is not supplied, but the
   <code class="constant">:LAMBDA-LIST</code> argument is supplied, this value defaults to the
   symbols from the required arguments part of the <code class="constant">:LAMBDA-LIST</code>
   argument, in the order they appear in that argument.  If neither
   argument is supplied, neither are initialized (see the description of
   <code class="constant">:LAMBDA-LIST</code>.)</p></li><li><p>The <code class="constant">:DECLARATIONS</code> argument is a list of <a href="http://www.lisp.org/HyperSpec/Body/glo_d.html#declaration_specifier" target="_top">declaration specifier</a>s.
  </p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a> or
   if each of its elements is not a legal <a href="http://www.lisp.org/HyperSpec/Body/glo_d.html#declaration_specifier" target="_top">declaration specifier</a>.</p><p>When the generic function is being initialized, and this
   argument is not supplied, it defaults to the empty list.
 </p></li><li>The <code class="constant">:DOCUMENTATION</code> argument is
 a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>. An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if it is not. This argument default
 to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> during initialization.</li><li><p>The <code class="constant">:LAMBDA-LIST</code> argument is a <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>.</p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a proper generic function
   <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>.</p><p>When the generic function is being initialized, and this
   argument is not supplied, the generic function's <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> is not
   initialized.  The <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> will be initialized later, either when
   the first method is added to the generic function, or a later
   reinitialization of the generic function.</p></li><li>The <code class="constant">:METHOD-COMBINATION</code> argument is a <a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a>.
 </li><li><p>The <code class="constant">:METHOD-CLASS</code> argument is a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
  </p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a subclass of the
   class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>.</p><p>When the generic function is being initialized, and this
   argument is not supplied, it defaults to the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>.
 </p></li><li><p>  The <code class="constant">:NAME</code> argument is an object.</p><p>If the generic function is being initialized, this argument
   defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
</p></li></ul></div><p>After the processing and defaulting of initialization arguments
described above, the value of each initialization argument is associated
with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.  These values can then be accessed by calling the
corresponding generic function.  The correspondences are as follows:
</p><div class="table"><a id="gf-mo-initargs"></a><p class="title"><b>Table 29.4. Initialization arguments and accessors
  for <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s</b></p><div class="table-contents"><table summary="Initialization arguments and accessors&#10;  for generic function metaobjects" border="1"><colgroup><col /><col /></colgroup><thead><tr><th align="center">Initialization Argument</th><th align="center">Generic Function</th></tr></thead><tbody><tr><td align="center"><code class="constant">:ARGUMENT-PRECEDENCE-ORDER</code></td><td align="center"><a href="mop-chap.html#gf-argument-precedence-order" title="29.1.5.2.4. Generic Function CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER"><code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a></td></tr><tr><td align="center"><code class="constant">:DECLARATIONS</code></td><td align="center"><a href="mop-chap.html#gf-declarations" title="29.1.5.2.5. Generic Function CLOS:GENERIC-FUNCTION-DECLARATIONS"><code class="function">CLOS:GENERIC-FUNCTION-DECLARATIONS</code></a></td></tr><tr><td align="center"><code class="constant">:DOCUMENTATION</code></td><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><code class="function">DOCUMENTATION</code></a></td></tr><tr><td align="center"><code class="constant">:LAMBDA-LIST</code></td><td align="center"><a href="mop-chap.html#gf-lambda-list" title="29.1.5.2.3. Generic Function CLOS:GENERIC-FUNCTION-LAMBDA-LIST"><code class="function">CLOS:GENERIC-FUNCTION-LAMBDA-LIST</code></a></td></tr><tr><td align="center"><code class="constant">:METHOD-COMBINATION</code></td><td align="center"><a href="mop-chap.html#gf-method-combination" title="29.1.5.2.7. Generic Function CLOS:GENERIC-FUNCTION-METHOD-COMBINATION"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-COMBINATION</code></a></td></tr><tr><td align="center"><code class="constant">:METHOD-CLASS</code></td><td align="center"><a href="mop-chap.html#gf-method-class" title="29.1.5.2.6. Generic Function CLOS:GENERIC-FUNCTION-METHOD-CLASS"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a></td></tr><tr><td align="center"><code class="constant">:NAME</code></td><td align="center"><a href="mop-chap.html#gf-name" title="29.1.5.2.1. Generic Function CLOS:GENERIC-FUNCTION-NAME"><code class="function">CLOS:GENERIC-FUNCTION-NAME</code></a></td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="gf-mo-init-methods"></a>29.1.5.3.3.1. Methods</h6></div></div></div><p>It is not specified which methods provide the initialization and
reinitialization behavior described above.  Instead, the information
needed to allow portable programs to specialize this behavior is
presented as a set of restrictions on the methods a portable program can
define.  The model is that portable initialization methods have access
to the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> when either all or none of the specified initialization
has taken effect.</p><p>These restrictions govern the methods that a portable program can
define on the generic functions <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>,
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>, and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.  These restrictions
apply only to methods on these generic functions for which the first
specializer is a subclass of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a>.  Other
portable methods on these generic functions are not affected by these
restrictions.</p><div class="itemizedlist"><ul type="disc"><li>Portable programs must not define methods on
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.</li><li><p>For <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>:
   </p><div class="itemizedlist"><ul type="circle"><li>Portable programs must not define primary methods.
 </li><li>Portable programs may define around-methods, but
   these must be extending, not overriding methods.</li><li>Portable before-methods must assume that when they
   are run, none of the initialization behavior described above has been
   completed.</li><li>Portable after-methods must assume that when they
   are run, all of the initialization behavior described above has been
   completed.</li></ul></div></li></ul></div><p>The results are undefined if any of
 these restrictions are violated.</p></div>
<!--gf-mo-init-methods-->
</div>
<!--mop-gf-init-mo-->
</div>
<!--mop-gf-init-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-gf-customize"></a>29.1.5.4. Customization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#setf-gf-name">29.1.5.4.1. Generic Function <code class="code">(SETF CLOS:GENERIC-FUNCTION-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-gf">29.1.5.4.2. Generic Function <code class="function">ENSURE-GENERIC-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#ensure-gf-UC">29.1.5.4.3. Generic Function <code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-add-method">29.1.5.4.4. Generic Function <code class="function">ADD-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-remove-method">29.1.5.4.5. Generic Function <code class="function">REMOVE-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-applicable-methods">29.1.5.4.6. Generic Function <code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-applicable-methods-UC">29.1.5.4.7. Generic Function <code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-effective-method">29.1.5.4.8. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-effective-method-as-function">29.1.5.4.9. Function <code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#make-method-lambda">29.1.5.4.10. Generic Function <code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#compute-discriminating-function">29.1.5.4.11. Generic Function <code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a></span></dt></dl></div>
<!--begin generic-function basic customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="setf-gf-name"></a>29.1.5.4.1. Generic Function <a href="mop-chap.html#setf-gf-name" title="29.1.5.4.1. Generic Function (SETF CLOS:GENERIC-FUNCTION-NAME)"><code class="code">(SETF CLOS:GENERIC-FUNCTION-NAME)</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#setf-gf-name" title="29.1.5.4.1. Generic Function (SETF CLOS:GENERIC-FUNCTION-NAME)"><code class="code">(SETF CLOS:GENERIC-FUNCTION-NAME)</code></a> <em class="replaceable"><code>new-name</code></em> <em class="replaceable"><code>generic-function</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>new-name</code></em></span></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/glo_f.html#function_name" target="_top">function name</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This function returns its <em class="replaceable"><code>new-name</code></em> argument.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This function changes the name of <em class="replaceable"><code>generic-function</code></em> to <em class="replaceable"><code>new-name</code></em>.
   This value is usually a <a href="http://www.lisp.org/HyperSpec/Body/glo_f.html#function_name" target="_top">function name</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, if the generic function
   is to have no name.</p><p>This function works by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> with
   <em class="replaceable"><code>generic-function</code></em> as its first argument, the symbol <code class="constant">:NAME</code> as its second argument
   and <em class="replaceable"><code>new-name</code></em> as its third argument.
</p></dd></dl></div></div>
<!--setf-gf-name-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ensure-gf"></a>29.1.5.4.2. Generic Function <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> <em class="replaceable"><code>function-name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
     <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>function-name</code></em></span></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/glo_f.html#function_name" target="_top">function name</a></dd><dt><span class="term">keyword arguments</span></dt><dd>Some of the keyword arguments accepted by this
      function are actually processed by <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a>, others are
      processed during initialization of the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>
      (as described in <a href="mop-chap.html#mop-gf-init-mo" title="29.1.5.3.3. Initialization of generic function metaobjects">Section 29.1.5.3.3, “Initialization of generic function metaobjects”</a>).
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This function is called to define a globally named
   generic function or to specify or modify options and declarations
   that pertain to a globally named generic function as a whole.  It can
   be called by the user or the implementation.</p><p>It is the functional equivalent of <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a>, and is
   called by the expansion of the <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> macros.
  </p><p>The behavior of this function is actually
   implemented by the generic function <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a>.  When <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>
   is called, it immediately calls <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a> and returns that
   result as its own.</p><p>The first argument to <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a> is computed as follows:
   </p><div class="itemizedlist"><ul type="disc"><li>If <em class="replaceable"><code>function-name</code></em> names a non-generic
      function, a macro, or a special form, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.
    </li><li>If <em class="replaceable"><code>function-name</code></em> names a generic function, that
      <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> is used.</li><li>Otherwise, <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> is used.
   </li></ul></div><p>The second argument is <em class="replaceable"><code>function-name</code></em>.  The remaining arguments
   are the complete set of keyword arguments received by <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.
</p></dd></dl></div></div>
<!--ensure-gf-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ensure-gf-UC"></a>29.1.5.4.3. Generic Function <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a> <em class="replaceable"><code>generic-function</code></em> <em class="replaceable"><code>function-name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    <code class="constant">:ARGUMENT-PRECEDENCE-ORDER</code> <code class="constant">:DECLARATIONS</code> <code class="constant">:DOCUMENTATION</code>
    <code class="constant">:GENERIC-FUNCTION-CLASS</code> <code class="constant">:LAMBDA-LIST</code> <code class="constant">:METHOD-CLASS</code> <code class="constant">:METHOD-COMBINATION</code>
    <code class="constant">:NAME</code> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</dd><dt><span class="term"><em class="replaceable"><code>function-name</code></em></span></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/glo_f.html#function_name" target="_top">function name</a></dd><dt><span class="term"><code class="constant">:GENERIC-FUNCTION-CLASS</code></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> or a class name.  If it is not
      supplied, it defaults to the class named
      <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>.  If a class name is supplied, it is
      interpreted as the class with that name.  If a class name is
      supplied, but there is no such class, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.
   </dd><dt><span class="term">additional keyword arguments</span></dt><dd><p>see <a href="mop-chap.html#mop-gf-init-mo" title="29.1.5.3.3. Initialization of generic function metaobjects">Section 29.1.5.3.3, “Initialization of generic function metaobjects”</a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The <code class="constant">:DECLARE</code> keyword is recognized as
       equivalent to the <code class="constant">:DECLARATIONS</code> keyword, for compatibility
       with <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> in [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].</p></div></dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>The generic function <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a> is called to
   define or modify the definition of a globally named generic function.
   It is called by the <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> function.  It can also be called
   directly.</p><p>The first step performed by this generic function is to compute
   the set of initialization arguments which will be used to create or
   reinitialize the globally named generic function.  These
   initialization arguments are computed from the full set of keyword
   arguments received by this generic function as follows:
   </p><div class="itemizedlist"><ul type="disc"><li>The <code class="constant">:GENERIC-FUNCTION-CLASS</code>
      argument is not included in the initialization arguments.
    </li><li>If the <code class="constant">:METHOD-CLASS</code> argument was received by
      this generic function, it is converted into a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
      This is done by looking up the class name with <a href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>.  If
      there is no such class, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</li><li>All other keyword arguments are included directly
      in the initialization arguments.</li></ul></div><p>If the <em class="replaceable"><code>generic-function</code></em> argument is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, an instance of the class
   specified by the <code class="constant">:GENERIC-FUNCTION-CLASS</code> argument is created by
   calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> with the previously computed initialization
   arguments.  The function name <em class="replaceable"><code>function-name</code></em> is set to name the generic
   function.  The newly created <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> is returned.
  </p><p>If the class of the <em class="replaceable"><code>generic-function</code></em> argument is not the same
   as the class specified by the <code class="constant">:GENERIC-FUNCTION-CLASS</code> argument, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The description of <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> in [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>]
   specifies that in this case, <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> is called if the class of the
   <em class="replaceable"><code>generic-function</code></em> argument and the class specified by the <code class="constant">:GENERIC-FUNCTION-CLASS</code> argument are
   compatible. Given the description of <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>, this also applies to the
   <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a> function. <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>'s implementation calls <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a>
   always, and leaves it to the <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> function to signal an error if
   needed.</p></div><p>Otherwise the generic function <em class="replaceable"><code>generic-function</code></em> is redefined by calling
   the <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> generic function with <em class="replaceable"><code>generic-function</code></em> and the
   initialization arguments.  The <em class="replaceable"><code>generic-function</code></em> argument is then returned.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_generic-function.html" target="_top"><code class="classname">GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>function-name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
   <code class="constant">:GENERIC-FUNCTION-CLASS</code> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function in the case where <em class="replaceable"><code>function-name</code></em> names an existing generic
   function.</p><p>This method can be overridden.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><code class="classname">NULL</code></a>) <em class="replaceable"><code>function-name</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:GENERIC-FUNCTION-CLASS</code>
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd>This method implements the behavior of the generic
   function in the case where <em class="replaceable"><code>function-name</code></em> names no function, generic
   function, macro or special form.
</dd></dl></div></div>
<!--ensure-gf-UC-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-add-method"></a>29.1.5.4.4. Generic Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> <em class="replaceable"><code>generic-function</code></em> <em class="replaceable"><code>method</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>method</code></em></span></dt><dd>a <a href="mop-chap.html#mop-method-mo">method metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The <em class="replaceable"><code>generic-function</code></em> argument is returned.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function associates an unattached
   method with a generic function.</p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> of the method is not
   congruent with the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> of the generic function.</p><p>An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the method is already associated with some
   other generic function.</p><p>If the given method agrees with an existing method of the
   generic function on parameter specializers and qualifiers, the
   existing method is removed by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a> before the
   new method is added.  See the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section
   <a href="http://www.lisp.org/HyperSpec/Body/sec_7-6-3.html" target="_top">7.6.3 “<span class="quote">Agreement on
     Parameter Specializers and Qualifiers</span>”</a>
   for a definition of agreement in this context.</p><p>Associating the method with the generic function then
   proceeds in four steps:</p><div class="orderedlist"><ol type="i"><li>add <em class="replaceable"><code>method</code></em> to the set returned by
      <a href="mop-chap.html#gf-methods" title="29.1.5.2.2. Generic Function CLOS:GENERIC-FUNCTION-METHODS"><code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a> and arrange for <a href="mop-chap.html#method-gf" title="29.1.6.2.4. Generic Function CLOS:METHOD-GENERIC-FUNCTION"><code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a> to return <em class="replaceable"><code>generic-function</code></em>;
    </li><li>call <a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a> for each of the method's
    specializers;</li><li>call <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a> and
      install its result with <a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a>; and
    </li><li>update the dependents of the generic function.
  </li></ol></div><p>The generic function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> can be called by the user
   or the implementation.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>)
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>))</code></span></span></dt><dd>No behavior is specified for this
   method beyond that which is specified for the generic function.</dd><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>)
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>))</code></span></span></dt><dd>This method is specified by [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].
</dd></dl></div></div>
<!--add-method-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-remove-method"></a>29.1.5.4.5. Generic Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a> <em class="replaceable"><code>generic-function</code></em> <em class="replaceable"><code>method</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>method</code></em></span></dt><dd>a <a href="mop-chap.html#mop-method-mo">method metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The <em class="replaceable"><code>generic-function</code></em> argument is returned.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function breaks the association between
   a generic function and one of its methods.</p><p>No <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the method is not among the methods of the
   generic function.</p><p>Breaking the association between the method and the generic
   function proceeds in four steps:</p><div class="orderedlist"><ol type="i"><li>remove <em class="replaceable"><code>method</code></em> from the set returned by
      <a href="mop-chap.html#gf-methods" title="29.1.5.2.2. Generic Function CLOS:GENERIC-FUNCTION-METHODS"><code class="function">CLOS:GENERIC-FUNCTION-METHODS</code></a> and arrange for <a href="mop-chap.html#method-gf" title="29.1.6.2.4. Generic Function CLOS:METHOD-GENERIC-FUNCTION"><code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a> to return <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>;
    </li><li>call <a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a> for each of the
      method's specializers;</li><li>call <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a> and
      install its result with <a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a>;
      and</li><li>update the dependents of the generic function.
  </li></ol></div><p>The generic function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a> can be called by the
   user or the implementation.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>)
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>))</code></span></span></dt><dd>No behavior is specified for this
   method beyond that which is specified for the generic function.</dd><dt><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>)
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>))</code></span></span></dt><dd>This method is specified by [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].
</dd></dl></div></div>
<!--mop-remove-method-->
<!--end generic-function basic customization-->
<!--begin generic-function advanced customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-applicable-methods"></a>29.1.5.4.6. Generic Function <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>
     <em class="replaceable"><code>generic-function</code></em> <em class="replaceable"><code>arguments</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>arguments</code></em></span></dt><dd>a list of objects.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns a possibly empty list
   of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function determines the method
   applicability of a generic function given a list of required
   arguments.  The returned list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s is sorted by
   precedence order with the most specific method appearing first.  If
   no methods are applicable to the supplied arguments the empty list is
   returned.</p><p>When a generic function is invoked, the discriminating
   function must determine the ordered list of methods applicable to the
   arguments.  Depending on the generic function and the arguments, this
   is done in one of three ways: using a memoized value; calling
   <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a>; or calling
   <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>.
   (Refer to the description of <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a> for
   the details of this process.)</p><p>The <em class="replaceable"><code>arguments</code></em> argument is permitted to contain more elements
   than the generic function accepts required arguments; in these cases
   the extra arguments will be ignored.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if <em class="replaceable"><code>arguments</code></em>
   contains fewer elements than the generic function accepts required
   arguments.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>arguments</code></em>)</code></span></span></dt><dd><p>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if any method of the generic
   function has a specializer which is neither a <a href="mop-chap.html#mop-class-mo">class metaobject</a> nor an
   <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializer metaobject.</p><p>Otherwise, this method computes the sorted list of applicable
   methods according to the rules described in the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] section
   <a href="http://www.lisp.org/HyperSpec/Body/sec_7-6-6.html" target="_top">7.6.6 “<span class="quote">Method Selection
     and Combination</span>”</a></p><p>This method can be overridden.  Because of the consistency
   requirements between this generic function and
   <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a>, doing so may require also overriding
   <span class="method"><code class="literal"><a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a>
    (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span>.
</p></dd></dl></div><p><a id="mop-cam-remarks"></a><b>Remarks. </b>
<!--sds-->
See also the [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>] function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_com_able-methods.html" target="_top"><code class="function">COMPUTE-APPLICABLE-METHODS</code></a>.
</p></div>
<!--compute-applicable-methods-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-applicable-methods-UC"></a>29.1.5.4.7. Generic Function <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a>
    <em class="replaceable"><code>generic-function</code></em> <em class="replaceable"><code>classes</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>classes</code></em></span></dt><dd>a list of <a href="mop-chap.html#mop-class-mo">class metaobject</a>s.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns two values.  The first
   is a possibly empty list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.  The second is either
   true or false.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to attempt to
   determine the method applicability of a generic function given only
   the classes of the required arguments.</p><p>If it is possible to completely determine the ordered list of
   applicable methods based only on the supplied classes, this generic
   function returns that list as its <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#primary_value" target="_top">primary value</a> and true as its second
   value.  The returned list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s is sorted by
   precedence order, the most specific method coming first.  If no
   methods are applicable to arguments with the specified classes, the
   empty list and true are returned.</p><p>If it is not possible to completely determine the ordered
   list of applicable methods based only on the supplied classes, this
   generic function returns an unspecified <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#primary_value" target="_top">primary value</a> and false as its
   second value.</p><p>When a generic function is invoked, the discriminating
   function must determine the ordered list of methods applicable to the
   arguments.  Depending on the generic function and the arguments, this
   is done in one of three ways: using a memoized value; calling
   <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a>; or calling
   <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>.  (Refer to the description of
   <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a> for the details of this process.)
  </p><p>The following consistency relationship between
   <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a> and <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a> must
   be maintained: for any given generic function and set of arguments,
   if <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a> returns a second value of true,
   the <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#primary_value" target="_top">primary value</a> must be equal to the value that would be returned by
   a corresponding call to <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>.  The results
   are undefined if a portable method on either of these generic
   functions causes this consistency to be violated.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>classes</code></em>)</code></span></span></dt><dd><p>If any method of the generic function has a
   specializer which is neither a <a href="mop-chap.html#mop-class-mo">class metaobject</a> nor an <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a>
   specializer metaobject, this method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</p><p>In cases where the generic function has no methods with
   <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializers, or has no methods with <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializers
   that could be applicable to arguments of the supplied classes, this
   method returns the ordered list of applicable methods as its first
   value and true as its second value.</p><p>Otherwise this method returns an unspecified <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#primary_value" target="_top">primary value</a> and
   false as its second value.</p><p>This method can be overridden. Because of the consistency
   requirements between this generic function and
   <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>, doing so may require also overriding
   <span class="method"><code class="literal"><a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>
    (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>) </code></span>.
</p></dd></dl></div><div class="simplesect" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-cam-UC-remarks"></a>Remarks</h6></div></div></div><p>This generic function exists to allow user extensions which alter
method lookup rules, but which base the new rules only on the classes of
the required arguments, to take advantage of the class-based method
lookup memoization found in many implementations.  (There is of course
no requirement for an implementation to provide this optimization.)</p><p>Such an extension can be implemented by two methods, one on this
generic function and one on <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>.  Whenever
the user extension is in effect, the first method will return a second
value of true.  This should allow the implementation to absorb these
cases into its own memoization scheme.</p><p>To get appropriate performance, other kinds of extensions may
require methods on <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a> which implement
their own memoization scheme.</p></div></div>
<!--compute-applicable-methods-UC-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-effective-method"></a>29.1.5.4.8. Generic Function <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a> <em class="replaceable"><code>generic-function</code></em> <em class="replaceable"><code>method-combination</code></em>
    <em class="replaceable"><code>methods</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>method-combination</code></em></span></dt><dd>a <a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>methods</code></em></span></dt><dd>a list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns two values.  The first
   is an effective method, the second is a list of effective method
   options.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to determine the
   effective method from a sorted list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.</p><p>An effective method is a form that describes how the
    applicable methods are to be combined.  Inside of effective method
    forms are <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> forms which indicate that a particular
    method is to be called.  The arguments to the <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> form
    indicate exactly how the method function of the method should be
    called.  (See <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> for more details about method
    functions.)</p><p>An effective method option has the same interpretation and
    syntax as either the <code class="constant">:ARGUMENTS</code> or the <code class="constant">:GENERIC-FUNCTION</code> option in the long form
    of <a href="http://www.lisp.org/HyperSpec/Body/mac_define-me_-combination.html" target="_top"><code class="function">DEFINE-METHOD-COMBINATION</code></a>.</p><p>More information about the form and interpretation of
    effective methods and effective method options can be found under
    the description of the <a href="http://www.lisp.org/HyperSpec/Body/mac_define-me_-combination.html" target="_top"><code class="function">DEFINE-METHOD-COMBINATION</code></a> macro in the
    <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> specification.</p><p>This generic function can be called by the user or the
    implementation.  It is called by discriminating functions whenever a
    sorted list of applicable methods must be converted to an effective
    method.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>method-combination</code></em> <em class="replaceable"><code>methods</code></em>)</code></span></span></dt><dd><p>This method computes the effective method according
   to the rules of the method combination type implemented by <em class="replaceable"><code>method-combination</code></em>.</p><p>This method can be overridden.</p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The second return value may contain only one
  <code class="constant">:ARGUMENTS</code> option and only one <code class="constant">:GENERIC-FUNCTION</code> option. When overriding a
  <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a> method, before adding an <code class="constant">:ARGUMENTS</code> or
  <code class="constant">:GENERIC-FUNCTION</code> option, you therefore need to check whether it this option is
  already present.</p></div></div>
<!--compute-effective-method-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-effective-method-as-function"></a>29.1.5.4.9. Function <a href="mop-chap.html#compute-effective-method-as-function" title="29.1.5.4.9. Function CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a></h5></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p></p></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-effective-method-as-function" title="29.1.5.4.9. Function CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a>
    <em class="replaceable"><code>generic-function</code></em> <em class="replaceable"><code>methods</code></em> <em class="replaceable"><code>arguments</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>methods</code></em></span></dt><dd>a list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.</dd><dt><span class="term"><em class="replaceable"><code>arguments</code></em></span></dt><dd>a list of arguments.
   </dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This function returns the effective method as a function,
   accepting any set of arguments for which all of the given methods are
   applicable.</dd><dt><span class="term">Purpose</span></dt><dd><p>This function is called to determine the effective method
   from a sorted list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s, and convert it to a function.
   The <em class="replaceable"><code>arguments</code></em> are a set of arguments to which the methods are applicable,
   and are used solely for error message purposes.</p><p>This function calls <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a> using the <em class="replaceable"><code>generic-function</code></em>'s
   method combination, wraps local macro definitions for <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> and
   <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">MAKE-METHOD</code></a> around it, handles the <code class="constant">:ARGUMENTS</code> and <code class="constant">:GENERIC-FUNCTION</code> options,
   and compiles the resulting form to a function.</p></dd></dl></div></div>
<!--compute-effective-method-as-function-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="make-method-lambda"></a>29.1.5.4.10. Generic Function <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> <em class="replaceable"><code>generic-function</code></em>
    <em class="replaceable"><code>method</code></em> <em class="replaceable"><code>lambda-expression</code></em> <em class="replaceable"><code><a href="http://www.lisp.org/HyperSpec/sec_3-1-1-4.html" target="_top">environment</a></code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>method</code></em></span></dt><dd>a (possibly uninitialized) <a href="mop-chap.html#mop-method-mo">method metaobject</a>.
      
<!--change to uninitialized?????-->

   </dd><dt><span class="term"><em class="replaceable"><code>lambda-expression</code></em></span></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-3.html" target="_top">lambda expression</a>.</dd><dt><span class="term"><em class="replaceable"><code><a href="http://www.lisp.org/HyperSpec/sec_3-1-1-4.html" target="_top">environment</a></code></em></span></dt><dd>the same as the <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><code class="literal">&amp;ENVIRONMENT</code></a> argument to
     macro expansion functions.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns two values.  The first
   is a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-3.html" target="_top">lambda expression</a>, the second is a list of initialization
   arguments and values.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to produce a
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-3.html" target="_top">lambda expression</a> which can itself be used to produce a method function
   for a method and generic function with the specified classes.
   The generic function and method the method function will be used with
   are not required to be the given ones.
   Moreover, the <a href="mop-chap.html#mop-method-mo">method metaobject</a> may be uninitialized.</p><p>Either the function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile.html" target="_top"><code class="function">COMPILE</code></a>, the special form <a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><code class="function">FUNCTION</code></a> or
   the function <a href="http://www.lisp.org/HyperSpec/Body/fun_coerce.html" target="_top"><code class="function">COERCE</code></a> must be used to convert the <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-3.html" target="_top">lambda expression</a> a
   method function.  The method function itself can be applied to
   arguments with <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><code class="function">FUNCALL</code></a>.</p><p>When a method is actually called by an effective method, its
   first argument will be a list of the arguments to the generic
   function.  Its remaining arguments will be all but the first argument
   passed to <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a>.  By default, all method functions must
   accept two arguments: the list of arguments to the generic function
   and the list of next methods.</p><p>For a given generic function and method class, the applicable
   methods on <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> and <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a> must
   be consistent in the following way: each use of <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a>
   returned by the method on <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a> must have the
   same number of arguments, and the method lambda returned by the
   method on <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> must accept a corresponding number of
   arguments.</p><p>Note that the system-supplied implementation of
   <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> is not required to handle extra arguments to the
   method function.  Users who define additional arguments to the method
   function must either redefine or forego <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a>.  (See the
   example below.)</p><p>When the <a href="mop-chap.html#mop-method-mo">method metaobject</a> is created with <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>, the method
   function must be the value of the <code class="constant">:FUNCTION</code> initialization
   argument.  The additional initialization arguments, returned as the
   second value of this generic function, must also be passed in this
   call to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>)
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>)
   <em class="replaceable"><code>lambda-expression</code></em> <em class="replaceable"><code><a href="http://www.lisp.org/HyperSpec/sec_3-1-1-4.html" target="_top">environment</a></code></em>)</code></span></span></dt><dd><p>This method returns a method lambda which accepts two
  arguments, the list of arguments to the generic function, and the list
  of next methods.  What initialization arguments may be returned in the
  second value are unspecified.</p><p>This method can be overridden.</p></dd></dl></div><div class="informalexample"><p>This example shows how to define a kind of method which, from
within the body of the method, has access to the actual <a href="mop-chap.html#mop-method-mo">method metaobject</a> for the
method.  This simplified code overrides whatever method combination is
specified for the generic function, implementing a simple method
combination supporting only primary methods, <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> and
<a href="http://www.lisp.org/HyperSpec/Body/locfun_next-method-p.html" target="_top"><code class="function">NEXT-METHOD-P</code></a>.  (In addition, its a simplified version of
<a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> which does no error checking.)</p><p>Notice that the extra lexical function bindings get wrapped around
the body before <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> is called.  In this way, the user's
definition of <a href="http://www.lisp.org/HyperSpec/Body/locfun_call-next-method.html" target="_top"><code class="function">CALL-NEXT-METHOD</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/locfun_next-method-p.html" target="_top"><code class="function">NEXT-METHOD-P</code></a> are sure to
override the system's definitions.</p><pre class="programlisting">
(defclass my-generic-function (standard-generic-function)
  ()
  (:default-initargs :method-class (find-class 'my-method)))

(defclass my-method (standard-method) ())

(defmethod make-method-lambda ((gf my-generic-function)
                               (method my-method)
                               lambda-expression
                               environment)
  (declare (ignore environment))
  `(lambda (args next-methods this-method)
     (,(call-next-method gf method
         `(lambda ,(cadr lambda-expression)
            (flet ((this-method () this-method)
                   (call-next-method (<a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> cnm-args)
                     (funcall (method-function (car next-methods))
                              (or cnm-args args)
                              (cdr next-methods)
                              (car next-methods)))
                   (next-method-p ()
                     (not (null next-methods))))
              ,@(cddr lambda-expression)))
          environment)
       args next-methods)))

(defmethod compute-effective-method ((gf my-generic-function)
                                     method-combination
                                     methods)
  `(call-method ,(car methods) ,(cdr methods) ,(car methods)))
</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p><a id="no-make-method-lambda"></a><b>The generic function <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> is not implemented. </b>Its specification is misdesigned: it mixes <a href="http://www.lisp.org/HyperSpec/Body/glo_c.html#compile_time" target="_top">compile time</a> and
   <a href="http://www.lisp.org/HyperSpec/Body/glo_e.html#execution_time" target="_top">execution time</a> behaviour. The essential problem is: where could the
   generic-function argument come from?
   </p><div class="itemizedlist"><ul type="disc"><li>If a <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form occurs in a source file, is
      <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> then called at compile time or at load time?
      If it was called at compile time, there's no possible value for
      the first argument, since the class of the generic function to
      which the method will belong is not known until load time.  If it
      was called at load time, it would mean that the method's source
      code could only be compiled at load time, not earlier - which
      defeats the purpose of <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a></li><li>When a method is removed from a generic function
      using <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a> and then added through <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> to a
      different generic function, possibly belonging to a different
      generic function class, would <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> then be called
      again or not? If no, then <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a>'s first argument is
      useless. If yes, then the source code of every method would have
      to be present at runtime, and its lexical environment as well.
 </li></ul></div><p><a id="method-functions-args"></a><b>Method function arguments. </b></p><div class="itemizedlist"><ul type="disc"><li><a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> always expect
      exactly two arguments: the method and a list of next methods.
    </li><li>Method functions always
      expect exactly two arguments: the list of arguments passed to the
      generic function, and the list of next methods.
</li></ul></div></div></div>
<!--make-method-lambda-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="compute-discriminating-function"></a>29.1.5.4.11. Generic Function <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a>
    <em class="replaceable"><code>generic-function</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is a
   function.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to determine the
   discriminating function for a generic function.  When a generic
   function is called, the <strong class="first"><em class="firstterm">installed</em></strong>
   discriminating function is called with the full set of arguments
   received by the generic function, and must implement the behavior of
   calling the generic function: determining the ordered set of
   applicable methods, determining the effective method, and running the
   effective method.</p><p>To determine the ordered set of applicable methods, the
   discriminating function first calls <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a>.
   If <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a> returns a second value of false,
   the discriminating function then calls <a href="mop-chap.html#compute-applicable-methods" title="29.1.5.4.6. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS</code></a>.
  </p><p>When <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a> returns a second
   value of true, the discriminating function is permitted to memoize
   the <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#primary_value" target="_top">primary value</a> as follows.  The discriminating function may
   reuse the list of applicable methods without calling
   <a href="mop-chap.html#compute-applicable-methods-UC" title="29.1.5.4.7. Generic Function CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES"><code class="function">CLOS:COMPUTE-APPLICABLE-METHODS-USING-CLASSES</code></a> again provided that:
   </p><div class="orderedlist"><ol type="i"><li>the generic function is being called again with
      required arguments which are instances of the same classes,
    </li><li>the generic function has not been reinitialized,
    </li><li>no method has been added to or removed from the
      generic function,</li><li>for all the specializers of all the generic
      function's methods which are classes, their class precedence lists
      have not changed, and</li><li>for any such memoized value, the class precedence
      list of the class of each of the required arguments has not changed.
   </li></ol></div><p>
   Determination of the effective method is done by calling
   <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a>.  When the effective method is run, each
   method's function is called, and receives as arguments:
   </p><div class="orderedlist"><ol type="i"><li>a list of the arguments to the generic function,
    </li><li>whatever other arguments are specified in the
      <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> form indicating that the method should be called.
   </li></ol></div><p>
   (See <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> for more information about how method
   functions are called.)</p><p>The generic function <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a> is
   called, and its result installed, by <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>,
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a>
    (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method can be overridden.</p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>Overriding methods can make use of the function
  <a href="mop-chap.html#compute-effective-method-as-function" title="29.1.5.4.9. Function CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a>.  It is more convenient to call
  <a href="mop-chap.html#compute-effective-method-as-function" title="29.1.5.4.9. Function CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a> than <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a>
  because the in the latter case one needs a lot of “<span class="quote">glue
   code</span>” for implementing the local macros <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> and
  <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">MAKE-METHOD</code></a>, and this glue code is implementation dependent because
  it needs</p><div class="orderedlist"><ol type="1"><li>to retrieve the declarations
     list stored in the method-combination object and</li><li>to handle implementation dependent options that
     are returned as second value from <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a>.
</li></ol></div></div></div>
<!--compute-discriminating-function-->
<!--end generic-function advanced customization-->
</div>
<!--mop-gf-customize-->
</div>
<!--mop-gf-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-meth"></a>29.1.6. Methods</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-inheritance">29.1.6.1. Inheritance Structure of method metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-mo-readers">29.1.6.2. Introspection: Readers for method metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#method-specializers">29.1.6.2.1. Generic Function <code class="function">CLOS:METHOD-SPECIALIZERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-qualifiers">29.1.6.2.2. Generic Function <code class="function">METHOD-QUALIFIERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-lambda-list">29.1.6.2.3. Generic Function <code class="function">CLOS:METHOD-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-gf">29.1.6.2.4. Generic Function <code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-function">29.1.6.2.5. Generic Function <code class="function">CLOS:METHOD-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-mo-readers-methods">29.1.6.2.6. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth-init">29.1.6.3. Initialization of Methods</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod">29.1.6.3.1. Macro <code class="function">DEFMETHOD</code></a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod-body">29.1.6.3.1.1. Processing Method Bodies</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod-mo">29.1.6.3.1.2. Initialization of Generic Function and method metaobjects</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-efficiency">29.1.6.3.1.3. Efficiency</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth-init-mo">29.1.6.3.2. Initialization of method metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-mo-method">29.1.6.3.2.1. Methods</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth-customize">29.1.6.4. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#extract-lambda-list">29.1.6.4.1. Function <code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#extract-specializer-names">29.1.6.4.2. Function <code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-meth-inheritance"></a>29.1.6.1. Inheritance Structure of <a href="mop-chap.html#mop-method-mo">method metaobject</a> Classes</h4></div></div></div><div class="figure"><a id="mop-meth-inheritance-fig"></a><p class="title"><b>Figure 29.5. Inheritance structure of <a href="mop-chap.html#mop-method-mo">method metaobject</a> classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-method.png" width="100%" alt="Inheritance structure of method metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-meth-mo-readers"></a>29.1.6.2. Introspection: Readers for <a href="mop-chap.html#mop-method-mo">method metaobject</a>s</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#method-specializers">29.1.6.2.1. Generic Function <code class="function">CLOS:METHOD-SPECIALIZERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-qualifiers">29.1.6.2.2. Generic Function <code class="function">METHOD-QUALIFIERS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-lambda-list">29.1.6.2.3. Generic Function <code class="function">CLOS:METHOD-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-gf">29.1.6.2.4. Generic Function <code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#method-function">29.1.6.2.5. Generic Function <code class="function">CLOS:METHOD-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-mo-readers-methods">29.1.6.2.6. Methods</a></span></dt></dl></div><p>The reader generic functions which simply return information
associated with <a href="mop-chap.html#mop-method-mo">method metaobject</a>s are presented together here in the
format described in <a href="mop-chap.html#mop-cl-readers" title="29.1.3.3. Introspection: Readers for class metaobjects">Section 29.1.3.3, “Introspection: Readers for class metaobjects”</a>.</p><p>Each of these reader generic functions have the same syntax,
accepting one required argument called <em class="replaceable"><code>method</code></em>, which must be a
<a href="mop-chap.html#mop-method-mo">method metaobject</a>; otherwise, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is also <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed
if the <a href="mop-chap.html#mop-method-mo">method metaobject</a> has not been initialized.</p><p>These generic functions can be called by the user or the
 implementation.</p><p>For any of these generic
 functions which returns a list, such lists will not be mutated by the
 implementation.  The results are undefined if a portable program allows
 such a list to be mutated.</p>
<!--begin method basic introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="method-specializers"></a>29.1.6.2.1. Generic Function <a href="mop-chap.html#method-specializers" title="29.1.6.2.1. Generic Function CLOS:METHOD-SPECIALIZERS"><code class="function">CLOS:METHOD-SPECIALIZERS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#method-specializers" title="29.1.6.2.1. Generic Function CLOS:METHOD-SPECIALIZERS"><code class="function">CLOS:METHOD-SPECIALIZERS</code></a> <em class="replaceable"><code>method</code></em>)</code></h6></div></div></div><p>Returns a list of the specializers of <em class="replaceable"><code>method</code></em>.  This value is a
list of specializer metaobjects.  This is the value of the
<code class="constant">:SPECIALIZERS</code> initialization argument that was associated with the
method during initialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="method-qualifiers"></a>29.1.6.2.2. Generic Function <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_met_d-qualifiers.html" target="_top"><code class="function">METHOD-QUALIFIERS</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_met_d-qualifiers.html" target="_top"><code class="function">METHOD-QUALIFIERS</code></a> <em class="replaceable"><code>method</code></em>)</code></h6></div></div></div><p>Returns a (possibly empty) list of the qualifiers of <em class="replaceable"><code>method</code></em>.
This value is a list of non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> atoms.  This is the defaulted value of
the <code class="constant">:QUALIFIERS</code> initialization argument that was associated with the
method during initialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="method-lambda-list"></a>29.1.6.2.3. Generic Function <a href="mop-chap.html#method-lambda-list" title="29.1.6.2.3. Generic Function CLOS:METHOD-LAMBDA-LIST"><code class="function">CLOS:METHOD-LAMBDA-LIST</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#method-lambda-list" title="29.1.6.2.3. Generic Function CLOS:METHOD-LAMBDA-LIST"><code class="function">CLOS:METHOD-LAMBDA-LIST</code></a> <em class="replaceable"><code>method</code></em>)</code></h6></div></div></div><p>Returns the (unspecialized) <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> of <em class="replaceable"><code>method</code></em>.  This value
is a <a href="http://www.lisp.org" target="_top"><span><strong class="command">Common Lisp</strong></span></a> <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>.  This is the value of the <code class="constant">:LAMBDA-LIST</code>
initialization argument that was associated with the method during
initialization.</p></div>
<!--end method basic introspection-->
<!--begin method advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="method-gf"></a>29.1.6.2.4. Generic Function <a href="mop-chap.html#method-gf" title="29.1.6.2.4. Generic Function CLOS:METHOD-GENERIC-FUNCTION"><code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#method-gf" title="29.1.6.2.4. Generic Function CLOS:METHOD-GENERIC-FUNCTION"><code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a> <em class="replaceable"><code>method</code></em>)</code></h6></div></div></div><p>Returns the generic function that <em class="replaceable"><code>method</code></em> is currently
connected to, or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> if it is not currently connected to any generic
function.  This value is either a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
When a method is first created it is not connected to any generic
function.  This connection is maintained by the generic functions
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="method-function"></a>29.1.6.2.5. Generic Function <a href="mop-chap.html#method-function" title="29.1.6.2.5. Generic Function CLOS:METHOD-FUNCTION"><code class="function">CLOS:METHOD-FUNCTION</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#method-function" title="29.1.6.2.5. Generic Function CLOS:METHOD-FUNCTION"><code class="function">CLOS:METHOD-FUNCTION</code></a> <em class="replaceable"><code>method</code></em>)</code></h6></div></div></div><p>Returns the method function of <em class="replaceable"><code>method</code></em>.  This is the
value of the <code class="constant">:FUNCTION</code> initialization argument that was associated
with the method during initialization.</p></div>
<!--end method advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-meth-mo-readers-methods"></a>29.1.6.2.6. Methods</h5></div></div></div><div class="variablelist"><p class="title"><b>The specified methods for the <a href="mop-chap.html#mop-method-mo">method metaobject</a> readers</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#method-specializers" title="29.1.6.2.1. Generic Function CLOS:METHOD-SPECIALIZERS"><code class="function">CLOS:METHOD-SPECIALIZERS</code></a>
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_met_d-qualifiers.html" target="_top"><code class="function">METHOD-QUALIFIERS</code></a>
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#method-lambda-list" title="29.1.6.2.3. Generic Function CLOS:METHOD-LAMBDA-LIST"><code class="function">CLOS:METHOD-LAMBDA-LIST</code></a>
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#method-function" title="29.1.6.2.5. Generic Function CLOS:METHOD-FUNCTION"><code class="function">CLOS:METHOD-FUNCTION</code></a>
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>))</code></span></span></dt><dd>No behavior is specified for these
   methods beyond that which is specified for their respective generic
   functions.</dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#method-gf" title="29.1.6.2.4. Generic Function CLOS:METHOD-GENERIC-FUNCTION"><code class="function">CLOS:METHOD-GENERIC-FUNCTION</code></a>
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>The value returned by this method is maintained by
  <span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>)</code></span> and
  <span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>
   <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-method.html" target="_top"><code class="classname">STANDARD-METHOD</code></a>)</code></span>.</p></dd></dl></div></div>
<!--mop-meth-mo-readers-methods-->
</div>
<!--mop-meth-mo-readers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-meth-init"></a>29.1.6.3. Initialization of Methods</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod">29.1.6.3.1. Macro <code class="function">DEFMETHOD</code></a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod-body">29.1.6.3.1.1. Processing Method Bodies</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod-mo">29.1.6.3.1.2. Initialization of Generic Function and method metaobjects</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-efficiency">29.1.6.3.1.3. Efficiency</a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-meth-init-mo">29.1.6.3.2. Initialization of method metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-mo-method">29.1.6.3.2.1. Methods</a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-meth-init-defmethod"></a>29.1.6.3.1. Macro <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a></h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod-body">29.1.6.3.1.1. Processing Method Bodies</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-init-defmethod-mo">29.1.6.3.1.2. Initialization of Generic Function and method metaobjects</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-efficiency">29.1.6.3.1.3. Efficiency</a></span></dt></dl></div><p>The evaluation or execution of a <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form requires first
that the body of the method be converted to a method function.
This process is described
<a href="mop-chap.html#mop-meth-init-defmethod-body" title="29.1.6.3.1.1. Processing Method Bodies">below</a>.
The result of this process is a method function and a set of additional
initialization arguments to be used when creating the new method.
Given these two values, the evaluation or execution of a <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>
form proceeds in three steps.</p><p>The first step ensures the existence of a generic function with
the specified name.  This is done by calling the function <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.
The first argument in this call is the generic function name specified
in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form.</p><p>The second step is the creation of the new <a href="mop-chap.html#mop-method-mo">method metaobject</a> by calling
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.  The class of the new <a href="mop-chap.html#mop-method-mo">method metaobject</a> is determined by calling
<a href="mop-chap.html#gf-method-class" title="29.1.5.2.6. Generic Function CLOS:GENERIC-FUNCTION-METHOD-CLASS"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a> on the result of the call to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a> from the
first step.</p><p>The initialization arguments received by the call to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
are as follows:</p><div class="itemizedlist"><ul type="disc"><li>The value of the <code class="constant">:QUALIFIERS</code> initialization
argument is a list of the qualifiers which appeared in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>
form.  No special processing is done on these values.  The order of the
elements of this list is the same as in the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form.
</li><li>The value of the <code class="constant">:LAMBDA-LIST</code> initialization
argument is the unspecialized <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> from the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form.
</li><li>The value of the <code class="constant">:SPECIALIZERS</code> initialization
argument is a list of the specializers for the method.  For specializers
which are classes, the specializer is the <a href="mop-chap.html#mop-class-mo">class metaobject</a> itself.  In
the case of <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializers, it will be an <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EQL-SPECIALIZER</code></a>
metaobject obtained by calling <a href="mop-chap.html#intern-eql-specializer" title="29.1.8.3.1. Function CLOS:INTERN-EQL-SPECIALIZER"><code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a> on the result of
evaluating the <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializer form in the <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html" target="_top">lexical environment</a> of the
<a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form.</li><li>The value of the <code class="constant">:FUNCTION</code> initialization
argument is the method function.</li><li><p>The value of the <code class="constant">:DECLARATIONS</code> initialization
argument is a list of the <a href="http://www.lisp.org/HyperSpec/Body/glo_d.html#declaration_specifier" target="_top">declaration specifier</a>s from the
<a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form.  If there are no declarations in the macro form, this
initialization argument either does not appear, or appears with a value
of the empty list.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>No <code class="constant">:DECLARATIONS</code> initialization argument is
  provided, because method initialization does not support a <code class="constant">:DECLARATIONS</code>
  argument, and because the method function is already completely provided
  through the <code class="constant">:FUNCTION</code> initialization argument.</p></div></li><li>The value of the <code class="constant">:DOCUMENTATION</code> initialization
argument is the documentation string from the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form.  If
there is no documentation string in the macro form this initialization
argument either does not appear, or appears with a value of false.
</li><li>Any other initialization argument produced in
conjunction with the method function are also included.</li><li>The implementation is free to include additional
initialization arguments provided these are not symbols accessible in
the <a href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html" target="_top"><strong class="package">“<span class="quote">COMMON-LISP-USER</span>”</strong></a> package, or exported by any package defined in the
[<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>].</li></ul></div><p>In the third step, <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> is called to add the newly created
method to the set of methods associated with the <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</p><p>The result of the call to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> is returned as the result
of evaluating or executing the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form.</p><p>An example showing a typical <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form and a sample
expansion is shown in the following example:
</p><div class="informalexample"><a id="defmethod-ex-1"></a><p>An example <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> form and one possible correct
  expansion. In the expansion, <em class="replaceable"><code>method-lambda</code></em>
  is the result of calling <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> as described in
  <a href="mop-chap.html#mop-meth-init-defmethod-body" title="29.1.6.3.1.1. Processing Method Bodies">Section 29.1.6.3.1.1, “Processing Method Bodies”</a>.
  The initargs appearing after <code class="constant">:FUNCTION</code> are assumed to be additional
  initargs returned from the call to <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a>.</p><pre class="programlisting">
(defmethod move :before ((p position) (l (eql 0))
                         <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> (visiblyp t)
                         <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> color)
  (set-to-origin p)
  (when visiblyp (show-move p 0 color)))

(let ((#:g001 (ensure-generic-function 'move)))
  (add-method #:g001
    (make-instance (generic-function-method-class #:g001)
                   :qualifiers '(:before)
                   :specializers (list (find-class 'position)
                                       (intern-eql-specializer 0))
                   :lambda-list '(p l <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> (visiblyp t)
                                      <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> color)
                   :function (function <em class="replaceable"><code>method-lambda</code></em>)
                   'additional-initarg-1 't
                   'additional-initarg-2 '39)))
</pre></div><p>The processing of the method body for this method is shown
 <a href="mop-chap.html#defmethod-ex-2">below</a>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-meth-init-defmethod-body"></a>29.1.6.3.1.1. Processing Method Bodies</h6></div></div></div><p>Before a method can be created, the list of forms comprising the
method body must be converted to a method function.  This conversion is
a two step process.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The body of methods can also appear in the
<code class="constant">:METHOD</code> option of <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> forms.  Initial methods are
not considered by any of the protocols specified in this document.
</p></div><div class="informalexample"><a id="defmethod-ex-2"></a><p>During macro-expansion of the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> macro shown in
  the <a href="mop-chap.html#defmethod-ex-1">previous example</a> code
  similar to this would be run to produce the method lambda and
  additional initargs.  In this example, <em class="replaceable"><code><a href="http://www.lisp.org/HyperSpec/sec_3-1-1-4.html" target="_top">environment</a></code></em> is the macroexpansion
  environment of the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> macro form.</p><pre class="programlisting">
(let ((gf (ensure-generic-function 'move)))
  (make-method-lambda
    gf
    (class-prototype (generic-function-method-class gf))
    '(lambda (p l <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> (visiblyp t) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> color)
       (set-to-origin p)
       (when visiblyp (show-move p 0 color)))
    <em class="replaceable"><code><a href="http://www.lisp.org/HyperSpec/sec_3-1-1-4.html" target="_top">environment</a></code></em>))
</pre></div><p>The first step occurs during macro-expansion of the macro form.
In this step, the method <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>, declarations and body are
converted to a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-3.html" target="_top">lambda expression</a> called a <strong class="first"><em class="firstterm">method
lambda</em></strong>.  This conversion is based on information associated
with the generic function definition in effect at the time the macro
form is expanded.</p><p>The generic function definition is obtained by calling <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>
with a first argument of the generic function name specified in the
macro form.  The <code class="constant">:LAMBDA-LIST</code> keyword argument is not passed in this
call.</p><p>Given the generic function, production of the method lambda
proceeds by calling <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a>.  The first argument in this
call is the generic function obtained as described above.  The second
argument is the result of calling <a href="mop-chap.html#class-prototype" title="29.1.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> on the result of
calling <a href="mop-chap.html#gf-method-class" title="29.1.5.2.6. Generic Function CLOS:GENERIC-FUNCTION-METHOD-CLASS"><code class="function">CLOS:GENERIC-FUNCTION-METHOD-CLASS</code></a> on the generic function.  The
third argument is a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-1-3.html" target="_top">lambda expression</a> formed from the method <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>,
declarations and body.  The fourth argument is the macro-expansion
environment of the macro form; this is the value of the
<a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-4.html" target="_top"><code class="literal">&amp;ENVIRONMENT</code></a> argument to the <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> macro.</p><p>The generic function <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> returns two values.  The
first is the method lambda itself.  The second is a list of
initialization arguments and values.  These are included in the
initialization arguments when the method is created.</p><p>In the second step, the method lambda is converted to a function
which properly captures the lexical scope of the macro form.  This is
done by having the method lambda appear in the macro-expansion as the
argument of the <a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><code class="function">FUNCTION</code></a> special form.  During the subsequent
evaluation of the macro-expansion, the result of the <a href="http://www.lisp.org/HyperSpec/Body/speope_function.html" target="_top"><code class="function">FUNCTION</code></a> special
form is the method function.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>See <a href="mop-chap.html#no-make-method-lambda" title="The generic function CLOS:MAKE-METHOD-LAMBDA is not implemented">The generic function <code class="function">CLOS:MAKE-METHOD-LAMBDA</code> is not implemented</a>.
</p></div></div>
<!--mop-meth-init-defmethod-body-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-meth-init-defmethod-mo"></a>29.1.6.3.1.2. Initialization of Generic Function and <a href="mop-chap.html#mop-method-mo">method metaobject</a>s</h6></div></div></div><p>An example of creating a generic function and a <a href="mop-chap.html#mop-method-mo">method metaobject</a>, and then
adding the method to the generic function is shown below.  This example
is comparable to the method definition shown
 <a href="mop-chap.html#defmethod-ex-1">above</a>:
</p><pre class="programlisting">
(let* ((gf (make-instance 'standard-generic-function
                          :lambda-list '(p l <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> visiblyp <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>)))
       (method-class (generic-function-method-class gf)))
  (multiple-value-bind (lambda initargs)
       (make-method-lambda
         gf
         (class-prototype method-class)
         '(lambda (p l <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> (visiblyp t) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> color)
            (set-to-origin p)
            (when visiblyp (show-move p 0 color)))
         nil)
    (add-method gf
                (apply #'make-instance method-class
                       :function (compile nil lambda)
                       :specializers (list (find-class 'position)
                                           (intern-eql-specializer 0))
                       :qualifiers ()
                       :lambda-list '(p l <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> (visiblyp t)
                                          <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> color)
                       initargs))))
</pre></div>
<!--mop-meth-init-defmethod-mo-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-meth-efficiency"></a>29.1.6.3.1.3. Efficiency</h6></div><div><h6 class="subtitle">Implementation dependent: only in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> and some other
  implementations</h6></div></div></div><p>Methods created through <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a> have a faster calling
  convention than methods created through a portable <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
  invocation.</p></div>
<!--mop-meth-efficiency-->
</div>
<!--mop-meth-init-defmethod-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-meth-init-mo"></a>29.1.6.3.2. Initialization of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s</h5></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-init-mo-method">29.1.6.3.2.1. Methods</a></span></dt></dl></div><p>A <a href="mop-chap.html#mop-method-mo">method metaobject</a> can be created by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.
The initialization arguments establish the definition of the method.
A <a href="mop-chap.html#mop-method-mo">method metaobject</a> cannot be redefined;
calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</p><p>Initialization of a <a href="mop-chap.html#mop-method-mo">method metaobject</a> must be done by calling <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
and allowing it to call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>.  Portable programs must
<span class="strong"><strong>not</strong></span></p><div class="itemizedlist"><ul type="disc"><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> directly to
    initialize a <a href="mop-chap.html#mop-method-mo">method metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a> directly to
    initialize a <a href="mop-chap.html#mop-method-mo">method metaobject</a>;</li><li>... call <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> to change the class of any
    <a href="mop-chap.html#mop-method-mo">method metaobject</a> or to turn a non-method object into a <a href="mop-chap.html#mop-method-mo">method metaobject</a>.
</li></ul></div><p>Since metaobject classes may not be redefined,
 no behavior is specified for the result of calls to
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_efined-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-REDEFINED-CLASS</code></a> on <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.
 Since the class of a <a href="mop-chap.html#mop-method-mo">method metaobject</a> cannot be changed,
 no behavior is specified for the result of calls to
 <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_ferent-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-DIFFERENT-CLASS</code></a> on <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.</p><p>During initialization, each initialization argument is checked
for errors and then associated with the <a href="mop-chap.html#mop-method-mo">method metaobject</a>.  The value
can then be accessed by calling the appropriate accessor as shown in
<a href="mop-chap.html#mop-meth-initargs" title="Table 29.5. Initialization arguments and&#10;  accessors for method metaobjects">Table 29.5, “Initialization arguments and
  accessors for method metaobjects”</a>.</p><p>This section begins with a description of the error checking and
processing of each initialization argument.  This is followed by a table
showing the generic functions that can be used to access the stored
initialization arguments.  The section ends with a set of restrictions
on portable methods affecting <a href="mop-chap.html#mop-method-mo">method metaobject</a> initialization.</p><p>In these descriptions, the phrase “<span class="quote">this argument defaults to
<em class="replaceable"><code>value</code></em></span>” means that when that initialization argument is not
supplied, initialization is performed as if <em class="replaceable"><code>value</code></em> had been supplied.
For some initialization arguments this could be done by the use of
default initialization arguments, but whether it is done this way is not
specified.  Implementations are free to define default initialization
arguments for specified <a href="mop-chap.html#mop-method-mo">method metaobject</a> classes.  Portable programs
are free to define default initialization arguments for portable
subclasses of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>.</p><div class="itemizedlist"><ul type="disc"><li>The <code class="constant">:QUALIFIERS</code> argument is a list of method
   qualifiers.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a>, or if
   any element of the list is not a non-null atom. This argument
   defaults to the empty list.</li><li>The <code class="constant">:LAMBDA-LIST</code> argument is the unspecialized
   <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> of the method.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a
   proper <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>. If this value is not supplied, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.
 </li><li>The <code class="constant">:SPECIALIZERS</code> argument is a list of the
   specializer metaobjects for the method.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value
   is not a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list" target="_top">proper list</a>, or if the length of the list differs from the
   number of required arguments in the <code class="constant">:LAMBDA-LIST</code> argument, or if
   any element of the list is not a specializer metaobject.  If this
   value is not supplied, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</li><li> The <code class="constant">:FUNCTION</code> argument is a method function.  It
   must be compatible with the methods on <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a>
   defined for this class of method and generic function with which it
   will be used.  That is, it must accept the same number of arguments
   as all uses of <a href="http://www.lisp.org/HyperSpec/Body/locmac_call-m__make-method.html" target="_top"><code class="function">CALL-METHOD</code></a> that will call it supply.  (See
   <a href="mop-chap.html#compute-effective-method" title="29.1.5.4.8. Generic Function CLOS:COMPUTE-EFFECTIVE-METHOD"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD</code></a> and <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> for more information.)
   An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this argument is not supplied.</li><li> When the method being initialized is an instance of
   a subclass of <a href="mop-chap.html#mop-meth-init-mo" title="29.1.6.3.2. Initialization of method metaobjects"><code class="classname">CLOS:STANDARD-ACCESSOR-METHOD</code></a>, the <code class="constant">:SLOT-DEFINITION</code>
   initialization argument must be provided.  Its value is the direct
   <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> which defines this accessor method.  An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if the value
   is not an instance of a subclass of <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:DIRECT-SLOT-DEFINITION</code></a>.</li><li>The <code class="constant">:DOCUMENTATION</code> argument is a string or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
   An <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a string or <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.  This argument
   defaults to <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</li></ul></div><p>After the processing and defaulting of initialization arguments
described above, the value of each initialization argument is associated
with the <a href="mop-chap.html#mop-method-mo">method metaobject</a>.  These values can then be accessed by calling the
corresponding generic function.  The correspondences are as follows:

</p><div class="table"><a id="mop-meth-initargs"></a><p class="title"><b>Table 29.5. Initialization arguments and
  accessors for <a href="mop-chap.html#mop-method-mo">method metaobject</a>s</b></p><div class="table-contents"><table summary="Initialization arguments and&#10;  accessors for method metaobjects" border="1"><colgroup><col /><col /></colgroup><thead><tr><th align="center">Initialization Argument</th><th align="center">Generic Function</th></tr></thead><tbody><tr><td align="center"><code class="constant">:QUALIFIERS</code></td><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_met_d-qualifiers.html" target="_top"><code class="function">METHOD-QUALIFIERS</code></a></td></tr><tr><td align="center"><code class="constant">:LAMBDA-LIST</code></td><td align="center"><a href="mop-chap.html#method-lambda-list" title="29.1.6.2.3. Generic Function CLOS:METHOD-LAMBDA-LIST"><code class="function">CLOS:METHOD-LAMBDA-LIST</code></a></td></tr><tr><td align="center"><code class="constant">:SPECIALIZERS</code></td><td align="center"><a href="mop-chap.html#method-specializers" title="29.1.6.2.1. Generic Function CLOS:METHOD-SPECIALIZERS"><code class="function">CLOS:METHOD-SPECIALIZERS</code></a></td></tr><tr><td align="center"><code class="constant">:FUNCTION</code></td><td align="center"><a href="mop-chap.html#method-function" title="29.1.6.2.5. Generic Function CLOS:METHOD-FUNCTION"><code class="function">CLOS:METHOD-FUNCTION</code></a></td></tr><tr><td align="center"><code class="constant">:SLOT-DEFINITION</code></td><td align="center"><a href="mop-chap.html#accessor-method-slotdef" title="29.1.7.1.1. Generic Function CLOS:ACCESSOR-METHOD-SLOT-DEFINITION"><code class="function">CLOS:ACCESSOR-METHOD-SLOT-DEFINITION</code></a></td></tr><tr><td align="center"><code class="constant">:DOCUMENTATION</code></td><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><code class="function">DOCUMENTATION</code></a></td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h6 class="title"><a id="mop-meth-init-mo-method"></a>29.1.6.3.2.1. Methods</h6></div></div></div><p>It is not specified which methods provide the initialization
behavior described above.  Instead, the information needed to allow
portable programs to specialize this behavior is presented in as a set
of restrictions on the methods a portable program can define.  The model
is that portable initialization methods have access to the <a href="mop-chap.html#mop-method-mo">method metaobject</a> when
either all or none of the specified initialization has taken
effect.</p><p>These restrictions govern the methods that a portable program can
define on the generic functions <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>,
<a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>, and <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.  These restrictions
apply only to methods on these generic functions for which the first
specializer is a subclass of the class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>.  Other portable
methods on these generic functions are not affected by these
restrictions.</p><div class="itemizedlist"><ul type="disc"><li>Portable programs must not define methods on
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.</li><li><p>For <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>:
   </p><div class="itemizedlist"><ul type="circle"><li>Portable programs must not define primary methods.
 </li><li>Portable programs may define around-methods, but
   these must be extending, not overriding methods.</li><li>Portable before-methods must assume that when they
   are run, none of the initialization behavior described above has been
   completed.</li><li>Portable after-methods must assume that when they
   are run, all of the initialization behavior described above has been
   completed.</li></ul></div></li></ul></div><p>The results are undefined if any of
 these restrictions are violated.</p></div>
<!--mop-meth-init-mo-method-->
</div>
<!--mop-meth-init-mo-->
</div>
<!--mop-meth-init-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-meth-customize"></a>29.1.6.4. Customization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#extract-lambda-list">29.1.6.4.1. Function <code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#extract-specializer-names">29.1.6.4.2. Function <code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a></span></dt></dl></div>
<!--begin method advanced customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="extract-lambda-list"></a>29.1.6.4.1. Function <a href="mop-chap.html#extract-lambda-list" title="29.1.6.4.1. Function CLOS:EXTRACT-LAMBDA-LIST"><code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#extract-lambda-list" title="29.1.6.4.1. Function CLOS:EXTRACT-LAMBDA-LIST"><code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a> <em class="replaceable"><code>specialized-lambda-list</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>specialized-lambda-list</code></em></span></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-3.html" target="_top">specialized lambda list</a> as accepted by <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is an unspecialized <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This function takes a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-3.html" target="_top">specialized lambda list</a> and
   returns the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> with the specializers removed.  This is a
   non-destructive operation.  Whether the result shares any structure
   with the argument is unspecified.</p><p>If the <em class="replaceable"><code>specialized-lambda-list</code></em> argument does not have legal syntax,
   an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.  This syntax checking does not check the syntax of the
   actual specializer names, only the syntax of the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a> and
   where the specializers appear.
</p></dd></dl></div><p><b>Examples. </b></p><div class="informalexample"><pre class="programlisting">
(<a href="mop-chap.html#extract-lambda-list" title="29.1.6.4.1. Function CLOS:EXTRACT-LAMBDA-LIST"><code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a> '((p position)))
⇒ <code class="computeroutput">(P)</code>
(<a href="mop-chap.html#extract-lambda-list" title="29.1.6.4.1. Function CLOS:EXTRACT-LAMBDA-LIST"><code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a> '((p position) x y))
⇒ <code class="computeroutput">(P X Y)</code>
(<a href="mop-chap.html#extract-lambda-list" title="29.1.6.4.1. Function CLOS:EXTRACT-LAMBDA-LIST"><code class="function">CLOS:EXTRACT-LAMBDA-LIST</code></a> '(a (b (eql x)) c <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> i))
⇒ <code class="computeroutput">(A B C <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;OPTIONAL</code></a> I)</code>
</pre></div></div>
<!--extract-lambda-list-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="extract-specializer-names"></a>29.1.6.4.2. Function <a href="mop-chap.html#extract-specializer-names" title="29.1.6.4.2. Function CLOS:EXTRACT-SPECIALIZER-NAMES"><code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#extract-specializer-names" title="29.1.6.4.2. Function CLOS:EXTRACT-SPECIALIZER-NAMES"><code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a>
    <em class="replaceable"><code>specialized-lambda-list</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>specialized-lambda-list</code></em></span></dt><dd>a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-3.html" target="_top">specialized lambda list</a> as accepted by <a href="http://www.lisp.org/HyperSpec/Body/mac_defmethod.html" target="_top"><code class="function">DEFMETHOD</code></a>.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is a list of specializer names.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This function takes a <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-3.html" target="_top">specialized lambda list</a> and
   returns its specializer names.  This is a non-destructive operation.
   Whether the result shares structure with the argument is unspecified.
  </p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p><p>The result of this function will be a list with a
   number of elements equal to the number of required arguments in
   <em class="replaceable"><code>specialized-lambda-list</code></em>.  Specializers are defaulted to the symbol <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>.
  </p><p>If the <em class="replaceable"><code>specialized-lambda-list</code></em> argument does not have legal
   syntax, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.  This syntax checking does not check the syntax
   of the actual specializer names, only the syntax of the <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>
   and where the specializers appear.
</p></dd></dl></div><p><b>Examples. </b></p><div class="informalexample"><pre class="programlisting">
(<a href="mop-chap.html#extract-specializer-names" title="29.1.6.4.2. Function CLOS:EXTRACT-SPECIALIZER-NAMES"><code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a> '((p position)))
⇒ <code class="computeroutput">(POSITION)</code>
(<a href="mop-chap.html#extract-specializer-names" title="29.1.6.4.2. Function CLOS:EXTRACT-SPECIALIZER-NAMES"><code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a> '((p position) x y))
⇒ <code class="computeroutput">(POSITION T T)</code>
(<a href="mop-chap.html#extract-specializer-names" title="29.1.6.4.2. Function CLOS:EXTRACT-SPECIALIZER-NAMES"><code class="function">CLOS:EXTRACT-SPECIALIZER-NAMES</code></a> '(a (b (eql x)) c <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> i))
⇒ <code class="computeroutput">(T (EQL X) T)</code>
</pre></div></div>
<!--extract-specializer-names-->
<!--end method advanced customization-->
</div>
<!--mop-meth-customize-->
</div>
<!--mop-meth-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-accessors"></a>29.1.7. Accessor Methods</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-acc-readers">29.1.7.1. Introspection</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#accessor-method-slotdef">29.1.7.1.1. Generic Function <code class="function">CLOS:ACCESSOR-METHOD-SLOT-DEFINITION</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-acc-customize">29.1.7.2. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#reader-method-class">29.1.7.2.1. Generic Function <code class="function">CLOS:READER-METHOD-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#writer-method-class">29.1.7.2.2. Generic Function <code class="function">CLOS:WRITER-METHOD-CLASS</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-acc-readers"></a>29.1.7.1. Introspection</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#accessor-method-slotdef">29.1.7.1.1. Generic Function <code class="function">CLOS:ACCESSOR-METHOD-SLOT-DEFINITION</code></a></span></dt></dl></div>
<!--begin accessor-method basic introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="accessor-method-slotdef"></a>29.1.7.1.1. Generic Function <a href="mop-chap.html#accessor-method-slotdef" title="29.1.7.1.1. Generic Function CLOS:ACCESSOR-METHOD-SLOT-DEFINITION"><code class="function">CLOS:ACCESSOR-METHOD-SLOT-DEFINITION</code></a></h5></div><div><h6 class="subtitle"><code class="code">(<a href="mop-chap.html#accessor-method-slotdef" title="29.1.7.1.1. Generic Function CLOS:ACCESSOR-METHOD-SLOT-DEFINITION"><code class="function">CLOS:ACCESSOR-METHOD-SLOT-DEFINITION</code></a> <em class="replaceable"><code>method</code></em>)</code></h6></div></div></div><p>This accessor can only be called on accessor methods.  It returns
the <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> that defined this method.  This is the value of the
<code class="constant">:SLOT-DEFINITION</code> initialization argument associated with the method during
initialization.</p><div class="variablelist"><p class="title"><b>The specified methods for the accessor <a href="mop-chap.html#mop-method-mo">method metaobject</a>
  readers</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#accessor-method-slotdef" title="29.1.7.1.1. Generic Function CLOS:ACCESSOR-METHOD-SLOT-DEFINITION"><code class="function">CLOS:ACCESSOR-METHOD-SLOT-DEFINITION</code></a>
   (<em class="replaceable"><code>method</code></em> <a href="mop-chap.html#mop-meth-init-mo" title="29.1.6.3.2. Initialization of method metaobjects"><code class="classname">CLOS:STANDARD-ACCESSOR-METHOD</code></a>))</code></span></span></dt><dd>No behavior is specified for this
   method beyond that which is specified for the generic function.</dd></dl></div></div>
<!--end accessor-method basic introspection-->
</div>
<!--mop-acc-readers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-acc-customize"></a>29.1.7.2. Customization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#reader-method-class">29.1.7.2.1. Generic Function <code class="function">CLOS:READER-METHOD-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#writer-method-class">29.1.7.2.2. Generic Function <code class="function">CLOS:WRITER-METHOD-CLASS</code></a></span></dt></dl></div>
<!--begin accessor-method advanced customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="reader-method-class"></a>29.1.7.2.1. Generic Function <a href="mop-chap.html#reader-method-class" title="29.1.7.2.1. Generic Function CLOS:READER-METHOD-CLASS"><code class="function">CLOS:READER-METHOD-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#reader-method-class" title="29.1.7.2.1. Generic Function CLOS:READER-METHOD-CLASS"><code class="function">CLOS:READER-METHOD-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>direct-slot-definition</code></em>
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>direct-slot-definition</code></em></span></dt><dd>a <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>alternating initialization argument names and values.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned is a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to determine the
   class of reader methods created during class initialization and
   reinitialization.  The result must be a subclass of
   <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-READER-METHOD</code></a>.</p><p>The <em class="replaceable"><code>initargs</code></em> argument must be the same as will be passed
   to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> to create the reader method.  The <em class="replaceable"><code>initargs</code></em>
   must include <code class="constant">:SLOT-DEFINITION</code> with <em class="replaceable"><code>slot-definition</code></em> as its value.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#reader-method-class" title="29.1.7.2.1. Generic Function CLOS:READER-METHOD-CLASS"><code class="function">CLOS:READER-METHOD-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) (<em class="replaceable"><code>direct-slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>)
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#reader-method-class" title="29.1.7.2.1. Generic Function CLOS:READER-METHOD-CLASS"><code class="function">CLOS:READER-METHOD-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) (<em class="replaceable"><code>direct-slot-definition</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>)
   <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>These methods return the class
   <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-READER-METHOD</code></a>.</p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--reader-method-class-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="writer-method-class"></a>29.1.7.2.2. Generic Function <a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="function">CLOS:WRITER-METHOD-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="function">CLOS:WRITER-METHOD-CLASS</code></a> <em class="replaceable"><code>class</code></em>
    <em class="replaceable"><code>direct-slot</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>direct-slot</code></em></span></dt><dd>a <a href="mop-chap.html#mop-dsd-mo">direct</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>a list of initialization arguments and values.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned is a <a href="mop-chap.html#mop-class-mo">class metaobject</a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to determine the
   class of writer methods created during class initialization and
   reinitialization.  The result must be a subclass of
   <a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="classname">CLOS:STANDARD-WRITER-METHOD</code></a>.</p><p>The <em class="replaceable"><code>initargs</code></em> argument must be the same as will be passed
   to <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> to create the reader method.  The <em class="replaceable"><code>initargs</code></em>
   must include <code class="constant">:SLOT-DEFINITION</code> with <a href="mop-chap.html#mop-sd" title="29.1.4. Slot Definitions"><code class="classname">CLOS:SLOT-DEFINITION</code></a> as its value.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="function">CLOS:WRITER-METHOD-CLASS</code></a>
    (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>)
    (<em class="replaceable"><code>direct-slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>)
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="function">CLOS:WRITER-METHOD-CLASS</code></a>
    (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)
    (<em class="replaceable"><code>direct-slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>)
    <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>These methods returns the class
  <a href="mop-chap.html#writer-method-class" title="29.1.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="classname">CLOS:STANDARD-WRITER-METHOD</code></a>.</p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--writer-method-class-->
<!--end accessor-method advanced customization-->
</div>
<!--mop-acc-customize-->
</div>
<!--mop-accessors-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-specializers"></a>29.1.8. Specializers</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-specializers-inheritance">29.1.8.1. Inheritance Structure of Specializer Metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-spec-readers">29.1.8.2. Introspection</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#eql-specializer-object">29.1.8.2.1. Function <code class="function">CLOS:EQL-SPECIALIZER-OBJECT</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-spec-init">29.1.8.3. Initialization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#intern-eql-specializer">29.1.8.3.1. Function <code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-chap.html#mop-spec-dep">29.1.8.4. Updating Dependencies</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#specializer-direct-methods">29.1.8.4.1. Generic Function <code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#specializer-direct-gfs">29.1.8.4.2. Generic Function <code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#add-direct-method">29.1.8.4.3. Generic Function <code class="function">CLOS:ADD-DIRECT-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-direct-method">29.1.8.4.4. Generic Function <code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-specializers-inheritance"></a>29.1.8.1. Inheritance Structure of Specializer Metaobject Classes</h4></div></div></div><div class="figure"><a id="mop-specializers-inheritance-fig"></a><p class="title"><b>Figure 29.6. Inheritance structure of specializer metaobject classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-specializer.png" width="100%" alt="Inheritance structure of specializer metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-spec-readers"></a>29.1.8.2. Introspection</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#eql-specializer-object">29.1.8.2.1. Function <code class="function">CLOS:EQL-SPECIALIZER-OBJECT</code></a></span></dt></dl></div>
<!--begin specializer basic introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="eql-specializer-object"></a>29.1.8.2.1. Function <a href="mop-chap.html#eql-specializer-object" title="29.1.8.2.1. Function CLOS:EQL-SPECIALIZER-OBJECT"><code class="function">CLOS:EQL-SPECIALIZER-OBJECT</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#eql-specializer-object" title="29.1.8.2.1. Function CLOS:EQL-SPECIALIZER-OBJECT"><code class="function">CLOS:EQL-SPECIALIZER-OBJECT</code></a>
    <em class="replaceable"><code>eql-specializer</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>eql-specializer</code></em></span></dt><dd>an <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializer metaobject.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this function is an object.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This function returns the object associated with
   <em class="replaceable"><code>eql-specializer</code></em> during initialization.
   The value is guaranteed to be <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> to the value originally passed
   to <a href="mop-chap.html#intern-eql-specializer" title="29.1.8.3.1. Function CLOS:INTERN-EQL-SPECIALIZER"><code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a>, but it is not necessarily <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><code class="function">EQ</code></a> to that
   value.</p><p>This function <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if
   <em class="replaceable"><code>eql-specializer</code></em> is not an <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a>
   specializer.</p></dd></dl></div></div>
<!--eql-specializer-object-->
<!--end specializer basic introspection-->
</div>
<!--mop-spec-readers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-spec-init"></a>29.1.8.3. Initialization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#intern-eql-specializer">29.1.8.3.1. Function <code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="intern-eql-specializer"></a>29.1.8.3.1. Function <a href="mop-chap.html#intern-eql-specializer" title="29.1.8.3.1. Function CLOS:INTERN-EQL-SPECIALIZER"><code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#intern-eql-specializer" title="29.1.8.3.1. Function CLOS:INTERN-EQL-SPECIALIZER"><code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a>
    <em class="replaceable"><code>object</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>object</code></em></span></dt><dd>any Lisp object.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result is the <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializer metaobject for
   <em class="replaceable"><code>object</code></em>.</dd><dt><span class="term">Purpose</span></dt><dd>This function returns the unique <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializer
   metaobject for <em class="replaceable"><code>object</code></em>, creating one if necessary.  Two calls to
   <a href="mop-chap.html#intern-eql-specializer" title="29.1.8.3.1. Function CLOS:INTERN-EQL-SPECIALIZER"><code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a> with <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> arguments will return the same
   (i.e., <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><code class="function">EQ</code></a>) value.</dd></dl></div><p><b>Remarks. </b>The result of calling <a href="mop-chap.html#eql-specializer-object" title="29.1.8.2.1. Function CLOS:EQL-SPECIALIZER-OBJECT"><code class="function">CLOS:EQL-SPECIALIZER-OBJECT</code></a> on the result of a
call to <a href="mop-chap.html#intern-eql-specializer" title="29.1.8.3.1. Function CLOS:INTERN-EQL-SPECIALIZER"><code class="function">CLOS:INTERN-EQL-SPECIALIZER</code></a> is only guaranteed to be <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> to the
original <em class="replaceable"><code>object</code></em> argument, not necessarily <a href="http://www.lisp.org/HyperSpec/Body/fun_eq.html" target="_top"><code class="function">EQ</code></a>.</p></div>
<!--intern-eql-specializer-->
</div>
<!--mop-spec-init-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-spec-dep"></a>29.1.8.4. Updating Dependencies</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#specializer-direct-methods">29.1.8.4.1. Generic Function <code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#specializer-direct-gfs">29.1.8.4.2. Generic Function <code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#add-direct-method">29.1.8.4.3. Generic Function <code class="function">CLOS:ADD-DIRECT-METHOD</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-direct-method">29.1.8.4.4. Generic Function <code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="specializer-direct-methods"></a>29.1.8.4.1. Generic Function <a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>
    <em class="replaceable"><code>specializer</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>specializer</code></em></span></dt><dd>a specializer metaobject.
   </dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result of this generic function is a possibly
   empty list of <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.</dd><dt><span class="term">Purpose</span></dt><dd>This generic function returns the possibly empty set
   of those methods, connected to generic functions, which have
   <em class="replaceable"><code>specializer</code></em> as a specializer.  The elements of this set are
   <a href="mop-chap.html#mop-method-mo">method metaobject</a>s.  This value is maintained by the generic
   functions <a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a> and <a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>.
</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#specializer-direct-gfs" title="29.1.8.4.2. Generic Function CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS"><code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EQL-SPECIALIZER</code></a>))</code></span></span></dt><dd>No behavior is specified for this
   method beyond that which is specified for the generic function.</dd></dl></div></div>
<!--specializer-direct-methods-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="specializer-direct-gfs"></a>29.1.8.4.2. Generic Function <a href="mop-chap.html#specializer-direct-gfs" title="29.1.8.4.2. Generic Function CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS"><code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#specializer-direct-gfs" title="29.1.8.4.2. Generic Function CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS"><code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a>
    <em class="replaceable"><code>specializer</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>specializer</code></em></span></dt><dd>a specializer metaobject.
   </dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result of this generic function is a possibly
   empty list of <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s.</dd><dt><span class="term">Purpose</span></dt><dd>This generic function returns the possibly empty set
   of those generic functions which have a method with <em class="replaceable"><code>specializer</code></em>
   as a specializer.  The elements of this set are <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s.  This value
   is maintained by the generic functions <a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a> and
   <a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>.</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#specializer-direct-gfs" title="29.1.8.4.2. Generic Function CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS"><code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>
      (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#specializer-direct-gfs" title="29.1.8.4.2. Generic Function CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS"><code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EQL-SPECIALIZER</code></a>))</code></span></span></dt><dd>No behavior is specified for this
   method beyond that which is specified for the generic function.</dd></dl></div></div>
<!--specializer-direct-gfs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="add-direct-method"></a>29.1.8.4.3. Generic Function <a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a>
     <em class="replaceable"><code>specializer</code></em> <em class="replaceable"><code>method</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>specializer</code></em></span></dt><dd>a specializer metaobject.
   </dd><dt><span class="term"><em class="replaceable"><code>method</code></em></span></dt><dd>a <a href="mop-chap.html#mop-method-mo">method metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to maintain a set of
   backpointers from a specializer to the set of methods specialized to
   it.  If <em class="replaceable"><code>method</code></em> is already in the set, it is not added again (no
   <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed).</p><p>This set can be accessed as a list by calling the generic
   function <a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>.  Methods are removed from the
   set by <a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>.</p><p>The generic function <a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a> is called by
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a> whenever a method is added to a generic function.  It is
   called once for each of the specializers of the method.  Note that in
   cases where a specializer appears more than once in the specializers
   of a method, this generic function will be called more than once with
   the same specializer as argument.</p><p>The results are undefined if the <em class="replaceable"><code>specializer</code></em> argument
   is not one of the specializers of the <em class="replaceable"><code>method</code></em> argument.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>))</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function for class specializers.</p><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>)</code></span></li><li><span class="method"><code class="literal">
       <a href="mop-chap.html#specializer-direct-gfs" title="29.1.8.4.2. Generic Function CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS"><code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div><p>
</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EQL-SPECIALIZER</code></a>)
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>))</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function for <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializers.</p><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p></dd></dl></div></div>
<!--add-direct-method-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="remove-direct-method"></a>29.1.8.4.4. Generic Function <a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a> <em class="replaceable"><code>specializer</code></em>
    <em class="replaceable"><code>method</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>specializer</code></em></span></dt><dd>a specializer metaobject.
   </dd><dt><span class="term"><em class="replaceable"><code>method</code></em></span></dt><dd>a <a href="mop-chap.html#mop-method-mo">method metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to maintain a set of
   backpointers from a specializer to the set of methods specialized to
   it.  If <em class="replaceable"><code>method</code></em> is in the set it is removed.  If it is not, no
   <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>This set can be accessed as a list by calling the generic
   function <a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>.  Methods are added to the set
   by <a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a>.</p><p>The generic function <a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a> is called by
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a> whenever a method is removed from a generic function.
   It is called once for each of the specializers of the method.  Note
   that in cases where a specializer appears more than once in the
   specializers of a method, this generic function will be called more
   than once with the same specializer as argument.</p><p>The results are undefined if the <em class="replaceable"><code>specializer</code></em> argument is
   not one of the specializers of the <em class="replaceable"><code>method</code></em> argument.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>))</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function for class specializers.</p><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-direct-method" title="29.1.8.4.3. Generic Function CLOS:ADD-DIRECT-METHOD"><code class="function">CLOS:ADD-DIRECT-METHOD</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#specializer-direct-gfs" title="29.1.8.4.2. Generic Function CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS"><code class="function">CLOS:SPECIALIZER-DIRECT-GENERIC-FUNCTIONS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#specializer-direct-methods" title="29.1.8.4.1. Generic Function CLOS:SPECIALIZER-DIRECT-METHODS"><code class="function">CLOS:SPECIALIZER-DIRECT-METHODS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#remove-direct-method" title="29.1.8.4.4. Generic Function CLOS:REMOVE-DIRECT-METHOD"><code class="function">CLOS:REMOVE-DIRECT-METHOD</code></a>
   (<em class="replaceable"><code>specializer</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:EQL-SPECIALIZER</code></a>)
   (<em class="replaceable"><code>method</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a>))</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function for <a href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a> specializers.</p><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p></dd></dl></div></div>
<!--remove-direct-method-->
</div>
<!--mop-spec-dep-->
</div>
<!--mop-specializers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-meth-comb"></a>29.1.9. Method Combinations</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-meth-comb-inheritance">29.1.9.1. Inheritance Structure of method combination metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-meth-comb-customize">29.1.9.2. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#find-method-combination">29.1.9.2.1. Generic Function <code class="function">CLOS:FIND-METHOD-COMBINATION</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-meth-comb-inheritance"></a>29.1.9.1. Inheritance Structure of <a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a> Classes</h4></div></div></div><div class="figure"><a id="mop-meth-comb-inheritance-fig"></a><p class="title"><b>Figure 29.7. Inheritance structure of method combination metaobject classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-methcomb.png" width="100%" alt="Inheritance structure of method combination metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-meth-comb-customize"></a>29.1.9.2. Customization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#find-method-combination">29.1.9.2.1. Generic Function <code class="function">CLOS:FIND-METHOD-COMBINATION</code></a></span></dt></dl></div>
<!--begin method-combination advanced customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="find-method-combination"></a>29.1.9.2.1. Generic Function <a href="mop-chap.html#find-method-combination" title="29.1.9.2.1. Generic Function CLOS:FIND-METHOD-COMBINATION"><code class="function">CLOS:FIND-METHOD-COMBINATION</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#find-method-combination" title="29.1.9.2.1. Generic Function CLOS:FIND-METHOD-COMBINATION"><code class="function">CLOS:FIND-METHOD-COMBINATION</code></a> <em class="replaceable"><code>generic-function</code></em>
    <em class="replaceable"><code>method-combination-type-name</code></em>
    <em class="replaceable"><code>method-combination-options</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>generic-function</code></em></span></dt><dd>a <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>method-combination-type-name</code></em></span></dt><dd>a symbol which names a type of method combination.
   </dd><dt><span class="term"><em class="replaceable"><code>method-combination-options</code></em></span></dt><dd>a list of arguments to the method combination type.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is a
   <a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd>This generic function is called to determine the
   method combination object used by a generic function.
</dd></dl></div><p><b>Remarks. </b>Further details of <a href="mop-chap.html#mop-meth-comp-mo">method combination metaobject</a>s are not specified.
</p></div>
<!--find-method-combination-->
<!--end method-combination advanced customization-->
</div>
<!--mop-meth-comb-customize-->
</div>
<!--mop-meth-comb-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-slot-access"></a>29.1.10. Slot Access</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-sa-instance-stuct">29.1.10.1. Instance Structure Protocol</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-sa-funcallable">29.1.10.2. Funcallable Instances</a></span></dt><dt><span class="section"><a href="mop-chap.html#mop-sa-customize">29.1.10.3. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#standard-instance-access">29.1.10.3.1. Function <code class="function">CLOS:STANDARD-INSTANCE-ACCESS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#funcallable-standard-instance-access">29.1.10.3.2. Function <code class="function">CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#set-fif">29.1.10.3.3. Function <code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-value-UC">29.1.10.3.4. Generic Function <code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#setf-slot-value-UC">29.1.10.3.5. Generic Function <code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-boundp-UC">29.1.10.3.6. Generic Function <code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-makunbound-UC">29.1.10.3.7. Generic Function <code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-sa-instance-stuct"></a>29.1.10.1. Instance Structure Protocol</h4></div></div></div><p>The instance structure protocol is responsible for implementing
the behavior of the slot access functions like <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a> and
<code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a>)</code>.</p><p>For each <a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> slot access function other than <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-exists-p.html" target="_top"><code class="function">SLOT-EXISTS-P</code></a>,
there is a corresponding generic function which actually provides the
behavior of the function.  When called, the slot access function finds
the pertinent <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>, calls the corresponding generic function and
returns its result.  The arguments passed on to the generic function
include one additional value, the class of the <em class="replaceable"><code>object</code></em> argument,
which always immediately precedes the <em class="replaceable"><code>object</code></em> argument.</p><div class="table"><a id="mop-sa-instance-stuct-table"></a><p class="title"><b>Table 29.6. The correspondence between slot access function and
  underlying slot access generic function</b></p><div class="table-contents"><table summary="The correspondence between slot access function and&#10;  underlying slot access generic function" border="1"><colgroup><col /><col /></colgroup><thead><tr><th align="center">Slot Access Function</th><th align="center">Corresponding
    Slot Access Generic Function</th></tr></thead><tbody><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot-name</code></em></td><td align="center"><a href="mop-chap.html#slot-value-UC" title="29.1.10.3.4. Generic Function CLOS:SLOT-VALUE-USING-CLASS"><code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em></td></tr><tr><td align="center"><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a>)</code> <em class="replaceable"><code>new-value</code></em> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot-name</code></em></td><td align="center"><a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a> <em class="replaceable"><code>new-value</code></em> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em></td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/fun_slot-boundp.html" target="_top"><code class="function">SLOT-BOUNDP</code></a> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot-name</code></em></td><td align="center"><a href="mop-chap.html#slot-boundp-UC" title="29.1.10.3.6. Generic Function CLOS:SLOT-BOUNDP-USING-CLASS"><code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em></td></tr><tr><td align="center"><a href="http://www.lisp.org/HyperSpec/Body/fun_slot-makunbound.html" target="_top"><code class="function">SLOT-MAKUNBOUND</code></a> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot-name</code></em></td><td align="center"><a href="mop-chap.html#slot-makunbound-UC" title="29.1.10.3.7. Generic Function CLOS:SLOT-MAKUNBOUND-USING-CLASS"><code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em></td></tr></tbody></table></div></div><br class="table-break" /><p>At the lowest level, the instance structure protocol provides only
limited mechanisms for portable programs to control the implementation
of instances and to directly access the storage associated with
instances without going through the indirection of slot access.  This is
done to allow portable programs to perform certain commonly requested
slot access optimizations.</p><p>In particular, portable programs can control the implementation
of, and obtain direct access to, slots with allocation <code class="constant">:INSTANCE</code> and
type <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>.  These are called <strong class="first"><em class="firstterm">directly accessible
slots</em></strong>.</p><p>The relevant specified around-method on <a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> determines
the implementation of instances by deciding how each slot in the
instance will be stored.  For each directly accessible slot, this method
allocates a <strong class="first"><em class="firstterm">location</em></strong> and associates it with the
<a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.  The location can be accessed by calling the <a href="mop-chap.html#slotdef-location" title="29.1.4.2.4.1. Generic Function CLOS:SLOT-DEFINITION-LOCATION"><code class="function">CLOS:SLOT-DEFINITION-LOCATION</code></a>
generic function.  Locations are non-negative integers.  For a given
class, the locations increase consecutively, in the order that the
directly accessible slots appear in the list of effective slots.  (Note
that here, the next paragraph, and the specification of this
around-method are the only places where the value returned by
<a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> is described as a list rather than a set.)</p><p>Given the location of a directly accessible slot, the value of
that slot in an instance can be accessed with the appropriate accessor.
For <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>, this accessor is the function
<a href="mop-chap.html#standard-instance-access" title="29.1.10.3.1. Function CLOS:STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:STANDARD-INSTANCE-ACCESS</code></a>.  For <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>, this
accessor is the function <a href="mop-chap.html#funcallable-standard-instance-access" title="29.1.10.3.2. Function CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS</code></a>.
In each case, the arguments to the accessor are the instance and the
slot location, in that order.  See the definition of each accessor for
additional restrictions on the use of these function.</p><p>Portable programs are permitted to affect and rely on the
allocation of locations only in the following limited way: By first
defining a portable primary method on <a href="mop-chap.html#compute-slots" title="29.1.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> which orders the
returned value in a predictable way, and then relying on the defined
behavior of the specified around-method to assign locations to all
directly accessible slots.  Portable programs may compile-in calls to
low-level accessors which take advantage of the resulting predictable
allocation of slot locations.</p><div class="informalexample"><p>This example shows the use of this mechanism to implement a new
<a href="mop-chap.html#mop-class-mo">class metaobject</a> class, <code class="classname">ordered-class</code> and class
option <code class="constant">:SLOT-ORDER</code>.  This option provides control
over the allocation of slot locations.  In this simple example
implementation, the <code class="constant">:SLOT-ORDER</code> option is not
inherited by subclasses; it controls only instances of the class
itself.
</p><pre class="programlisting">
(defclass ordered-class (standard-class)
  ((slot-order :initform ()
               :initarg :slot-order
               :reader class-slot-order)))

(defmethod compute-slots ((class ordered-class))
  (let ((order (class-slot-order class)))
    (sort (copy-list (call-next-method))
          #'(lambda (a b)
              (&lt; (position (slot-definition-name a) order)
                 (position (slot-definition-name a) order))))))
</pre><p>

Following is the source code the user of this extension would write.
Note that because the code above does not implement inheritance of
the <code class="constant">:SLOT-ORDER</code> option, the function
<code class="function">distance</code> must not be called on instances of
subclasses of <code class="classname">point</code>; it can only be called on
instances of <code class="classname">point</code> itself.

</p><pre class="programlisting">
(defclass point ()
  ((x :initform 0)
   (y :initform 0))
  (:metaclass ordered-class)
  (:slot-order x y))

(defun distance (point)
  (sqrt (/ (+ (expt (standard-instance-access point 0) 2)
              (expt (standard-instance-access point 1) 2))
           2.0)))
</pre><p>

</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>You cannot assume that the slot-location
  values start at 0.  In class <code class="classname">point</code>, for
  example, <em class="replaceable"><code>x</code></em> and <em class="replaceable"><code>y</code></em> will be at slot locations 1 and 2, not 0 and
  1.</p></div><p>

In more realistic uses of this mechanism, the calls to the low-level
instance structure accessors would not actually appear textually in the
source program, but rather would be generated by a meta-level analysis
program run during the process of compiling the source program.
</p></div></div>
<!--mop-sa-instance-stuct-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-sa-funcallable"></a>29.1.10.2. Funcallable Instances</h4></div></div></div><p>Instances of classes which are themselves instances of
<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> or one of its subclasses are called
<strong class="first"><em class="firstterm">funcallable instances</em></strong>.
Funcallable instances can only be created by
<span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
 (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)</code></span>.</p><p>Like standard instances, funcallable instances have slots with the
normal behavior.  They differ from standard instances in that they can
be used as functions as well; that is, they can be passed to <a href="http://www.lisp.org/HyperSpec/Body/fun_funcall.html" target="_top"><code class="function">FUNCALL</code></a>
and <a href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a>, and they can be stored as the definition of a function
name.  Associated with each funcallable instance is the function which
it runs when it is called.  This function can be changed with
<a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a>.</p><div class="informalexample"><p>The following simple example shows the use of funcallable
instances to create a simple, <a href="http://www.lisp.org/HyperSpec/Body/mac_defstruct.html" target="_top"><code class="function">DEFSTRUCT</code></a>-like facility.  (Funcallable
instances are useful when a program needs to construct and maintain a
set of functions and information about those functions.  They make it
possible to maintain both as the same object rather than two separate
objects linked, for example, by hash tables.)

</p><pre class="programlisting">
(defclass constructor ()
  ((name :initarg :name :accessor constructor-name)
   (fields :initarg :fields :accessor constructor-fields))
  (:metaclass funcallable-standard-class))
⇒ <code class="computeroutput">#&gt;FUNCALLABLE-STANDARD-CLASS CONSTRUCTOR&gt;</code>
(defmethod initialize-instance :after ((c constructor) <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>)
  (with-slots (name fields) c
    (set-funcallable-instance-function
      c
      #'(lambda ()
          (let ((new (make-array (1+ (length fields)))))
            (setf (aref new 0) name)
            new)))))
⇒ <code class="computeroutput">#&lt;STANDARD-METHOD :AFTER (#&lt;FUNCALLABLE-STANDARD-CLASS CONSTRUCTOR&gt;)&gt;</code>
(setq c1 (make-instance 'constructor :name 'position :fields '(x y)))
⇒ <code class="computeroutput">#&lt;CONSTRUCTOR #&lt;UNBOUND&gt;&gt;</code>
(setq p1 (funcall c1))
⇒ <code class="computeroutput">#(POSITION NIL NIL)</code>
</pre></div></div>
<!--mop-sa-funcallable-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-sa-customize"></a>29.1.10.3. Customization</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#standard-instance-access">29.1.10.3.1. Function <code class="function">CLOS:STANDARD-INSTANCE-ACCESS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#funcallable-standard-instance-access">29.1.10.3.2. Function <code class="function">CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#set-fif">29.1.10.3.3. Function <code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-value-UC">29.1.10.3.4. Generic Function <code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#setf-slot-value-UC">29.1.10.3.5. Generic Function <code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-boundp-UC">29.1.10.3.6. Generic Function <code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#slot-makunbound-UC">29.1.10.3.7. Generic Function <code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a></span></dt></dl></div>
<!--begin slot access basic customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="standard-instance-access"></a>29.1.10.3.1. Function <a href="mop-chap.html#standard-instance-access" title="29.1.10.3.1. Function CLOS:STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:STANDARD-INSTANCE-ACCESS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#standard-instance-access" title="29.1.10.3.1. Function CLOS:STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:STANDARD-INSTANCE-ACCESS</code></a>
    <em class="replaceable"><code>instance</code></em> <em class="replaceable"><code>location</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>instance</code></em></span></dt><dd>an object</dd><dt><span class="term"><em class="replaceable"><code>location</code></em></span></dt><dd>a slot location</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result of this function is an object.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This function is called to provide direct access to
   a slot in an instance.  By usurping the normal slot lookup protocol,
   this function is intended to provide highly optimized access to the
   slots associated with an instance.</p><p>The following restrictions apply to the use of this function:
   </p><div class="itemizedlist"><ul type="disc"><li>The <em class="replaceable"><code>instance</code></em> argument must be a
      standard instance (it must have been returned by
      <span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>(<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>)</code></span>).
    </li><li>The <em class="replaceable"><code>instance</code></em> argument cannot be an
      non-updated obsolete instance.</li><li>The <em class="replaceable"><code>location</code></em> argument must be a location of
      one of the directly accessible slots of the instance's class.
    </li><li>The slot must be bound.
  </li></ul></div><p>The results are undefined if any of
 these restrictions are violated.</p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The second and third restrictions do not
  apply in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>.  <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>'s implementation supports non-updated
  obsolete instances and also supports slots with allocation <code class="constant">:CLASS</code>.
</p></div></div>
<!--standard-instance-access-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="funcallable-standard-instance-access"></a>29.1.10.3.2. Function <a href="mop-chap.html#funcallable-standard-instance-access" title="29.1.10.3.2. Function CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#funcallable-standard-instance-access" title="29.1.10.3.2. Function CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS</code></a>
    <em class="replaceable"><code>instance</code></em> <em class="replaceable"><code>location</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>instance</code></em></span></dt><dd>an object</dd><dt><span class="term"><em class="replaceable"><code>location</code></em></span></dt><dd>a slot location</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The result of this function is an object.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This function is called to provide direct access to
   a slot in an instance.  By usurping the normal slot lookup protocol,
   this function is intended to provide highly optimized access to the
   slots associated with an instance.</p><p>The following restrictions apply to the use of this function:
   </p><div class="itemizedlist"><ul type="disc"><li>The <em class="replaceable"><code>instance</code></em> argument must be a
      funcallable instance (it must have been returned by
      <span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)</code></span>).</li><li>The <em class="replaceable"><code>instance</code></em> argument cannot be an
      non-updated obsolete instance.</li><li>The <em class="replaceable"><code>location</code></em> argument must be a location of
      one of the directly accessible slots of the instance's class.
    </li><li>The slot must be bound.
  </li></ul></div><p>The results are undefined if any of
 these restrictions are violated.</p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span><strong class="command">CLISP</strong></span></h3><p>The second and third restrictions do not
  apply in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>.  <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>'s implementation supports non-updated
  obsolete instances and also supports slots with allocation <code class="constant">:CLASS</code>.
</p></div></div>
<!--funcallable-standard-instance-access-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="set-fif"></a>29.1.10.3.3. Function <a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a>
    <em class="replaceable"><code>funcallable-instance</code></em> <em class="replaceable"><code>function</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>funcallable-instance</code></em></span></dt><dd>a funcallable instance (it must have been returned by
      <span class="method"><code class="literal"><a href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)</code></span>).
   </dd><dt><span class="term"><em class="replaceable"><code>function</code></em></span></dt><dd>a function.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd>This function is called to set or to change the
   function of a funcallable instance.  After
   <a href="mop-chap.html#set-fif" title="29.1.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a> is called, any subsequent calls
   to <em class="replaceable"><code>funcallable-instance</code></em> will run the new
   function.</dd></dl></div></div>
<!--set-fif-->
<!--end slot access basic customization-->
<!--begin slot access advanced customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="slot-value-UC"></a>29.1.10.3.4. Generic Function <a href="mop-chap.html#slot-value-UC" title="29.1.10.3.4. Generic Function CLOS:SLOT-VALUE-USING-CLASS"><code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#slot-value-UC" title="29.1.10.3.4. Generic Function CLOS:SLOT-VALUE-USING-CLASS"><code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em>
    <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> - the class of the
      <em class="replaceable"><code>object</code></em> argument</dd><dt><span class="term"><em class="replaceable"><code>object</code></em></span></dt><dd>an object</dd><dt><span class="term"><em class="replaceable"><code>slot</code></em></span></dt><dd>an <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a></dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic function is an object.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function implements the behavior of the
   <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a> function.  It is called by <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a> with the class
   of <em class="replaceable"><code>object</code></em> as its first argument and the pertinent <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> as its
   third argument.</p><p>The generic function <a href="mop-chap.html#slot-value-UC" title="29.1.10.3.4. Generic Function CLOS:SLOT-VALUE-USING-CLASS"><code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a> returns the value
   contained in the given slot of the given object.  If the slot is
   unbound, <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_slot-unbound.html" target="_top"><code class="function">SLOT-UNBOUND</code></a> is called.</p><p>The results are undefined if
 the <em class="replaceable"><code>class</code></em> argument is not the class of the <em class="replaceable"><code>object</code></em> argument, or
 if the <em class="replaceable"><code>slot</code></em> argument does not appear among the set of effective
 slots associated with the <em class="replaceable"><code>class</code></em> argument.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-value-UC" title="29.1.10.3.4. Generic Function CLOS:SLOT-VALUE-USING-CLASS"><code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-value-UC" title="29.1.10.3.4. Generic Function CLOS:SLOT-VALUE-USING-CLASS"><code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span></span></dt><dd><p>These methods implement
 the full behavior of this generic function for slots with allocation
 <code class="constant">:INSTANCE</code> and <code class="constant">:CLASS</code>.  If the supplied slot has an allocation
 other than <code class="constant">:INSTANCE</code> or <code class="constant">:CLASS</code> an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>Overriding these methods is permitted,
 but may require overriding other methods in the standard implementation
 of the slot access protocol.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-value-UC" title="29.1.10.3.4. Generic Function CLOS:SLOT-VALUE-USING-CLASS"><code class="function">CLOS:SLOT-VALUE-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>) <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em>)</code></span></span></dt><dd>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
</dd></dl></div></div>
<!--slot-value-UC-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="setf-slot-value-UC"></a>29.1.10.3.5. Generic Function <a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a> <em class="replaceable"><code>new-value</code></em> <em class="replaceable"><code>class</code></em>
    <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>new-value</code></em></span></dt><dd>an object</dd><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> - the class of the
      <em class="replaceable"><code>object</code></em> argument.</dd><dt><span class="term"><em class="replaceable"><code>object</code></em></span></dt><dd>an object</dd><dt><span class="term"><em class="replaceable"><code>slot</code></em></span></dt><dd>an <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns the <em class="replaceable"><code>new-value</code></em> argument.
</dd><dt><span class="term">Purpose</span></dt><dd><p>The generic function <a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a> implements
   the behavior of the <code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a>)</code> function. It is called by
   <code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-value.html" target="_top"><code class="function">SLOT-VALUE</code></a>)</code> with the class of <em class="replaceable"><code>object</code></em> as its second argument
   and the pertinent <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> as its fourth argument.</p><p>The generic function <a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a> sets the value
   contained in the given slot of the given object to the given new
   value; any previous value is lost.</p><p>The results are undefined if
 the <em class="replaceable"><code>class</code></em> argument is not the class of the <em class="replaceable"><code>object</code></em> argument, or
 if the <em class="replaceable"><code>slot</code></em> argument does not appear among the set of effective
 slots associated with the <em class="replaceable"><code>class</code></em> argument.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a>
   <em class="replaceable"><code>new-value</code></em> (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a>
   <em class="replaceable"><code>new-value</code></em> (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span></span></dt><dd><p>These methods implement
 the full behavior of this generic function for slots with allocation
 <code class="constant">:INSTANCE</code> and <code class="constant">:CLASS</code>.  If the supplied slot has an allocation
 other than <code class="constant">:INSTANCE</code> or <code class="constant">:CLASS</code> an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>Overriding these methods is permitted,
 but may require overriding other methods in the standard implementation
 of the slot access protocol.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#setf-slot-value-UC" title="29.1.10.3.5. Generic Function (SETF CLOS:SLOT-VALUE-USING-CLASS)"><code class="code">(SETF CLOS:SLOT-VALUE-USING-CLASS)</code></a>
   <em class="replaceable"><code>new-value</code></em> (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>) <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em>)</code></span></span></dt><dd>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
</dd></dl></div></div>
<!--setf-slot-value-UC-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="slot-boundp-UC"></a>29.1.10.3.6. Generic Function <a href="mop-chap.html#slot-boundp-UC" title="29.1.10.3.6. Generic Function CLOS:SLOT-BOUNDP-USING-CLASS"><code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#slot-boundp-UC" title="29.1.10.3.6. Generic Function CLOS:SLOT-BOUNDP-USING-CLASS"><code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>object</code></em>
    <em class="replaceable"><code>slot</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> - the class of the
      <em class="replaceable"><code>object</code></em> argument.</dd><dt><span class="term"><em class="replaceable"><code>object</code></em></span></dt><dd>an object</dd><dt><span class="term"><em class="replaceable"><code>slot</code></em></span></dt><dd> an <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns true or false.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function implements the behavior of the
   <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-boundp.html" target="_top"><code class="function">SLOT-BOUNDP</code></a> function.  It is called by <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-boundp.html" target="_top"><code class="function">SLOT-BOUNDP</code></a> with the class
   of <em class="replaceable"><code>object</code></em> as its first argument and the pertinent <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> as its
   third argument.</p><p>The generic function <a href="mop-chap.html#slot-boundp-UC" title="29.1.10.3.6. Generic Function CLOS:SLOT-BOUNDP-USING-CLASS"><code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a> tests whether a
   specific slot in an instance is bound.</p><p>The results are undefined if
 the <em class="replaceable"><code>class</code></em> argument is not the class of the <em class="replaceable"><code>object</code></em> argument, or
 if the <em class="replaceable"><code>slot</code></em> argument does not appear among the set of effective
 slots associated with the <em class="replaceable"><code>class</code></em> argument.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-boundp-UC" title="29.1.10.3.6. Generic Function CLOS:SLOT-BOUNDP-USING-CLASS"><code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-boundp-UC" title="29.1.10.3.6. Generic Function CLOS:SLOT-BOUNDP-USING-CLASS"><code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span></span></dt><dd><p>These methods implement
 the full behavior of this generic function for slots with allocation
 <code class="constant">:INSTANCE</code> and <code class="constant">:CLASS</code>.  If the supplied slot has an allocation
 other than <code class="constant">:INSTANCE</code> or <code class="constant">:CLASS</code> an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>Overriding these methods is permitted,
 but may require overriding other methods in the standard implementation
 of the slot access protocol.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-boundp-UC" title="29.1.10.3.6. Generic Function CLOS:SLOT-BOUNDP-USING-CLASS"><code class="function">CLOS:SLOT-BOUNDP-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>) <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em>)</code></span></span></dt><dd>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</dd></dl></div><p><b>Remarks. </b>In cases where the <a href="mop-chap.html#mop-class-mo">class metaobject</a> class does not distinguish
unbound slots, true should be returned.</p></div>
<!--slot-boundp-UC-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="slot-makunbound-UC"></a>29.1.10.3.7. Generic Function <a href="mop-chap.html#slot-makunbound-UC" title="29.1.10.3.7. Generic Function CLOS:SLOT-MAKUNBOUND-USING-CLASS"><code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#slot-makunbound-UC" title="29.1.10.3.7. Generic Function CLOS:SLOT-MAKUNBOUND-USING-CLASS"><code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>object</code></em>
    <em class="replaceable"><code>slot</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a href="mop-chap.html#mop-class-mo">class metaobject</a> - the class of the
      <em class="replaceable"><code>object</code></em> argument.</dd><dt><span class="term"><em class="replaceable"><code>object</code></em></span></dt><dd>an object</dd><dt><span class="term"><em class="replaceable"><code>slot</code></em></span></dt><dd>an <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>This generic function returns its <em class="replaceable"><code>object</code></em> argument.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function implements the behavior of the
   <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-makunbound.html" target="_top"><code class="function">SLOT-MAKUNBOUND</code></a> function.  It is called by <a href="http://www.lisp.org/HyperSpec/Body/fun_slot-makunbound.html" target="_top"><code class="function">SLOT-MAKUNBOUND</code></a> with
   the class of <em class="replaceable"><code>object</code></em> as its first argument and the pertinent
   <a href="mop-chap.html#mop-esd-mo">effective</a> <a href="mop-chap.html#mop-slot-def-mo">slot definition metaobject</a> as its third argument.</p><p>The generic function <a href="mop-chap.html#slot-makunbound-UC" title="29.1.10.3.7. Generic Function CLOS:SLOT-MAKUNBOUND-USING-CLASS"><code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a> restores a slot in
   an object to its unbound state.  The interpretation
   of “<span class="quote">restoring a slot to its unbound state</span>” depends on
   the <a href="mop-chap.html#mop-class-mo">class metaobject</a> class.</p><p>The results are undefined if
 the <em class="replaceable"><code>class</code></em> argument is not the class of the <em class="replaceable"><code>object</code></em> argument, or
 if the <em class="replaceable"><code>slot</code></em> argument does not appear among the set of effective
 slots associated with the <em class="replaceable"><code>class</code></em> argument.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-makunbound-UC" title="29.1.10.3.7. Generic Function CLOS:SLOT-MAKUNBOUND-USING-CLASS"><code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-makunbound-UC" title="29.1.10.3.7. Generic Function CLOS:SLOT-MAKUNBOUND-USING-CLASS"><code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>object</code></em>
   (<em class="replaceable"><code>slot</code></em> <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>))</code></span></span></dt><dd><p>These methods implement
 the full behavior of this generic function for slots with allocation
 <code class="constant">:INSTANCE</code> and <code class="constant">:CLASS</code>.  If the supplied slot has an allocation
 other than <code class="constant">:INSTANCE</code> or <code class="constant">:CLASS</code> an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>Overriding these methods is permitted,
 but may require overriding other methods in the standard implementation
 of the slot access protocol.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#slot-makunbound-UC" title="29.1.10.3.7. Generic Function CLOS:SLOT-MAKUNBOUND-USING-CLASS"><code class="function">CLOS:SLOT-MAKUNBOUND-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>) <em class="replaceable"><code>object</code></em> <em class="replaceable"><code>slot</code></em>)</code></span></span></dt><dd>This method <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
</dd></dl></div></div>
<!--slot-makunbound-UC-->
<!--end slot access advanced customization-->
</div>
<!--mop-sa-customize-->
</div>
<!--mop-slot-access-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-dep-maint"></a>29.1.11. Dependent Maintenance</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#mop-dep-maint-protocol">29.1.11.1. Protocol</a></span></dt><dd><dl><dt><span class="section"><a href="mop-chap.html#update-dependent">29.1.11.1.1. Generic Function <code class="function">CLOS:UPDATE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#add-dependent">29.1.11.1.2. Generic Function <code class="function">CLOS:ADD-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-dependent">29.1.11.1.3. Generic Function <code class="function">CLOS:REMOVE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#map-dependents">29.1.11.1.4. Generic Function <code class="function">CLOS:MAP-DEPENDENTS</code></a></span></dt></dl></dd></dl></div><p>It is convenient for portable metaobjects to be able to memoize
information about other metaobjects, portable or otherwise.  Because
class and <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s can be reinitialized, and <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s can be modified by
adding and removing methods, a means must be provided to update this
memoized information.</p><p>The dependent maintenance protocol supports this by providing a
way to register an object which should be notified whenever a class or
generic function is modified.  An object which has been registered this
way is called a <strong class="first"><em class="firstterm">dependent</em></strong> of the class or <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.
The dependents of class and <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>s are maintained with <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
and <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>.  The dependents of a class or <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> can be
accessed with <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>.  Dependents are notified about a
modification by calling <a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a>.  (See the specification of
<a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> for detailed description of the circumstances under
which it is called.)</p><p>To prevent conflicts between two portable programs, or between
portable programs and the implementation, portable code must not
register metaobjects themselves as dependents. Instead, portable
programs which need to record a metaobject as a dependent, should
encapsulate that metaobject in some other kind of object, and record
that object as the dependent.  The results are undefined if this
restriction is violated.</p><div class="informalexample"><p>This example shows a general facility for encapsulating
metaobjects before recording them as dependents.  The facility defines a
basic kind of encapsulating object: an updater.  Specializations of the
basic class can be defined with appropriate special updating behavior.
In this way, information about the updating required is associated with
each updater rather than with the metaobject being updated.</p><p>Updaters are used to encapsulate any metaobject which requires
updating when a given class or generic function is modified.  The
function <code class="function">record-updater</code> is called to both create an
updater and add it to the dependents of the class or generic function.
Methods on the generic function <a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a>, specialized to the
specific class of updater do the appropriate update work.</p><pre class="programlisting">
(defclass updater ()
  ((dependent :initarg :dependent :reader dependent)))

(defun record-updater (class dependee dependent <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> initargs)
  (let ((updater (apply #'make-instance class :dependent dependent
                                              initargs)))
    (add-dependent dependee updater)
    updater))
</pre><p>A <code class="function">flush-cache-updater</code> simply flushes the
cache of the dependent when it is updated.</p><pre class="programlisting">
(defclass flush-cache-updater (updater) ())

(defmethod update-dependent (dependee (updater flush-cache-updater)
                             <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> args)
  (declare (ignore args))
  (flush-cache (dependent updater)))
</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-dep-maint-protocol"></a>29.1.11.1. Protocol</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-chap.html#update-dependent">29.1.11.1.1. Generic Function <code class="function">CLOS:UPDATE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#add-dependent">29.1.11.1.2. Generic Function <code class="function">CLOS:ADD-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#remove-dependent">29.1.11.1.3. Generic Function <code class="function">CLOS:REMOVE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-chap.html#map-dependents">29.1.11.1.4. Generic Function <code class="function">CLOS:MAP-DEPENDENTS</code></a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="update-dependent"></a>29.1.11.1.1. Generic Function <a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> <em class="replaceable"><code>metaobject</code></em>
    <em class="replaceable"><code>dependent</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a> - the metaobject being
      reinitialized or otherwise modified.</dd><dt><span class="term"><em class="replaceable"><code>dependent</code></em></span></dt><dd>an object - the dependent being updated.
   </dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>a list of the initialization arguments for
      the metaobject redefinition.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to update a
   dependent of <em class="replaceable"><code>metaobject</code></em>.</p><p>When a class or a generic function is reinitialized each of
   its dependents is updated.  The <em class="replaceable"><code>initargs</code></em> argument to
   <a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> is the set of initialization arguments received by
   <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.</p><p>When a method is added to a generic function, each of the
   generic function's dependents is updated.  The <em class="replaceable"><code>initargs</code></em> argument
   is a list of two elements: the symbol <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a>, and the method
   that was added.</p><p>When a method is removed from a generic function, each of the
   generic function's dependents is updated.  The <em class="replaceable"><code>initargs</code></em> argument
   is a list of two elements: the symbol <a href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>, and the method
   that was removed.</p><p>In each case, <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> is used to call
   <a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> on each of the dependents.  So, for example, the
   update of a generic function's dependents when a method is added
   could be performed by the following code:</p><pre class="programlisting">
  (<a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> <em class="replaceable"><code>generic-function</code></em>
                  #'(lambda (dep)
                      (<a href="mop-chap.html#update-dependent" title="29.1.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> <em class="replaceable"><code>generic-function</code></em>
                                        dep
                                        'add-method
                                        new-method)))
</pre></dd></dl></div><p><b>Remarks. </b>See <a href="mop-chap.html#mop-dep-maint" title="29.1.11. Dependent Maintenance">Section 29.1.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--update-dependent-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="add-dependent"></a>29.1.11.1.2. Generic Function <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> <em class="replaceable"><code>metaobject</code></em>
    <em class="replaceable"><code>dependent</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a></dd><dt><span class="term"><em class="replaceable"><code>dependent</code></em></span></dt><dd>an object</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function adds <em class="replaceable"><code>dependent</code></em> to the
   dependents of <em class="replaceable"><code>metaobject</code></em>.  If <em class="replaceable"><code>dependent</code></em> is already in the set
   of dependents it is not added again (no <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed).</p><p>The generic function <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> can be called to access
   the set of dependents of a class or generic function.  The generic
   function <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> can be called to remove an object from
   the set of dependents of a class or generic function.  The effect of
   calling <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> or <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> while a call to
   <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> on the same class or generic function is in progress
   is unspecified.</p><p>The situations in which <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> is called are not
   specified.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd></dl></div><p><b>Remarks. </b>See <a href="mop-chap.html#mop-dep-maint" title="29.1.11. Dependent Maintenance">Section 29.1.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--add-dependent-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="remove-dependent"></a>29.1.11.1.3. Generic Function <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> <em class="replaceable"><code>metaobject</code></em>
     <em class="replaceable"><code>dependent</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a></dd><dt><span class="term"><em class="replaceable"><code>dependent</code></em></span></dt><dd>an object</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function removes <em class="replaceable"><code>dependent</code></em> from the
   dependents of <em class="replaceable"><code>metaobject</code></em>.  If <em class="replaceable"><code>dependent</code></em> is not one of the
   dependents of <em class="replaceable"><code>metaobject</code></em>, no <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>The generic function <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> can be called to access
   the set of dependents of a class or generic function.  The generic
   function <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> can be called to add an object from the set
   of dependents of a class or generic function.  The effect of calling
   <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> or <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> while a call to
   <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> on the same class or generic function is in progress
   is unspecified.</p><p> The situations in which <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> is called are not
   specified.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd></dl></div><p><b>Remarks. </b>See <a href="mop-chap.html#mop-dep-maint" title="29.1.11. Dependent Maintenance">Section 29.1.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--remove-dependent-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="map-dependents"></a>29.1.11.1.4. Generic Function <a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a></h5></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> <em class="replaceable"><code>metaobject</code></em>
    <em class="replaceable"><code>function</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a href="mop-chap.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>function</code></em></span></dt><dd>a function which accepts one argument.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The value returned by this generic
 function is unspecified.</dd><dt><span class="term">Purpose</span></dt><dd>This generic function applies <em class="replaceable"><code>function</code></em> to each of
   the dependents of <em class="replaceable"><code>metaobject</code></em>.  The order in which the dependents
   are processed is not specified, but <em class="replaceable"><code>function</code></em> is applied to each
   dependent once and only once.  If, during the mapping,
   <a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> or <a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> is called to alter the
   dependents of <em class="replaceable"><code>metaobject</code></em>, it is not specified whether the newly
   added or removed dependent will have <em class="replaceable"><code>function</code></em> applied to it.
</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
   (<em class="replaceable"><code>metaobject</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>function</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
   (<em class="replaceable"><code>metaobject</code></em> <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>function</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a href="mop-chap.html#map-dependents" title="29.1.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
   (<em class="replaceable"><code>metaobject</code></em> <a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>function</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a href="mop-chap.html#add-dependent" title="29.1.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a href="mop-chap.html#remove-dependent" title="29.1.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd></dl></div><p><b>Remarks. </b>See <a href="mop-chap.html#mop-dep-maint" title="29.1.11. Dependent Maintenance">Section 29.1.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--map-dependents-->
</div>
<!--mop-dep-maint-protocol-->
</div>
<!--mop-dep-maint-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-clisp"></a>29.1.12. Deviations from [<a href="references.html#amop"><abbr class="abbrev">AMOP</abbr></a>]</h3></div></div></div><p>This section lists the differences between the [<a href="references.html#amop"><abbr class="abbrev">AMOP</abbr></a>] and the
<a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> implementation thereof.</p><div class="itemizedlist"><a id="mop-not-in-clisp"></a><p class="title"><b>Not implemented in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a></b></p><ul type="disc"><li><p>The generic function <a href="mop-chap.html#make-method-lambda" title="29.1.5.4.10. Generic Function CLOS:MAKE-METHOD-LAMBDA"><code class="function">CLOS:MAKE-METHOD-LAMBDA</code></a> is not implemented.
  See <a href="mop-chap.html#mop-gf-invocation" title="29.1.5.3.2. Generic Function Invocation Protocol">Section 29.1.5.3.2, “Generic Function Invocation Protocol”</a>.</p></li></ul></div><div class="itemizedlist"><a id="mop-clisp-different"></a><p class="title"><b>Features implemented differently in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a></b></p><ul type="disc"><li><p>The class precedence list of <a href="mop-chap.html#mop-sa-funcallable" title="29.1.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-OBJECT</code></a>
  is different. See <a href="mop-chap.html#mop-mo-cl-inheritance" title="29.1.2.2. Inheritance Structure of Metaobject Classes">Section 29.1.2.2, “Inheritance Structure of Metaobject Classes”</a>.</p></li><li><p>The <a href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro passes default values to <a href="mop-chap.html#ensure-class" title="29.1.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.
  See <a href="mop-chap.html#mop-cl-defclass" title="29.1.3.1. Macro DEFCLASS">Section 29.1.3.1, “Macro <code class="function">DEFCLASS</code>”</a>.</p></li><li><p>The <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> macro passes default values to <a href="mop-chap.html#ensure-gf" title="29.1.5.4.2. Generic Function ENSURE-GENERIC-FUNCTION"><code class="function">ENSURE-GENERIC-FUNCTION</code></a>.
  See <a href="mop-chap.html#mop-gf-init-defgeneric" title="29.1.5.3.1. Macro DEFGENERIC">Section 29.1.5.3.1, “Macro <code class="function">DEFGENERIC</code>”</a>.</p></li><li><p>The class <a href="mop-chap.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> is implemented differently.
  See <a href="mop-chap.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP">Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span><strong class="command">CLISP</strong></span></a>.</p></li><li><p>The function <a href="mop-chap.html#gf-argument-precedence-order" title="29.1.5.2.4. Generic Function CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER"><code class="function">CLOS:GENERIC-FUNCTION-ARGUMENT-PRECEDENCE-ORDER</code></a> <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>
  if the generic function has no <a href="lalist.html" title="3.4. Lambda Lists [CLHS-3.4]">lambda list</a>.</p></li></ul></div><div class="itemizedlist"><a id="mop-clisp-ext"></a><p class="title"><b>Extensions specific to <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a></b></p><ul type="disc"><li><p>The <a href="mop-chap.html" title="29.1. Meta-Object Protocol">Meta-Object Protocol</a> is applicable to classes of type <a href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><code class="classname">STRUCTURE-CLASS</code></a>.
  The default superclass for <a href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><code class="classname">STRUCTURE-CLASS</code></a> instances is <a href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><code class="classname">STRUCTURE-OBJECT</code></a>.
  Structure classes do not support multiple inheritance and reinitialization.
  See <a href="mop-chap.html#mop-cl-init-mo" title="29.1.3.5.1. Initialization of class metaobjects">Section 29.1.3.5.1, “Initialization of class metaobjects”</a>.</p></li><li><p>The <a href="http://www.lisp.org/HyperSpec/Body/mac_defgeneric.html" target="_top"><code class="function">DEFGENERIC</code></a> macro supports user-defined options.
  See <a href="mop-chap.html#mop-defgeneric-user-options" title="User-defined options">User-defined options</a>.</p></li><li><p>The class <a href="http://www.lisp.org/HyperSpec/Body/syscla_method.html" target="_top"><code class="classname">METHOD</code></a> is subclassable.
  See <a href="mop-chap.html#mop-mo-cl-inheritance" title="29.1.2.2. Inheritance Structure of Metaobject Classes">Section 29.1.2.2, “Inheritance Structure of Metaobject Classes”</a>.</p></li><li><p>Slot names like <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a> are allowed.
  See <a href="mop-chap.html#slotdef-name" title="29.1.4.2.1.1. Generic Function CLOS:SLOT-DEFINITION-NAME">Section 29.1.4.2.1.1, “Generic Function <code class="function">CLOS:SLOT-DEFINITION-NAME</code>”</a>.</p></li><li><p>The <a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> method is more permissive by
  default and does not need to be overridden in
  some “<span class="quote">obvious</span>” cases.
  See <a href="mop-chap.html#validate-superclass" title="29.1.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS">Section 29.1.3.6.7, “Generic Function <code class="function">CLOS:VALIDATE-SUPERCLASS</code>”</a>.</p></li><li><p>New generic function <a href="mop-chap.html#compute-dsd-initargs" title="29.1.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a>.  It can sometimes
  be used when overriding <a href="mop-chap.html#dsd-class" title="29.1.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> is cumbersome.</p></li><li><p>New generic function <a href="mop-chap.html#compute-esd-initargs" title="29.1.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a>. It can sometimes
  be used when overriding <a href="mop-chap.html#esd-class" title="29.1.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> is cumbersome.</p></li><li><p>New function <a href="mop-chap.html#compute-effective-method-as-function" title="29.1.5.4.9. Function CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION"><code class="function">CLOS:COMPUTE-EFFECTIVE-METHOD-AS-FUNCTION</code></a>. It
  can be used in overriding methods of <a href="mop-chap.html#compute-discriminating-function" title="29.1.5.4.11. Generic Function CLOS:COMPUTE-DISCRIMINATING-FUNCTION"><code class="function">CLOS:COMPUTE-DISCRIMINATING-FUNCTION</code></a>.
</p></li><li><p>The generic function <a href="mop-chap.html#ensure-gf-UC" title="29.1.5.4.3. Generic Function CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS"><code class="function">CLOS:ENSURE-GENERIC-FUNCTION-USING-CLASS</code></a> accepts a
  <code class="constant">:DECLARE</code> keyword.</p></li><li><p>The functions <a href="mop-chap.html#funcallable-standard-instance-access" title="29.1.10.3.2. Function CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:FUNCALLABLE-STANDARD-INSTANCE-ACCESS</code></a> and
  <a href="mop-chap.html#standard-instance-access" title="29.1.10.3.1. Function CLOS:STANDARD-INSTANCE-ACCESS"><code class="function">CLOS:STANDARD-INSTANCE-ACCESS</code></a> support non-updated obsolete instances and
  also support slots with allocation <code class="constant">:CLASS</code>.</p></li><li><p>The existence of the <a href="mop-chap.html#class-direct-subclasses" title="29.1.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a> function
  does not prevent otherwise unreferenced classes from being <a href="gc.html" class="olink">garbage-collect</a>ed.
</p></li></ul></div></div>
<!--mop-clisp-->
</div><div class="bookinfo"><hr width="100%" /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version 2.41</td><td align="right">Last modified: 2006-10-12</td></th></table></div><div class="custom-footer"><hr width="100%" /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://sourceforge.net/donate/index.php?group_id=1355"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="[Support This Project]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=mop-chap" /></a></td></tr></table></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ext-standard.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ext-standard.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="gray.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 29. Standard Widely Portable Extensions </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 29.2. Gray streams</td></tr></table></div></body></html>
