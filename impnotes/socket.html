<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Extensions-2.6. Socket Streams</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REV="MADE"
HREF="mailto:clisp-list@sf.net"><LINK
REL="HOME"
TITLE="Implementation Notes for GNU CLISP."
HREF="impnotes-top.html"><LINK
REL="UP"
TITLE="Extensions-2: Platform specific Extensions"
HREF="platform.html"><LINK
REL="PREVIOUS"
TITLE="Extensions-2.5. ARexx"
HREF="rexx.html"><LINK
REL="NEXT"
TITLE="Extensions-2.7. System Calls"
HREF="syscalls.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="impnotes.css"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Implementation Notes for <A
HREF="http://www.gnu.org"
TARGET="_top"
>GNU</A
> <A
HREF="http://clisp.cons.org"
TARGET="_top"
><B
CLASS="command"
>CLISP</B
></A
>.: These notes document <A
HREF="http://clisp.cons.org"
TARGET="_top"
><B
CLASS="command"
>CLISP</B
></A
> version 2.30.</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="rexx.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 30. Extensions-2: Platform specific Extensions</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="syscalls.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="socket">30.6. Extensions-2.6. Socket Streams</H1
><FONT
COLOR="RED"
>Platform dependent: <A
HREF="http://www.UNIX-systems.org/online.html"
TARGET="_top"
><B
CLASS="emphasis"
>UNIX</B
></A
>, <A
HREF="http://www.willows.com/"
TARGET="_top"
><B
CLASS="emphasis"
>Win32</B
></A
> platforms only.</FONT
><P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><A
NAME="sose"><TT
CLASS="sexp"
>(<A
HREF="socket.html#sose"
><TT
CLASS="function"
>SOCKET:SOCKET-SERVER</TT
></A
> <A
HREF="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html"
TARGET="_top"
><TT
CLASS="literal"
>&#38;OPTIONAL</TT
></A
>
                 [<TT
CLASS="replaceable"
><I
>port-or-socket</I
></TT
>])</TT
></DT
><DD
><P
ALIGN="justify"
>This function creates a socket, binds a port to the
   socket, and then listens for connect attempts.  The server exists to
   watch for client connect attempts.  The optional argument is either a
   port (positive <A
HREF="http://www.lisp.org/HyperSpec/Body/typ_fixnum.html"
TARGET="_top"
><TT
CLASS="classname"
>FIXNUM</TT
></A
>) or a <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
> (from whose peer the
   connections will be made).
  </P
></DD
><DT
><A
NAME="sose-close"><TT
CLASS="sexp"
>(<A
HREF="socket.html#sose-close"
><TT
CLASS="function"
>SOCKET:SOCKET-SERVER-CLOSE</TT
></A
>
                 <TT
CLASS="replaceable"
><I
>socket-server</I
></TT
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Closes down the server socket.
  </P
></DD
><DT
><A
NAME="sose-port"><TT
CLASS="sexp"
>(<A
HREF="socket.html#sose-port"
><TT
CLASS="function"
>SOCKET:SOCKET-SERVER-PORT</TT
></A
>
                 <TT
CLASS="replaceable"
><I
>socket-server</I
></TT
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Returns the port which was bound using
   <A
HREF="socket.html#sose"
><TT
CLASS="function"
>SOCKET:SOCKET-SERVER</TT
></A
>.</P
></DD
><DT
><A
NAME="so-wait"><TT
CLASS="sexp"
>(<A
HREF="socket.html#so-wait"
><TT
CLASS="function"
>SOCKET:SOCKET-WAIT</TT
></A
> <TT
CLASS="replaceable"
><I
>socket-server</I
></TT
>
                 <A
HREF="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html"
TARGET="_top"
><TT
CLASS="literal"
>&#38;OPTIONAL</TT
></A
> <A
HREF="socket.html#timeout-opt"
>[<TT
CLASS="replaceable"
><I
>seconds</I
></TT
> [<TT
CLASS="replaceable"
><I
>microseconds</I
></TT
>]]</A
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Wait for a fixed time for a connection
   on the <TT
CLASS="replaceable"
><I
>socket-server</I
></TT
> (a <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-SERVER</TT
></A
>).
   Without a timeout argument, <A
HREF="socket.html#so-wait"
><TT
CLASS="function"
>SOCKET:SOCKET-WAIT</TT
></A
> blocks indefinitely.
   When timeout is zero, poll.</P
></DD
><DT
><A
NAME="so-accept"><TT
CLASS="sexp"
>(<A
HREF="socket.html#so-accept"
><TT
CLASS="function"
>SOCKET:SOCKET-ACCEPT</TT
></A
>
                 <TT
CLASS="replaceable"
><I
>socket-server</I
></TT
> <A
HREF="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html"
TARGET="_top"
><TT
CLASS="literal"
>&#38;KEY</TT
></A
> <A
HREF="stream-dict.html#eltype"
><TT
CLASS="constant"
>:ELEMENT-TYPE</TT
></A
> <A
HREF="stream-dict.html#extfmt"
><TT
CLASS="constant"
>:EXTERNAL-FORMAT</TT
></A
> <A
HREF="stream-dict.html#buffered"
><TT
CLASS="constant"
>:BUFFERED</TT
></A
>
                 <A
HREF="socket.html#timeout-k"
><TT
CLASS="constant"
>seconds</TT
></A
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Creates the server-side two-way
   stream for the connection.
   Waits for an attempt to connect to the server for no more than
   <A
HREF="socket.html#timeout-k"
><TT
CLASS="constant"
>seconds</TT
></A
> seconds (which may be a non-negative real number or a
   list <TT
CLASS="sexp"
>(sec usec)</TT
> or a pair
   <TT
CLASS="sexp"
>(sec . usec)</TT
>).
   Signals an <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_error.html"
TARGET="_top"
><TT
CLASS="function"
>ERROR</TT
></A
> if no connection is made in that time.
  </P
></DD
><DT
><A
NAME="so-connect"><TT
CLASS="sexp"
>(<A
HREF="socket.html#so-connect"
><TT
CLASS="function"
>SOCKET:SOCKET-CONNECT</TT
></A
>
    <TT
CLASS="replaceable"
><I
>port</I
></TT
> <A
HREF="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html"
TARGET="_top"
><TT
CLASS="literal"
>&#38;OPTIONAL</TT
></A
> [<TT
CLASS="replaceable"
><I
>host</I
></TT
>] <A
HREF="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html"
TARGET="_top"
><TT
CLASS="literal"
>&#38;KEY</TT
></A
>
    <A
HREF="stream-dict.html#eltype"
><TT
CLASS="constant"
>:ELEMENT-TYPE</TT
></A
> <A
HREF="stream-dict.html#extfmt"
><TT
CLASS="constant"
>:EXTERNAL-FORMAT</TT
></A
> <A
HREF="stream-dict.html#buffered"
><TT
CLASS="constant"
>:BUFFERED</TT
></A
> <A
HREF="socket.html#timeout-k"
><TT
CLASS="constant"
>seconds</TT
></A
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Attempts to create a client-side two-way
   <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
>.  Blocks until the server accepts the connection, for
   no more than <A
HREF="socket.html#timeout-k"
><TT
CLASS="constant"
>seconds</TT
></A
> seconds.  If it is 0, returns immediately
   and (probably) blocks on the next i/o operation (you can use
   <A
HREF="socket.html#so-status"
><TT
CLASS="function"
>SOCKET:SOCKET-STATUS</TT
></A
> to check whether it will actually block).
  </P
></DD
><DT
><A
NAME="so-status"><TT
CLASS="sexp"
>(<A
HREF="socket.html#so-status"
><TT
CLASS="function"
>SOCKET:SOCKET-STATUS</TT
></A
>
                 <TT
CLASS="replaceable"
><I
>socket-stream-or-list</I
></TT
>
                 <A
HREF="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html"
TARGET="_top"
><TT
CLASS="literal"
>&#38;OPTIONAL</TT
></A
> <A
HREF="socket.html#timeout-opt"
>[<TT
CLASS="replaceable"
><I
>seconds</I
></TT
> [<TT
CLASS="replaceable"
><I
>microseconds</I
></TT
>]]</A
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Checks whether it is possible to read from or write
   to a <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
> or whether a connection is available on a
   <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-SERVER</TT
></A
> without blocking.
   (For the cognoscenti: this is the interface to <A
HREF="http://www.opengroup.org/onlinepubs/007904975/functions/select.html"
TARGET="_top"
><TT
CLASS="function"
>select</TT
></A
>).
   This is similar to <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_listen.html"
TARGET="_top"
><TT
CLASS="function"
>LISTEN</TT
></A
>, which checks only one stream and only for
   input, and <A
HREF="socket.html#so-wait"
><TT
CLASS="function"
>SOCKET:SOCKET-WAIT</TT
></A
>, which works only with <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-SERVER</TT
></A
>s.</P
><P
></P
><DIV
CLASS="variablelist"
><P
><B
>Possible values of
       <TT
CLASS="replaceable"
><I
>socket-stream-or-list</I
></TT
></B
></P
><DL
><DT
><A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
> or <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-SERVER</TT
></A
></DT
><DD
><P
ALIGN="justify"
>Returns <A
HREF="http://www.lisp.org/HyperSpec/Body/convar_t.html"
TARGET="_top"
><TT
CLASS="constant"
>T</TT
></A
> if a connection on the
      <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-SERVER</TT
></A
> is available; or <TT
CLASS="constant"
>:INPUT</TT
>, <TT
CLASS="constant"
>:OUTPUT</TT
> or <TT
CLASS="constant"
>:IO</TT
>
      if some input/output is possible on the <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
>
     </P
></DD
><DT
><TT
CLASS="sexp"
>(<A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
>
       . <TT
CLASS="replaceable"
><I
>direction</I
></TT
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Return the appropriate keyword (<TT
CLASS="constant"
>:INPUT</TT
>,
      <TT
CLASS="constant"
>:OUTPUT</TT
> or <TT
CLASS="constant"
>:IO</TT
>) if some input/output is possible on the
      <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
> in the specified <TT
CLASS="replaceable"
><I
>direction</I
></TT
>
      (which should be one of <TT
CLASS="constant"
>:INPUT</TT
>, <TT
CLASS="constant"
>:OUTPUT</TT
> or <TT
CLASS="constant"
>:IO</TT
>).
     </P
></DD
><DT
>a list of the above</DT
><DD
><P
ALIGN="justify"
>Return a list of values, one for each element of the
      argument list (a la <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_mapccm_ma_istcm_mapcon.html"
TARGET="_top"
><TT
CLASS="function"
>MAPCAR</TT
></A
>)</P
></DD
></DL
></DIV
><P
ALIGN="justify"
>The optional arguments specify the timeout. <A
HREF="http://www.lisp.org/HyperSpec/Body/convar_nil.html"
TARGET="_top"
><TT
CLASS="constant"
>NIL</TT
></A
> means wait
   forever, <TT
CLASS="literal"
>0</TT
> means poll.  Note that this function
   never waits for input or output to arrive, only for information on
   input or output presense (so that <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_read-char.html"
TARGET="_top"
><TT
CLASS="function"
>READ-CHAR</TT
></A
> or <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_write-char.html"
TARGET="_top"
><TT
CLASS="function"
>WRITE-CHAR</TT
></A
> will
   not block) to become available (or a connection to become
   possible).</P
><P
ALIGN="justify"
>For each <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
> this function returns</P
><P
></P
><DIV
CLASS="variablelist"
><P
><B
>Return values of <A
HREF="socket.html#so-status"
><TT
CLASS="function"
>SOCKET:SOCKET-STATUS</TT
></A
></B
></P
><DL
><DT
><A
HREF="http://www.lisp.org/HyperSpec/Body/convar_nil.html"
TARGET="_top"
><TT
CLASS="constant"
>NIL</TT
></A
></DT
><DD
><P
ALIGN="justify"
>when no information is available or no operation
      is possible</P
></DD
><DT
><TT
CLASS="constant"
>:ERROR</TT
></DT
><DD
><P
ALIGN="justify"
>when an i/o operation will cause an error
     </P
></DD
><DT
><TT
CLASS="constant"
>:INPUT</TT
></DT
><DD
><P
ALIGN="justify"
>when you can only read from the stream
     </P
></DD
><DT
><TT
CLASS="constant"
>:OUTPUT</TT
></DT
><DD
><P
ALIGN="justify"
>when you can only write to the stream
     </P
></DD
><DT
><TT
CLASS="constant"
>:IO</TT
></DT
><DD
><P
ALIGN="justify"
>when you can both read from and write to the stream
     </P
></DD
></DL
></DIV
></DD
><DT
><A
NAME="sost-hopo"><TT
CLASS="sexp"
>(<A
HREF="socket.html#sost-hopo"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-HOST</TT
></A
> <TT
CLASS="replaceable"
><I
>socket-stream</I
></TT
>)</TT
><BR><TT
CLASS="sexp"
>(<A
HREF="socket.html#sost-hopo"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-PORT</TT
></A
> <TT
CLASS="replaceable"
><I
>socket-stream</I
></TT
>)</TT
></DT
><DD
><P
ALIGN="justify"
>These two functions return information about the
   <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
>.  For a server, <A
HREF="socket.html#sost-hopo"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-HOST</TT
></A
> returns <A
HREF="http://www.lisp.org/HyperSpec/Body/convar_nil.html"
TARGET="_top"
><TT
CLASS="constant"
>NIL</TT
></A
>.
  </P
></DD
><DT
><A
NAME="service-port"><TT
CLASS="sexp"
>(<A
HREF="socket.html#service-port"
><TT
CLASS="function"
>SOCKET:SOCKET-SERVICE-PORT</TT
></A
>
                 <A
HREF="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html"
TARGET="_top"
><TT
CLASS="literal"
>&#38;OPTIONAL</TT
></A
> <TT
CLASS="replaceable"
><I
>service-name</I
></TT
>
                 (<TT
CLASS="replaceable"
><I
>protocol</I
></TT
> "tcp"))</TT
></DT
><DD
><P
ALIGN="justify"
>A convenience function for looking up a port given
   the service name.  It returns the servent struct as multiple values
   (name, list of aliases, port, protocol) for the given
   <TT
CLASS="replaceable"
><I
>service-name</I
></TT
> and
   <TT
CLASS="replaceable"
><I
>protocol</I
></TT
>, or all services as the list of
   vectors of <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_length.html"
TARGET="_top"
><TT
CLASS="function"
>LENGTH</TT
></A
> 4, if <TT
CLASS="replaceable"
><I
>service-name</I
></TT
> is
   not given or is <TT
CLASS="constant"
>:DEFAULT</TT
> or <A
HREF="http://www.lisp.org/HyperSpec/Body/convar_nil.html"
TARGET="_top"
><TT
CLASS="constant"
>NIL</TT
></A
>.
  </P
></DD
><DT
><A
NAME="sost-peer"><TT
CLASS="sexp"
>(<A
HREF="socket.html#sost-peer"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-PEER</TT
></A
>
    <TT
CLASS="replaceable"
><I
>socket-stream</I
></TT
> [<TT
CLASS="replaceable"
><I
>do-not-resolve-p</I
></TT
>])</TT
></DT
><DD
><P
ALIGN="justify"
>Given a socket stream, this function returns the
   name of the host on the opposite side of the connection and its port
   number; the server-side can use this to see who connected.</P
><P
ALIGN="justify"
>When the optional second argument is non-<A
HREF="http://www.lisp.org/HyperSpec/Body/convar_nil.html"
TARGET="_top"
><TT
CLASS="constant"
>NIL</TT
></A
>, the hostname
   resolution is disabled and just the IP address is returned, without
   the <SPAN
CLASS="acronym"
>FQDN</SPAN
> (Fully Qualified Domain Name).
   </P
></DD
><DT
><A
NAME="sost-local"><TT
CLASS="sexp"
>(<A
HREF="socket.html#sost-local"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-LOCAL</TT
></A
>
    <TT
CLASS="replaceable"
><I
>socket-stream</I
></TT
> [<TT
CLASS="replaceable"
><I
>do-not-resolve-p</I
></TT
>])</TT
></DT
><DD
><P
ALIGN="justify"
>The dual to <A
HREF="socket.html#sost-peer"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-PEER</TT
></A
> - same information,
   host name and port number, but for the local host.
   The difference from <A
HREF="socket.html#sost-hopo"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-HOST</TT
></A
> and <A
HREF="socket.html#sost-hopo"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-PORT</TT
></A
> is that this function
   asks the OS (and thus returns the correct trusted values) while the
   other two are just accessors to the internal data structure, and
   basically return the arguments given to the function which created
   the <TT
CLASS="replaceable"
><I
>socket-stream</I
></TT
>.</P
></DD
><DT
><A
NAME="sost-shut"><TT
CLASS="sexp"
>(<A
HREF="socket.html#sost-shut"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-SHUTDOWN</TT
></A
>
    <TT
CLASS="replaceable"
><I
>socket-stream</I
></TT
> <TT
CLASS="replaceable"
><I
>direction</I
></TT
>)</TT
></DT
><DD
><P
ALIGN="justify"
>Some Internet protocols, such as HTTP, provide for
   closing the connection in one direction using <A
HREF="http://www.opengroup.org/onlinepubs/007904975/functions/shutdown.html"
TARGET="_top"
><TT
CLASS="function"
>shutdown</TT
></A
>.
   This function provides an interface to this <A
HREF="http://www.UNIX-systems.org/online.html"
TARGET="_top"
><B
CLASS="emphasis"
>UNIX</B
></A
> system call.
   <TT
CLASS="replaceable"
><I
>direction</I
></TT
> can be <TT
CLASS="constant"
>:INPUT</TT
> or <TT
CLASS="constant"
>:OUTPUT</TT
>.
   Note that you should still call <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_close.html"
TARGET="_top"
><TT
CLASS="function"
>CLOSE</TT
></A
> after you are done with your
   <TT
CLASS="replaceable"
><I
>socket-stream</I
></TT
>; this is best accomplished by using <A
HREF="http://www.lisp.org/HyperSpec/Body/mac_with-open-stream.html"
TARGET="_top"
><TT
CLASS="function"
>WITH-OPEN-STREAM</TT
></A
>.</P
><P
ALIGN="justify"
>All <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
>s are <TT
CLASS="constant"
>:IO</TT
> streams (i.e., both
   <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_input-str_put-stream-p.html"
TARGET="_top"
><TT
CLASS="function"
>INPUT-STREAM-P</TT
></A
> and <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_input-str_put-stream-p.html"
TARGET="_top"
><TT
CLASS="function"
>OUTPUT-STREAM-P</TT
></A
> return <A
HREF="http://www.lisp.org/HyperSpec/Body/convar_t.html"
TARGET="_top"
><TT
CLASS="constant"
>T</TT
></A
> for them).
   <A
HREF="socket.html#sost-shut"
><TT
CLASS="function"
>SOCKET:SOCKET-STREAM-SHUTDOWN</TT
></A
> <I
CLASS="emphasis"
>breaks</I
> this:
   the invariant is that whenever
   <P
></P
><UL
><LI
><P
ALIGN="justify"
>a stream is open
    (i.e., <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_open-stream-p.html"
TARGET="_top"
><TT
CLASS="function"
>OPEN-STREAM-P</TT
></A
> returns <A
HREF="http://www.lisp.org/HyperSpec/Body/convar_t.html"
TARGET="_top"
><TT
CLASS="constant"
>T</TT
></A
>) and</P
></LI
><LI
><P
ALIGN="justify"
>a stream is an <TT
CLASS="constant"
>:INPUT</TT
> stream
    (i.e., <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_input-str_put-stream-p.html"
TARGET="_top"
><TT
CLASS="function"
>INPUT-STREAM-P</TT
></A
> returns <A
HREF="http://www.lisp.org/HyperSpec/Body/convar_t.html"
TARGET="_top"
><TT
CLASS="constant"
>T</TT
></A
>)</P
></LI
></UL
>
   the stream can be read from (e.g., with <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_read-char.html"
TARGET="_top"
><TT
CLASS="function"
>READ-CHAR</TT
></A
> or <A
HREF="http://www.lisp.org/HyperSpec/Body/fun_read-byte.html"
TARGET="_top"
><TT
CLASS="function"
>READ-BYTE</TT
></A
>).
   This is not the case for a <A
HREF="socket.html"
><TT
CLASS="classname"
>SOCKET:SOCKET-STREAM</TT
></A
> which was shut down in
   the <TT
CLASS="constant"
>:INPUT</TT
> direction: it is still open (for output) but it cannot
   be read from.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="rexx.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="impnotes-top.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="syscalls.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Extensions-2.5. ARexx</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="platform.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Extensions-2.7. System Calls</TD
></TR
></TABLE
></DIV
><div
class="custom-footer"
><hr
width="100%"><table
width="100%"
><tr
><td
align="left"
><a
href="http://clisp.cons.org"
><img
src="clisp.png"
width="48"
height="48"
alt="[CLISP home]"></a
></td
><td
align="center"
><a
href="http://www.gnu.org"
><img
src="http://www.gnu.org/graphics/gnubanner.jpg"
width="468"
height="60"
alt="[Come and see what GNU creates for YOU]"></a
></td
><td
align="right"
><a
href="http://sourceforge.net"
><img
src="http://sourceforge.net/sflogo.php?group_id=1355&amp;type=2"
width="125"
height="37"
alt="[SourceForge]"></a
></td
></tr
></table
></div
></BODY
></HTML
>