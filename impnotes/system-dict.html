<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>24.1. The System Construction Dictionary [CLHS-24.2]</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@lists.sourceforge.net" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot_2006-10-11_0449" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP" /><link rel="up" href="system.html" title="Chapter 24. System Construction [CLHS-24]" /><link rel="prev" href="system.html" title="Chapter 24. System Construction [CLHS-24]" /><link rel="next" href="environment.html" title="Chapter 25. Environment [CLHS-25]" /><link rel="copyright" href="ln-legalese.html" title="Legal Status of the CLISP Implementation Notes" /><meta name="date" content="'generated: 2006-10-13 00:03:08-04:00'" /><link rel="author" title="Authors" href="index.html#authors" /><link rel="contents" title="Table of Contents" href="index.html" /><link rel="glossary" href="glossary.html" /><link rel="help" href="faq.html#faq-help" title="How do I ask for help?" /><link rel="home" title="Home" href="http://clisp.cons.org" /><link rel="index" href="idx.html" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">24.1. The System Construction Dictionary
   [CLHS-24.2]</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="system.html">Prev</a> </td><th width="60%" align="center">Chapter 24. System Construction
   [CLHS-24]</th><td width="20%" align="right"> <a accesskey="n" href="environment.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="system-dict"></a>24.1. The System Construction Dictionary
   <a href="http://www.lisp.org/HyperSpec/Body/sec_the_syste_n_dictionary.html" target="_top">[CLHS-24.2]</a></h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="system-dict.html#compilefile">24.1.1. Function <code class="function">COMPILE-FILE</code></a></span></dt><dt><span class="section"><a href="system-dict.html#compile-file-path">24.1.2. Function <code class="function">COMPILE-FILE-PATHNAME</code></a></span></dt><dt><span class="section"><a href="system-dict.html#require">24.1.3. Function <code class="function">REQUIRE</code></a></span></dt><dt><span class="section"><a href="system-dict.html#loadfile">24.1.4. Function <code class="function">LOAD</code></a></span></dt><dt><span class="section"><a href="system-dict.html#features">24.1.5. Variable <code class="varname">*FEATURES*</code></a></span></dt><dt><span class="section"><a href="system-dict.html#featurep">24.1.6. Function <code class="function">EXT:FEATUREP</code>
  [CLRFI-1]</a></span></dt><dt><span class="section"><a href="system-dict.html#compiled-file-p">24.1.7. Function
  <code class="function">EXT:COMPILED-FILE-P</code>
  [CLRFI-2]</a></span></dt></dl></div><p>The compiler can be called not only by the functions <a href="http://www.lisp.org/HyperSpec/Body/fun_compile.html" target="_top"><code class="function">COMPILE</code></a>,
 <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_disassemble.html" target="_top"><code class="function">DISASSEMBLE</code></a>, but also by the declaration
 <a href="declarations.html#compile-decl" title="3.3.3. Declaration (COMPILE)"><code class="code">(COMPILE)</code></a>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="compilefile"></a>24.1.1. Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a></h3></div></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> compiles a file to a platform-independent
 <a href="bytecode.html" class="olink">bytecode</a>:
</p><pre class="programlisting">
(<a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> <em class="replaceable"><code>filename</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:OUTPUT-FILE</code> :LISTING <a href="stream-dict.html#extfmt"><code class="constant">:EXTERNAL-FORMAT</code></a>
                            ((<code class="constant">:WARNINGS</code> <a href="system-dict.html#compilefile" title="24.1.1. Function COMPILE-FILE"><code class="varname">CUSTOM:*COMPILE-WARNINGS*</code></a>) <a href="system-dict.html#compilefile" title="24.1.1. Function COMPILE-FILE"><code class="varname">CUSTOM:*COMPILE-WARNINGS*</code></a>)
                            ((<code class="constant">:VERBOSE</code> <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><code class="varname">*COMPILE-VERBOSE*</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><code class="varname">*COMPILE-VERBOSE*</code></a>)
                            ((<code class="constant">:PRINT</code> <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><code class="varname">*COMPILE-PRINT*</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><code class="varname">*COMPILE-PRINT*</code></a>))
</pre><div class="variablelist"><a id="compile-file-arguments"></a><p class="title"><b>Options for <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a></b></p><dl><dt><span class="term"><em class="replaceable"><code>filename</code></em></span></dt><dd>the file to be compiled, should be a <a href="filename-dict.html#path-des">pathname designator</a>.
 </dd><dt><span class="term"><code class="constant">:OUTPUT-FILE</code></span></dt><dd>should be <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a> or a <a href="filename-dict.html#path-des">pathname designator</a> or an
   <a href="http://www.lisp.org/HyperSpec/Body/glo_o.html#output" target="_top">output</a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>.  The default is <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>.</dd><dt><span class="term"><code class="constant">:LISTING</code></span></dt><dd>should be <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> or <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a> or a <a href="filename-dict.html#path-des">pathname designator</a> or an
   <a href="http://www.lisp.org/HyperSpec/Body/glo_o.html#output" target="_top">output</a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>.  The default is <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</dd><dt><span class="term"><a href="stream-dict.html#extfmt"><code class="constant">:EXTERNAL-FORMAT</code></a></span></dt><dd>the <a href="encoding.html" title="30.5. Encodings"><code class="classname">EXT:ENCODING</code></a> of the <em class="replaceable"><code>filename</code></em>.
</dd><dt><span class="term"><code class="constant">:WARNINGS</code></span></dt><dd>specifies whether warnings should also appear on the
   screen.</dd><dt><span class="term"><code class="constant">:VERBOSE</code></span></dt><dd>specifies whether error messages should also appear
   on the screen.</dd><dt><span class="term"><code class="constant">:PRINT</code></span></dt><dd>specifies whether an indication which forms are
   being compiled should appear on the screen.
</dd></dl></div><p>The variables <strong class="first"><em class="firstterm"><a href="system-dict.html#compilefile" title="24.1.1. Function COMPILE-FILE"><code class="varname">CUSTOM:*COMPILE-WARNINGS*</code></a></em></strong>,
 <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><code class="varname">*COMPILE-VERBOSE*</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stcompile_le-verbosest.html" target="_top"><code class="varname">*COMPILE-PRINT*</code></a> provide defaults for the
 <code class="constant">:WARNINGS</code>, <code class="constant">:VERBOSE</code>, <code class="constant">:PRINT</code> keyword arguments, respectively,
 and are bound by <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> to the values of the arguments, i.e.,
 these arguments are recursive.</p><p>For each input file (default file type: <code class="filename">#P".lisp"</code>)
 the following files are generated:
</p><div class="informaltable"><a id="compile-file-new-files-table"></a><table border="1"><colgroup><col /><col /><col /><col align="left" /></colgroup><thead><tr><th align="center">File</th><th align="center">When</th><th align="center">Default file type</th><th align="left">Contents</th></tr></thead><tbody><tr><td align="center">output file</td><td align="center">only if <code class="constant">:OUTPUT-FILE</code> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a></td><td align="center"><code class="filename">#P".fas"</code></td><td align="left">can be loaded using the <a href="system-dict.html#loadfile" class="olink"><code class="function">LOAD</code></a> function</td></tr><tr><td align="center">auxiliary output file</td><td align="center">only if <code class="constant">:OUTPUT-FILE</code> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a></td><td align="center"><a href="system-dict.html#require" title="24.1.3. Function REQUIRE"><code class="filename">#P".lib"</code></a></td><td align="left">used by <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file.html" target="_top"><code class="function">COMPILE-FILE</code></a> when compiling a <a href="system-dict.html#require" class="olink"><code class="function">REQUIRE</code></a> form referring
    to the input file</td></tr><tr><td align="center">listing file</td><td align="center">only if <code class="constant">:LISTING</code> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a></td><td align="center"><code class="filename">#P".lis"</code></td><td align="left">disassembly of the output file</td></tr><tr><td align="center"><a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><span><strong class="command">C</strong></span></a> output file</td><td align="center">only if <code class="constant">:OUTPUT-FILE</code> is not <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a></td><td align="center"><code class="filename">#P".c"</code></td><td align="left"><a href="dffi.html" title="31.3. The Foreign Function Call Facility"><strong class="package">“<span class="quote">FFI</span>”</strong></a>; this file is created only if the source contains
    <a href="dffi.html" title="31.3. The Foreign Function Call Facility"><strong class="package">“<span class="quote">FFI</span>”</strong></a> forms</td></tr></tbody></table></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="c-file-overwrite"></a>Warning</h3><p>If you have two files in the same
directory - <code class="filename">#P"foo.lisp"</code> and <code class="filename">#P"foo.c"</code>, and you
compile the first file with <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>, the second file will be
<span class="emphasis"><em>clobbered</em></span> if you have any <a href="dffi.html" title="31.3. The Foreign Function Call Facility"><strong class="package">“<span class="quote">FFI</span>”</strong></a> forms in
the first one!</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="compile-file-path"></a>24.1.2. Function <a href="http://www.lisp.org/HyperSpec/Body/fun_compile-file-pathname.html" target="_top"><code class="function">COMPILE-FILE-PATHNAME</code></a></h3></div></div></div><p>The default for the <code class="constant">:OUTPUT-FILE</code> argument is
 <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>, which means <code class="filename">#P".fas"</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="require"></a>24.1.3. Function <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><code class="function">REQUIRE</code></a></h3></div></div></div><p>The function <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><code class="function">REQUIRE</code></a> receives as the optional argument either
 a <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><code class="classname">PATHNAME</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of <a href="http://www.lisp.org/HyperSpec/Body/syscla_pathname.html" target="_top"><code class="classname">PATHNAME</code></a>s: files to be <a href="system-dict.html#loadfile" class="olink"><code class="function">LOAD</code></a>ed
 if the required module is not already present.</p><p>At compile time, <code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><code class="function">REQUIRE</code></a> <code class="filename">#P"foo"</code>)</code>
forms are treated specially: <a href="system-dict.html#load-paths"><code class="varname">CUSTOM:*LOAD-PATHS*</code></a> is searched for
<code class="filename">#P"foo.lisp"</code> <span class="strong"><strong>and</strong></span> <code class="filename">#P"foo.lib"</code>.
If the latest such file is a <code class="filename">#P".lisp"</code>, it is compiled;
otherwise the <a href="system-dict.html#require" title="24.1.3. Function REQUIRE"><code class="filename">#P".lib"</code></a> is loaded.</p><p>The <a href="system-dict.html#require" title="24.1.3. Function REQUIRE"><code class="filename">#P".lib"</code></a> is a “<span class="quote">header</span>” file which contains the
constant, variable, inline and macro definitions necessary for
compilation of the files that <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><code class="function">REQUIRE</code></a> this file, but not the function
definitions and calls that are not necessary for that.
Thus it is <span class="strong"><strong>not</strong></span> necessary to either enclose <a href="http://www.lisp.org/HyperSpec/Body/fun_providecm_require.html" target="_top"><code class="function">REQUIRE</code></a> forms in
<a href="http://www.lisp.org/HyperSpec/Body/speope_eval-when.html" target="_top"><code class="function">EVAL-WHEN</code></a> or to load the required files in the makefiles: if you have
two files, <code class="filename">#P"foo.lisp"</code> and <code class="filename">#P"bar.lisp"</code>, and the
latter requires the former, you can write in your <code class="filename">Makefile</code>:
</p><pre class="programlisting">
all: foo.fas bar.fas

foo.fas: foo.lisp
	clisp -c foo

bar.fas: bar.lisp foo.fas
	clisp -c bar
</pre><p>
instead of the more cumbersome (and slower, since <a href="system-dict.html#require" title="24.1.3. Function REQUIRE"><code class="filename">#P".lib"</code></a>s are
usually smaller and load faster that <code class="filename">#P".fas"</code>s):
</p><pre class="programlisting">
bar.fas: bar.lisp foo.fas
        clisp -i foo -c bar
</pre><p>
Thus, you do not need to <code class="code">(<a href="system-dict.html#loadfile" class="olink"><code class="function">LOAD</code></a> <code class="filename">#P"foo"</code>)</code> in order
to <code class="code">(<a href="system-dict.html#compilefile" class="olink"><code class="function">COMPILE-FILE</code></a> <code class="filename">#P"bar.lisp"</code>)</code>.
If memory is tight, and if <code class="filename">#P"foo.lisp"</code> contains only a few inline
functions, macros, constants or variables, this is a space and time
saver.  If <code class="filename">#P"foo.lisp"</code> does a lot of initializations or side effects
when being loaded, this is important as well.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="loadfile"></a>24.1.4. Function <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><code class="function">LOAD</code></a></h3></div></div></div><p><a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><code class="function">LOAD</code></a> accepts four additional keyword arguments <code class="constant">:ECHO</code>,
 <code class="constant">:COMPILING</code>, <code class="constant">:EXTRA-FILE-TYPES</code>, and <code class="constant">:OBSOLETE-ACTION</code>.</p><pre class="programlisting">
(<a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><code class="function">LOAD</code></a> <em class="replaceable"><code>filename</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> ((<code class="constant">:VERBOSE</code> <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-VERBOSE*</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-VERBOSE*</code></a>)
                    ((<code class="constant">:PRINT</code> <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-PRINT*</code></a>) <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-PRINT*</code></a>)
                    ((<code class="constant">:ECHO</code> <a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-ECHO*</code></a>) <a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-ECHO*</code></a>) <code class="constant">:IF-DOES-NOT-EXIST</code>
                    ((<code class="constant">:COMPILING</code> <a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-COMPILING*</code></a>) <a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-COMPILING*</code></a>) <code class="constant">:EXTRA-FILE-TYPES</code>
                    ((<code class="constant">:OBSOLETE-ACTION</code> <a href="system-dict.html#loadfile" title="24.1.4. Function LOAD"><code class="varname">CUSTOM:*LOAD-OBSOLETE-ACTION*</code></a>) <a href="system-dict.html#loadfile" title="24.1.4. Function LOAD"><code class="varname">CUSTOM:*LOAD-OBSOLETE-ACTION*</code></a>))
</pre><div class="variablelist"><dl><dt><span class="term"><code class="constant">:VERBOSE</code></span></dt><dd>causes <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><code class="function">LOAD</code></a> to emit a short message that a file is
    being loaded.  The default is <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-VERBOSE*</code></a>, which is initially
    <a href="http://www.lisp.org/HyperSpec/Body/convar_t.html" target="_top"><code class="constant">T</code></a>, but can be changed by the <code class="option"><a href="clisp.html#opt-verbose" class="olink">-v</a></code> option.
 </dd><dt><span class="term"><code class="constant">:PRINT</code></span></dt><dd>causes <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><code class="function">LOAD</code></a> to print the value of each form.  The
    default is <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-PRINT*</code></a>, which is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, but can be
    changed by the <code class="option"><a href="clisp.html#opt-verbose" class="olink">-v</a></code> option.</dd><dt><span class="term"><code class="constant">:ECHO</code></span></dt><dd>causes the input from the file to be echoed to
    <a href="http://www.lisp.org/HyperSpec/Body/var_stdebug-i_ace-outputst.html" target="_top"><code class="varname">*STANDARD-OUTPUT*</code></a> (normally to the screen).  Should there be an
    error in the file, you can see at one glance where it is.
    The default is <strong class="first"><em class="firstterm"><a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-ECHO*</code></a></em></strong>, which is
    initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, but can be changed by the <code class="option"><a href="clisp.html#opt-verbose" class="olink">-v</a></code> option.
 </dd><dt><span class="term"><code class="constant">:COMPILING</code></span></dt><dd>causes each form read to be compiled on the fly.
    The compiled code is executed at once and - in contrast to
    <a href="system-dict.html#compilefile" class="olink"><code class="function">COMPILE-FILE</code></a> - not written to a file.
    The default is <strong class="first"><em class="firstterm"><a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-COMPILING*</code></a></em></strong>, which is initially
    <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, but can be changed by the <code class="option"><a href="clisp.html#opt-load-comp" class="olink">-C</a></code> option.
 </dd><dt><span class="term"><code class="constant">:EXTRA-FILE-TYPES</code></span></dt><dd><p>Specifies the <a href="http://www.lisp.org/HyperSpec/Body/syscla_list.html" target="_top"><code class="classname">LIST</code></a> of additional file types
    considered for loading, in addition to <strong class="first"><em class="firstterm"><a href="system-dict.html#loadfile" title="24.1.4. Function LOAD"><code class="varname">CUSTOM:*SOURCE-FILE-TYPES*</code></a></em></strong>
    (which is initially <span class="data"><code class="literal">("lisp" "lsp" "cl")</code></span>)
    and <strong class="first"><em class="firstterm"><a href="system-dict.html#loadfile" title="24.1.4. Function LOAD"><code class="varname">CUSTOM:*COMPILED-FILE-TYPES*</code></a></em></strong>
    (which is initially <span class="data"><code class="literal">("fas")</code></span>).
   </p><p>When <em class="replaceable"><code>filename</code></em> does not specify a unique file
    (e.g., <em class="replaceable"><code>filename</code></em> is <code class="filename">#P"foo"</code> and both <code class="filename">#P"foo.lisp"</code>
    and <code class="filename">#P"foo.fas"</code> are found in the
    <a href="system-dict.html#load-paths"><code class="varname">CUSTOM:*LOAD-PATHS*</code></a>), then the <span class="emphasis"><em>newest</em></span> file is loaded.
 </p></dd><dt><span class="term"><code class="constant">:OBSOLETE-ACTION</code></span></dt><dd><p>Specifies the action to take when loading a
    <code class="filename">#P".fas"</code> with a different <a href="bytecode.html" class="olink">bytecode</a> version from the one
    supported by this <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version.  The possible actions are
    </p><div class="variablelist"><dl><dt><span class="term"><code class="constant">:DELETE</code></span></dt><dd>delete the <code class="filename">#P".fas"</code>
     </dd><dt><span class="term"><code class="constant">:ERROR</code></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a> an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>
     </dd><dt><span class="term"><code class="constant">:COMPILE</code></span></dt><dd>recompile the source file
        (if <a href="system-dict.html#load-paths">present</a>)
     </dd><dt><span class="term"><a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> (default)</span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/fun_warn.html" target="_top"><code class="function">WARN</code></a> and <a href="system-dict.html#load-paths">look
         for another matching file</a>
    </dd></dl></div><p>
    If no file can be loaded and <code class="constant">:IF-DOES-NOT-EXIST</code> is non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.
    The default is <strong class="first"><em class="firstterm"><a href="system-dict.html#loadfile" title="24.1.4. Function LOAD"><code class="varname">CUSTOM:*LOAD-OBSOLETE-ACTION*</code></a></em></strong>,
    which is initially <a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</p></dd></dl></div><p>The variables <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-VERBOSE*</code></a>, <a href="http://www.lisp.org/HyperSpec/Body/var_stload-pr_ad-verbosest.html" target="_top"><code class="varname">*LOAD-PRINT*</code></a>,
<a href="system-dict.html#loadfile" title="24.1.4. Function LOAD"><code class="varname">CUSTOM:*LOAD-OBSOLETE-ACTION*</code></a>, <a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-COMPILING*</code></a>, and <a href="system-dict.html#loadfile" class="olink"><code class="varname">CUSTOM:*LOAD-ECHO*</code></a> are bound by <a href="http://www.lisp.org/HyperSpec/Body/fun_load.html" target="_top"><code class="function">LOAD</code></a> when it
receives a corresponding keyword argument (<code class="constant">:VERBOSE</code>, <code class="constant">:PRINT</code>,
<code class="constant">:OBSOLETE-ACTION</code>, <code class="constant">:COMPILING</code>, and <code class="constant">:ECHO</code>), i.e., these arguments
are recursive, just like the arguments <code class="constant">:WARNINGS</code>, <code class="constant">:VERBOSE</code>, and
<code class="constant">:PRINT</code> for <a href="system-dict.html#compilefile" class="olink"><code class="function">COMPILE-FILE</code></a>.</p><p>When evaluation of a read form <a href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>, two <a href="http://www.lisp.org/HyperSpec/Body/syscla_restart.html" target="_top"><code class="classname">RESTART</code></a>-s are
 available:</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">SKIP</code></span></dt><dd>Skip this form and read the next one.
  </dd><dt><span class="term"><code class="literal">STOP</code></span></dt><dd>Stop loading the file.
</dd></dl></div><p><a id="load-paths"></a><b>Variable <a href="system-dict.html#load-paths"><code class="varname">CUSTOM:*LOAD-PATHS*</code></a>. </b>The variable <a href="system-dict.html#load-paths"><code class="varname">CUSTOM:*LOAD-PATHS*</code></a> contains a list of directories where the
 files are looked for - in addition to the specified or current
 directory - by <a href="system-dict.html#loadfile" class="olink"><code class="function">LOAD</code></a>, <a href="system-dict.html#require" class="olink"><code class="function">REQUIRE</code></a>, <a href="system-dict.html#compilefile" class="olink"><code class="function">COMPILE-FILE</code></a> and
 <a href="http://www.lisp.org/HyperSpec/Body/fun_load-logi_translations.html" target="_top"><code class="function">LOAD-LOGICAL-PATHNAME-TRANSLATIONS</code></a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="features"></a>24.1.5. Variable <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><code class="varname">*FEATURES*</code></a></h3></div></div></div><p>The variable <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><code class="varname">*FEATURES*</code></a> initially contains the following symbols
</p><div class="variablelist"><a id="features-table"></a><p class="title"><b>Default <a href="http://www.lisp.org/HyperSpec/Body/var_stfeaturesst.html" target="_top"><code class="varname">*FEATURES*</code></a></b></p><dl><dt><span class="term"><code class="constant">:CLISP</code></span></dt><dd>the name of this implementation
</dd><dt><span class="term"><code class="constant">:ANSI-CL</code></span></dt><dd><a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>
   <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#purports_to_conform" target="_top">purports to
    conform</a> to [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>]</dd><dt><span class="term"><code class="constant">:COMMON-LISP</code></span></dt><dd>required by [<a href="references.html#ansi-cl" title="[ANSI CL]"><abbr class="abbrev">ANSI CL</abbr></a>]</dd><dt><span class="term"><code class="constant">:INTERPRETER</code></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/fun_eval.html" target="_top"><code class="function">EVAL</code></a> is implemented</dd><dt><span class="term"><code class="constant">:COMPILER</code></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/fun_compile.html" target="_top"><code class="function">COMPILE</code></a> and <a href="system-dict.html#compilefile" class="olink"><code class="function">COMPILE-FILE</code></a> are implemented
</dd>
<!--#ifdef SOCKET_STREAMS-->
<dt><span class="term"><code class="constant">:SOCKETS</code></span></dt><dd>see <a href="socket.html" title="31.5. Socket Streams">Section 31.5, “Socket Streams”</a>
</dd>
<!--#endif-->
<!--#ifdef GENERIC_STREAMS-->
<dt><span class="term"><code class="constant">:GENERIC-STREAMS</code></span></dt><dd>see <a href="gstream.html" title="30.6. Generic streams">Section 30.6, “Generic streams”</a>
</dd>
<!--#endif-->
<!--#ifdef LOGICAL_PATHNAMES-->
<dt><span class="term"><code class="constant">:LOGICAL-PATHNAMES</code></span></dt><dd><a href="log-path.html" title="19.4. Logical Pathnames [CLHS-19.3]">Logical Pathnames</a>
   are implemented</dd>
<!--#endif-->
<!--#ifdef DYNAMIC_FFI-->
<dt><span class="term"><code class="constant">:FFI</code></span></dt><dd>if a foreign function interface
   (see <a href="dffi.html" title="31.3. The Foreign Function Call Facility">Section 31.3, “The Foreign Function Call Facility”</a>) is supported
   (<span class="plat-dep">Platform Dependent: <span class="plat-dep">Many <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a>, <a href="http://winehq.com/" target="_top"><span class="platform">Win32</span></a>
    platforms only</span></span>)</dd>
<!--#endif-->
<!--#ifdef GNU_GETTEXT-->
<dt><span class="term"><code class="constant">:GETTEXT</code></span></dt><dd>if internationalization (see <a href="i18n.html" title="30.4. Internationalization of CLISP">Section 30.4, “Internationalization of <span><strong class="command">CLISP</strong></span>”</a>)
   using the <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/gettext/gettext.html" target="_top">gettext</a> package is supported
   (<span class="plat-dep">Platform Dependent: <span class="plat-dep">most <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> platforms
    only</span></span>)</dd>
<!--#endif-->
<!--#ifdef UNICODE-->
<dt><span class="term"><code class="constant">:UNICODE</code></span></dt><dd>if <a href="http://www.unicode.org/" target="_top"><span class="platform">UNICODE</span></a> (ISO 10646) characters are supported
   (see <a href="encoding.html" title="30.5. Encodings">Section 30.5, “Encodings”</a>)</dd>
<!--#endif-->
<dt><span class="term"><code class="constant">:LOOP</code></span></dt><dd>“<span class="quote">extended</span>” <a href="http://www.lisp.org/HyperSpec/Body/mac_loop.html" target="_top"><code class="function">LOOP</code></a> form is implemented
</dd><dt><span class="term"><code class="constant">:CLOS</code></span></dt><dd><a href="http://www.lisp.org/HyperSpec/Body/chap-7.html" target="_top"><span><strong class="command">CLOS</strong></span></a> is implemented</dd><dt><span class="term"><code class="constant">:MOP</code></span></dt><dd><a href="mop-chap.html" title="29.1. Meta-Object Protocol">Meta-Object Protocol</a> is implemented</dd><dt><span class="term"><code class="constant">:WIN32</code></span></dt><dd>if <em class="replaceable"><code>hardware</code></em> = PC (clone) and <em class="replaceable"><code>operating system</code></em> = <a href="http://winehq.com/" target="_top"><span class="platform">Win32</span></a>
  (Windows 95/98/Me/NT/2000/XP)</dd><dt><span class="term"><code class="constant">:PC386</code></span></dt><dd>if <em class="replaceable"><code>hardware</code></em> = PC (clone).  It can be used as an
   indicator for the mainstream hardware characteristics (such as the
   existence of a graphics card with a non-graphics text mode,
   or the presence of a keyboard with arrows and
   <span class="keysym">Insert</span>/<span class="keysym">Delete</span> keys,
   or an ISA/VLB/PCI bus) or software characteristics (such as the
   <span><strong class="keycap">Control</strong></span>-<span><strong class="keycap">Alternate</strong></span>-<span class="keysym">Delete</span> keyboard
   combination).</dd><dt><span class="term"><code class="constant">:UNIX</code></span></dt><dd>if <em class="replaceable"><code>operating system</code></em> = <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> (in this case the <em class="replaceable"><code>hardware</code></em> is irrelevant!)
</dd><dt><span class="term"><code class="constant">:BEOS</code></span></dt><dd>if <em class="replaceable"><code>operating system</code></em> = <a href="http://www.bebits.com/app/2680" target="_top"><span class="platform">BeOS</span></a> (in that case <code class="constant">:UNIX</code> is also present)
</dd><dt><span class="term"><code class="constant">:CYGWIN</code></span></dt><dd>if <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> is using the <a href="http://cygwin.com/" target="_top"><span class="platform">Cygwin</span></a> <a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a>
   compatibility layer on top of <a href="http://winehq.com/" target="_top"><span class="platform">Win32</span></a>
   (in that case <code class="constant">:UNIX</code> is also present)
</dd><dt><span class="term"><code class="constant">:MACOS</code></span></dt><dd>if <em class="replaceable"><code>operating system</code></em> = <a href="http://www.apple.com/macosx/" target="_top"><span class="platform">Mac OS X</span></a> (in that case <code class="constant">:UNIX</code> is also present)
</dd></dl></div><p>Each <a href="modules.html" title="31.2. External Modules">module</a> should add the appropriate keyword, e.g.,
 <a href="syscalls.html" title="32.11. System Calls"><code class="constant">:SYSCALLS</code></a>,
 <a href="dir-key.html" title="32.3. Directory Access"><code class="constant">:DIR-KEY</code></a>,
 <a href="regexp-mod.html" title="32.5. POSIX Regular Expressions"><code class="constant">:REGEXP</code></a>,
 <a href="pcre.html" title="32.7. Perl Compatible Regular Expressions"><code class="constant">:PCRE</code></a>, etc.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="featurep"></a>24.1.6. Function <code class="function">EXT:FEATUREP</code>
  <a href="http://clrfi.alu.org/clrfi/clrfi-1-featurep" target="_top">[CLRFI-1]</a></h3></div></div></div><p><code class="code">(EXT:FEATUREP <em class="replaceable"><code>form</code></em>)</code> provides run-time access to
 the read-time conditionals <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-17" target="_top"><span class="data"><code class="literal">#+</code></span></a> and <a href="http://www.lisp.org/HyperSpec/Body/sec_2-4-8-18" target="_top"><span class="data"><code class="literal">#-</code></span></a>.
 <em class="replaceable"><code>form</code></em> is a <a href="http://www.lisp.org/HyperSpec/Body/sec_24-1-2-1.html" target="_top">feature exression</a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="compiled-file-p"></a>24.1.7. Function
  <code class="function">EXT:COMPILED-FILE-P</code>
  <a href="http://clrfi.alu.org/clrfi/clrfi-2-compiled-file-p" target="_top">[CLRFI-2]</a></h3></div></div></div><p><code class="code">(EXT:COMPILED-FILE-P <em class="replaceable"><code>filename</code></em>)</code> returns non-<a href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>
 when the file <em class="replaceable"><code>filename</code></em> exists, is readable, and appears to be a
 <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a>-compiled <code class="filename">#P".fas"</code> file compatible with the currently used
 <a href="bytecode.html" class="olink">bytecode</a> format.</p><p>System definition facilities (such as <a href="http://www.cliki.net/asdf" target="_top"><code class="function">asdf</code></a> or <a href="http://www.cliki.net/defsystem" target="_top"><code class="function">defsystem</code></a>) can
 use it to determine whether the file needs to be recompiled.</p></div></div><div class="bookinfo"><hr width="100%" /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version 2.41</td><td align="right">Last modified: 2006-10-12</td></th></table></div><div class="custom-footer"><hr width="100%" /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://sourceforge.net/donate/index.php?group_id=1355"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="[Support This Project]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=system-dict" /></a></td></tr></table></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="system.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="system.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="environment.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 24. System Construction
   [CLHS-24] </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 25. Environment
   [CLHS-25]</td></tr></table></div></body></html>
