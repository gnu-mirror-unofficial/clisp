<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>30.5. Encodings</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@sf.net" /><meta name="generator" content="DocBook XSL Stylesheets V1.68.1" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP" /><link rel="up" href="ext-p-indep.html" title="Chapter 30. Platform Independent Extensions" /><link rel="prev" href="i18n.html" title="30.4. Internationalization of CLISP" /><link rel="next" href="gstream.html" title="30.6. Generic streams" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">30.5. Encodings</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="i18n.html">Prev</a> </td><th width="60%" align="center">Chapter 30. Platform Independent Extensions</th><td width="20%" align="right"> <a accesskey="n" href="gstream.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="encoding"></a>30.5. Encodings</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="encoding.html#encodings-intro">30.5.1. Introduction</a></span></dt><dt><span class="section"><a href="encoding.html#charset">30.5.2. Character Sets</a></span></dt><dt><span class="section"><a href="encoding.html#newline">30.5.3. Line Terminators</a></span></dt><dt><span class="section"><a href="encoding.html#make-encoding">30.5.4. Function <code class="function">EXT:MAKE-ENCODING</code></a></span></dt><dt><span class="section"><a href="encoding.html#enc-charset">30.5.5. Function <code class="function">EXT:ENCODING-CHARSET</code></a></span></dt><dt><span class="section"><a href="encoding.html#enc-dflt">30.5.6. Default encodings</a></span></dt><dt><span class="section"><a href="encoding.html#string-byte">30.5.7. Converting between strings and byte vectors</a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="encodings-intro"></a>30.5.1. Introduction</h3></div></div></div><p>An “<span class="quote">encoding</span>” describes the correspondence
 between <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><code class="classname">CHARACTER</code></a>s and raw bytes during input/output via
 <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>s with <a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><code class="function">STREAM-ELEMENT-TYPE</code></a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_character.html" target="_top"><code class="classname">CHARACTER</code></a>.</p><p>An <a href="encoding.html" title="30.5. Encodings"><code class="classname">EXT:ENCODING</code></a> is an object composed of the following facets:
</p><div class="variablelist"><dl><dt><a href="encoding.html#charset" title="30.5.2. Character Sets">character set</a></dt><dd>This denotes both the set of characters that
    can be represented and passed through the I/O channel, and the way
    these characters translate into raw bytes.
    In this context, for example, <a href="encoding.html#charset-UTF-8"><code class="constant">CHARSET:UTF-8</code></a> and
    <a href="encoding.html#charset-UCS-4"><code class="constant">CHARSET:UCS-4</code></a>
    are considered different, although they can represent the same set
    of characters.</dd><dt><a href="encoding.html#newline" title="30.5.3. Line Terminators">line terminator</a> mode</dt><dd>This denotes the way newline characters are
    represented.</dd></dl></div><p><a href="encoding.html" title="30.5. Encodings"><code class="classname">EXT:ENCODING</code></a>s are also types.  As such, they represent the set of
 characters encodable in the character set.  In this context, the way
 characters are translated into raw bytes is ignored, and the line
 terminator mode is ignored as well.  <a href="http://www.lisp.org/HyperSpec/Body/fun_typep.html" target="_top"><code class="function">TYPEP</code></a> and <a href="http://www.lisp.org/HyperSpec/Body/fun_subtypep.html" target="_top"><code class="function">SUBTYPEP</code></a> can be used
 on encodings.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="charset"></a>30.5.2. Character Sets</h3></div></div></div><div class="variablelist">
<!--#ifndef UNICODE-->
<dl><dt><span class="plat-dep">Platform Dependent: <span class="plat-dep">Only in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> built <span class="strong"><strong>without</strong></span> compile-time flag <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a></span></span></dt><dd>Only one character set is understood: the platform's
 native (8-bit) character set.  See <a href="characters.html" title="Chapter 13. Characters&#10;   [CLHS-13]">Chapter 13, <i>Characters
   [CLHS-13]</i></a>.
</dd>
<!--#else-->
<dt><a id="charset-symbols"></a><span class="plat-dep">Platform Dependent: <span class="plat-dep">Only in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> built <span class="strong"><strong>with</strong></span> compile-time flag <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a></span></span></dt><dd><p>The following character sets are supported, as values
 of the corresponding (constant) symbol in the <a href="encoding.html" title="30.5. Encodings"><strong class="package">“<span class="quote">CHARSET</span>”</strong></a> package:
</p><div class="orderedlist"><a id="charset-symbol-list"></a><p class="title"><b>Symbols in package <a href="encoding.html" title="30.5. Encodings"><strong class="package">“<span class="quote">CHARSET</span>”</strong></a></b></p><ol type="1"><li><a id="charset-UCS-2"></a><code class="constant">UCS-2</code>
   ≡ <code class="constant">UNICODE-16</code>
   ≡ <code class="constant">UNICODE-16-BIG-ENDIAN</code>,
   the 16-bit basic multilingual plane of the <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> character set.
   Every character is represented as two bytes.</li><li><a id="charset-UNICODE-16-LITTLE-ENDIAN"></a><code class="constant">UNICODE-16-LITTLE-ENDIAN</code>
    </li><li><a id="charset-UCS-4"></a><code class="constant">UCS-4</code>
   ≡ <code class="constant">UNICODE-32</code>
   ≡ <code class="constant">UNICODE-32-BIG-ENDIAN</code>,
   the 21-bit <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> character set. Every character is represented as
   four bytes.</li><li><a id="charset-UNICODE-32-LITTLE-ENDIAN"></a><code class="constant">UNICODE-32-LITTLE-ENDIAN</code>
 </li><li><a id="charset-UTF-8"></a><code class="constant">UTF-8</code>,
   the 21-bit <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> character set.
   Every character is represented as one to four bytes.
   <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a> characters represent themselves and need one byte per character.
   Most Latin/Greek/Cyrillic/Hebrew characters need two bytes per
   character. Most other characters need three bytes per character,
   and the rarely used remaining characters need four bytes per
   character. This is therefore, in general, the most space-efficient
   encoding of all of Unicode.</li>
<!--#ifdef GNU_LIBICONV-->
<li><a id="charset-UTF-16"></a><code class="constant">UTF-16</code>,
   the 21-bit <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> character set. Every character in the 16-bit
   basic multilingual plane is represented as two bytes, and the
   rarely used remaining characters need four bytes per character.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-UTF-7"></a><code class="constant">UTF-7</code>,
   the 21-bit <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> character set. This is a stateful 7-bit encoding.
   Not all <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a> characters represent themselves.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li>
<!--#endif /* GNU_LIBICONV */-->
<li><a id="charset-JAVA"></a><code class="constant">JAVA</code>,
   the 21-bit <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> character set.
   <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a> characters represent themselves and need one byte per character.
   All other characters of the basic multilingual plane are represented
   by <code class="literal">\u<em class="replaceable"><code>nnnn</code></em></code> sequences
   (<em class="replaceable"><code>nnnn</code></em> a hexadecimal number)
   and need 6 bytes per character. The remaining characters are represented
   by <code class="literal">\u<em class="replaceable"><code>xxxx</code></em>\u<em class="replaceable"><code>yyyy</code></em></code>
   and need 12 bytes per character. While this encoding is very comfortable
   for editing Unicode files using only <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a>-aware tools and editors, it
   cannot faithfully represent all <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> text. Only text which
   does not contain <code class="literal">\u</code> (backslash followed by
   lowercase Latin u) can be faithfully represented by this encoding.
 </li><li><a id="charset-ASCII"></a><code class="constant">ASCII</code>,
   the well-known US-centric 7-bit character set (American Standard
   Code for Information Interchange - <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a>).</li><li><a id="charset-ISO-8859-1"></a><code class="constant">ISO-8859-1</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Afrikaans, Albanian, Basque, Breton, Catalan,
   Cornish, Danish, Dutch, English, Faeroese, Finnish, French,
   Frisian, Galician, German, Greenlandic, Icelandic, Irish, Italian,
   Latin, Luxemburgish, Norwegian, Portuguese, Raeto-Romanic,
   Scottish, Spanish, and Swedish languages.</li><li><a id="charset-ISO-8859-2"></a><code class="constant">ISO-8859-2</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Croatian, Czech, German, Hungarian, Polish,
   Slovak, Slovenian, and Sorbian languages. </li><li><a id="charset-ISO-8859-3"></a><code class="constant">ISO-8859-3</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Esperanto and Maltese languages.</li><li><a id="charset-ISO-8859-4"></a><code class="constant">ISO-8859-4</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Estonian, Latvian, Lithuanian and Sami (Lappish)
   languages.</li><li><a id="charset-ISO-8859-5"></a><code class="constant">ISO-8859-5</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Bulgarian, Byelorussian, Macedonian, Russian,
   Serbian, and Ukrainian languages.</li><li><a id="charset-ISO-8859-6"></a><code class="constant">ISO-8859-6</code>,
   suitable for the Arabic language.</li><li><a id="charset-ISO-8859-7"></a><code class="constant">ISO-8859-7</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Greek language.</li><li><a id="charset-ISO-8859-8"></a><code class="constant">ISO-8859-8</code>,
      an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Hebrew language (without punctuation).
 </li><li><a id="charset-ISO-8859-9"></a><code class="constant">ISO-8859-9</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Turkish language.</li><li><a id="charset-ISO-8859-10"></a><code class="constant">ISO-8859-10</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Estonian, Icelandic, Inuit (Greenlandic), Latvian,
   Lithuanian, and Sami (Lappish) languages.</li><li><a id="charset-ISO-8859-13"></a><code class="constant">ISO-8859-13</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Estonian, Latvian, Lithuanian, Polish and Sami
   (Lappish) languages.</li><li><a id="charset-ISO-8859-14"></a><code class="constant">ISO-8859-14</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Irish Gaelic, Manx Gaelic, Scottish Gaelic, and
   Welsh languages.</li><li><a id="charset-ISO-8859-15"></a><code class="constant">ISO-8859-15</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the ISO-8859-1 languages, with improvements for
   French, Finnish and the Euro.</li><li><a id="charset-ISO-8859-16"></a><code class="constant">ISO-8859-16</code>
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Rumanian language.</li><li><a id="charset-KOI8-R"></a><code class="constant">KOI8-R</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Russian language (very popular, especially on the
   internet).</li><li><a id="charset-KOI8-U"></a><code class="constant">KOI8-U</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Ukrainian language (very popular, especially on the
   internet).</li>
<!--#ifdef GNU_LIBICONV-->
<li><a id="charset-KOI8-RU"></a><code class="constant">KOI8-RU</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Russian language. This character set is only available on
                           platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li>
<!--#endif /* GNU_LIBICONV */-->
<li><code class="constant">JIS_X0201</code>,
   a character set for the Japanese language.</li><li><a id="charset-MAC-ARABIC"></a><code class="constant">MAC-ARABIC</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-CENTRAL-EUROPE"></a><code class="constant">MAC-CENTRAL-EUROPE</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-CROATIAN"></a><code class="constant">MAC-CROATIAN</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-CYRILLIC"></a><code class="constant">MAC-CYRILLIC</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-DINGBAT"></a><code class="constant">MAC-DINGBAT</code>,
   a platform specific character set.
 </li><li><a id="charset-MAC-GREEK"></a><code class="constant">MAC-GREEK</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-HEBREW"></a><code class="constant">MAC-HEBREW</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-ICELAND"></a><code class="constant">MAC-ICELAND</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-ROMAN"></a><code class="constant">MAC-ROMAN</code>
   ≡ <code class="constant">MACINTOSH</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-ROMANIA"></a><code class="constant">MAC-ROMANIA</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-SYMBOL"></a><code class="constant">MAC-SYMBOL</code>,
   a platform specific character set.</li><li><a id="charset-MAC-THAI"></a><code class="constant">MAC-THAI</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-TURKISH"></a><code class="constant">MAC-TURKISH</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-MAC-UKRAINE"></a><code class="constant">MAC-UKRAINE</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-CP437"></a><code class="constant">CP437</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-CP437-IBM"></a><code class="constant">CP437-IBM</code>,
   an IBM variant of <code class="constant">CP437</code>.
 </li><li><a id="charset-CP737"></a><code class="constant">CP737</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Greek language.
 </li><li><a id="charset-CP775"></a><code class="constant">CP775</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for some Baltic languages.
 </li><li><a id="charset-CP850"></a><code class="constant">CP850</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-CP852"></a><code class="constant">CP852</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-CP852-IBM"></a><code class="constant">CP852-IBM</code>,
   an IBM variant of <code class="constant">CP852</code>.</li><li><a id="charset-CP855"></a><code class="constant">CP855</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Russian language.
 </li><li><a id="charset-CP857"></a><code class="constant">CP857</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Turkish language.
 </li><li><a id="charset-CP860"></a><code class="constant">CP860</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Portuguese language.
 </li><li><a id="charset-CP860-IBM"></a><code class="constant">CP860-IBM</code>,
   an IBM variant of <code class="constant">CP860</code>.
 </li><li><a id="charset-CP861"></a><code class="constant">CP861</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Icelandic language.
 </li><li><a id="charset-CP861-IBM"></a><code class="constant">CP861-IBM</code>,
   an IBM variant of <code class="constant">CP861</code>.
 </li><li><a id="charset-CP862"></a><code class="constant">CP862</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Hebrew language.
 </li><li><a id="charset-CP862-IBM"></a><code class="constant">CP862-IBM</code>,
   an IBM variant of <code class="constant">CP862</code>.
 </li><li><a id="charset-CP863"></a><code class="constant">CP863</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-CP863-IBM"></a><code class="constant">CP863-IBM</code>,
   an IBM variant of <code class="constant">CP863</code>.
 </li><li><a id="charset-CP864"></a><code class="constant">CP864</code>, a DOS oldie,
   meant to be suitable for the Arabic language.
 </li><li><a id="charset-CP864-IBM"></a><code class="constant">CP864-IBM</code>,
   an IBM variant of <code class="constant">CP864</code>.
 </li><li><a id="charset-CP865"></a><code class="constant">CP865</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for some Nordic languages.
 </li><li><a id="charset-CP865-IBM"></a><code class="constant">CP865-IBM</code>,
   an IBM variant of <code class="constant">CP865</code>.
 </li><li><a id="charset-CP866"></a><code class="constant">CP866</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Russian language.
 </li><li><a id="charset-CP869"></a><code class="constant">CP869</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Greek language.
 </li><li><a id="charset-CP869-IBM"></a><code class="constant">CP869-IBM</code>,
   an IBM variant of <code class="constant">CP869</code>.
 </li><li><a id="charset-CP874"></a><code class="constant">CP874</code>, a DOS oldie,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Thai language.
 </li><li><a id="charset-CP874-IBM"></a><code class="constant">CP874-IBM</code>,
   an IBM variant of <code class="constant">CP874</code>.
 </li><li><a id="charset-WINDOWS-1250"></a><code class="constant">WINDOWS-1250</code>
   ≡ <code class="constant">CP1250</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, heavily incompatible with ISO-8859-2.
 </li><li><a id="charset-WINDOWS-1251"></a><code class="constant">WINDOWS-1251</code>
   ≡ <code class="constant">CP1251</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, heavily incompatible with ISO-8859-5,
   meant to be suitable for the Russian language.
 </li><li><a id="charset-WINDOWS-1252"></a><code class="constant">WINDOWS-1252</code>
   ≡ <code class="constant">CP1252</code>,
   a platform specific extension of the ISO-8859-1 character set.
 </li><li><a id="charset-WINDOWS-1253"></a><code class="constant">WINDOWS-1253</code>
   ≡ <code class="constant">CP1253</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, gratuitously incompatible with ISO-8859-7,
   meant to be suitable for the Greek language.
 </li><li><a id="charset-WINDOWS-1254"></a><code class="constant">WINDOWS-1254</code>
   ≡ <code class="constant">CP1254</code>,
   a platform specific extension of the ISO-8859-9 character set.
 </li>
<!--#ifdef GNU_LIBICONV-->
<li><a id="charset-WINDOWS-1255"></a><code class="constant">WINDOWS-1255</code>
   ≡ <code class="constant">CP1255</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, gratuitously incompatible with ISO-8859-8,
   suitable for the Hebrew language.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li>
<!--#endif /* GNU_LIBICONV */-->
<li><a id="charset-WINDOWS-1256"></a><code class="constant">WINDOWS-1256</code>
   ≡ <code class="constant">CP1256</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Arabic language.
 </li><li><a id="charset-WINDOWS-1257"></a><code class="constant">WINDOWS-1257</code>
   ≡ <code class="constant">CP1257</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li>
<!--#ifdef GNU_LIBICONV-->
<li><a id="charset-WINDOWS-1258"></a><code class="constant">WINDOWS-1258</code>
   ≡ <code class="constant">CP1258</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, meant to be suitable for the Vietnamese language.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li>
<!--#endif /* GNU_LIBICONV */-->
<li><a id="charset-HP-ROMAN8"></a><code class="constant">HP-ROMAN8</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li><li><a id="charset-NEXTSTEP"></a><code class="constant">NEXTSTEP</code>,
   a platform specific extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>.</li>
<!--#ifdef GNU_LIBICONV-->
<li><a id="charset-EUC-JP"></a><code class="constant">EUC-JP</code>,
   a multibyte character set for the Japanese language.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-SHIFT-JIS"></a><code class="constant">SHIFT-JIS</code>,
   a multibyte character set for the Japanese language.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-CP932"></a><code class="constant">CP932</code>,
   a Microsoft variant of <code class="constant">SHIFT-JIS</code>.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-ISO-2022-JP"></a><code class="constant">ISO-2022-JP</code>,
   a stateful 7-bit multibyte character set for the Japanese language.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-ISO-2022-JP-2"></a><code class="constant">ISO-2022-JP-2</code>,
   a stateful 7-bit multibyte character set for the Japanese language.
   This character set is only available on platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> 2.3
   or newer or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-ISO-2022-JP-1"></a><code class="constant">ISO-2022-JP-1</code>,
   a stateful 7-bit multibyte character set for the Japanese language.
   This character set is only available on
                           platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-EUC-CN"></a><code class="constant">EUC-CN</code>,
   a multibyte character set for simplified Chinese.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-HZ"></a><code class="constant">HZ</code>,
   a stateful 7-bit multibyte character set for simplified Chinese.
   This character set is only available on
                           platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-GBK"></a><code class="constant">GBK</code>,
   a multibyte character set for Chinese,
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-CP936"></a><code class="constant">CP936</code>,
   a Microsoft variant of <code class="constant">GBK</code>.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-GB18030"></a><code class="constant">GB18030</code>,
   a multibyte character set for Chinese,
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-EUC-TW"></a><code class="constant">EUC-TW</code>,
   a multibyte character set for traditional Chinese.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-BIG5"></a><code class="constant">BIG5</code>,
   a multibyte character set for traditional Chinese.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-CP950"></a><code class="constant">CP950</code>,
   a Microsoft variant of <code class="constant">BIG5</code>.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-BIG5-HKSCS"></a><code class="constant">BIG5-HKSCS</code>,
   a multibyte character set for traditional Chinese.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-ISO-2022-CN"></a><code class="constant">ISO-2022-CN</code>,
   a stateful 7-bit multibyte character set for Chinese.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-ISO-2022-CN-EXT"></a><code class="constant">ISO-2022-CN-EXT</code>,
   a stateful 7-bit multibyte character set for Chinese.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-EUC-KR"></a><code class="constant">EUC-KR</code>,
   a multibyte character set for Korean.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-CP949"></a><code class="constant">CP949</code>,
   a Microsoft variant of <code class="constant">EUC-KR</code>.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-ISO-2022-KR"></a><code class="constant">ISO-2022-KR</code>,
   a stateful 7-bit multibyte character set for Korean.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-JOHAB"></a><code class="constant">JOHAB</code>,
   a multibyte character set for Korean used mostly on <a href="http://www.freedos.org/" target="_top"><span class="strong"><strong>DOS</strong></span></a>.
   This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-ARMSCII-8"></a><code class="constant">ARMSCII-8</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Armenian. This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-GEORGIAN-ACADEMY"></a><code class="constant">GEORGIAN-ACADEMY</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Georgian. This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-GEORGIAN-PS"></a><code class="constant">GEORGIAN-PS</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Georgian. This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-TIS-620"></a><code class="constant">TIS-620</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Thai. This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-MULELAO-1"></a><code class="constant">MULELAO-1</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Laotian. This character set is only available on
                           platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-CP1133"></a><code class="constant">CP1133</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Laotian. This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-VISCII"></a><code class="constant">VISCII</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Vietnamese. This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li><li><a id="charset-TCVN"></a><code class="constant">TCVN</code>,
   an extension of the <a href="encoding.html#charset-ASCII">ASCII character set</a>, suitable for the Vietnamese. This character set is only available on
                                 platforms with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>.</li>
<!--#endif /* GNU_LIBICONV */-->
</ol></div><p>


<!--#ifdef /* HAVE_ICONV */-->

</p><div class="variablelist"><dl><dt><a id="iconv"></a><span class="plat-dep">Platform Dependent: <span class="plat-dep">Only on <a href="http://www.gnu.org" target="_top">GNU</a> systems
  with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> 2.2 or better and other systems (<a href="http://www.UNIX-systems.org/online.html" target="_top"><span class="strong"><strong>UNIX</strong></span></a> and <a href="http://winehq.com/" target="_top"><span class="strong"><strong>Win32</strong></span></a>)
  on which the <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a> <a href="http://www.eskimo.com/~scs/C-faq/top.html" target="_top"><span><strong class="command">C</strong></span></a> library has been installed</span></span></dt><dd><p>The character sets provided by the library function
 <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/iconv.html"><code class="function">iconv</code></a> can also be used as encodings.  To create such an encoding,
 call <a href="encoding.html#make-encoding" title="30.5.4. Function EXT:MAKE-ENCODING"><code class="function">EXT:MAKE-ENCODING</code></a> with the character set name (a string) as the
 <code class="constant">:CHARSET</code> argument.</p><p>When an <a href="encoding.html" title="30.5. Encodings"><code class="classname">EXT:ENCODING</code></a> is available both as a <a href="encoding.html#charset-symbols">built-in</a> and
 through <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/iconv.html"><code class="function">iconv</code></a>, the <a href="encoding.html#charset-symbols">built-in</a> is used, because it is more
 efficient and available across all platforms.</p><p>These encodings are not assigned to global variables, since
 there is no portable way to get the list of all character sets
 supported by <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/iconv.html"><code class="function">iconv</code></a>.</p><p>On <a href="http://www.gnu.org" target="_top">GNU</a> systems (such as <a href="http://www.gnu.org" target="_top">GNU</a>/<a href="http://www.linux.org/" target="_top"><span class="strong"><strong>Linux</strong></span></a> and <a href="http://www.gnu.org" target="_top">GNU</a>/<a href="http://www.gnu.org/software/hurd/" target="_top"><span class="strong"><strong>Hurd</strong></span></a>)
 and on systems with <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a> you get this list by calling the
 <span class="emphasis"><em>program</em></span>: <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/utilities/iconv.html"><span><strong class="command">iconv -l</strong></span></a>.
 </p><p>The reason we use only <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libc/" target="_top">libc</a> 2.2 or <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a> is
 that the other <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/iconv.html"><code class="function">iconv</code></a> implementations are broken in various ways and
 we do not want to deal with random <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> crashes caused by those bugs.
 If your system supplies an <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/iconv.html"><code class="function">iconv</code></a> implementation which passes the
 <a href="http://www.gnu.org" target="_top">GNU</a> <a href="http://www.gnu.org/software/libiconv/" target="_top">libiconv</a>'s test suite, please report that to <code class="email">&lt;<a href="mailto:clisp-list/at/lists.sourceforge.net"><a href="http://lists.sourceforge.net/lists/listinfo/clisp-list" target="_top">clisp-list/at/lists.sourceforge.net</a></a>&gt;</code> and a
 future <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version will use <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/functions/iconv.html"><code class="function">iconv</code></a> on your system.</p></dd></dl></div><p>

<!--#endif /* HAVE_ICONV */-->

</p></dd>
<!--#endif /* UNICODE */-->
</dl></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="newline"></a>30.5.3. Line Terminators</h3></div></div></div><p>The line terminator mode can be one of the following three keywords:
</p><div class="variablelist"><dl><dt><code class="constant">:UNIX</code></dt><dd>Newline is represented by the <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a>
   <span class="keycode">LF</span> character (<span class="keycode">U000A</span>).
</dd><dt><code class="constant">:MAC</code></dt><dd>Newline is represented by the <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a>
   <span class="keycode">CR</span> character (<span class="keycode">U000D</span>).
</dd><dt><code class="constant">:DOS</code></dt><dd>Newline is represented by the <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a>
   <span class="keycode">CR</span> followed by the <a href="http://www.cplusplus.com/doc/papers/ascii.html" target="_top"><span class="strong"><strong>ASCII</strong></span></a> <span class="keycode">LF</span>.
</dd></dl></div><p>Windows programs typically use the <code class="constant">:DOS</code> line terminator,
 sometimes they also accept <code class="constant">:UNIX</code> line terminators or produce
 <code class="constant">:MAC</code> line terminators.</p><p>The <a href="http://www.w3.org/Protocols/" target="_top"><span><strong class="command">HTTP</strong></span></a> protocol also requires <code class="constant">:DOS</code> line terminators:
</p><pre class="programlisting">
(<a href="http://www.lisp.org/HyperSpec/Body/mac_with-open-stream.html" target="_top"><code class="function">WITH-OPEN-STREAM</code></a> (s (<a href="socket.html#so-connect"><code class="function">SOCKET:SOCKET-CONNECT</code></a> 80 <em class="replaceable"><code>host</code></em> <a href="stream-dict.html#extfmt"><code class="constant">:EXTERNAL-FORMAT</code></a> <code class="constant">:DOS</code>))
  (<a href="http://www.lisp.org/HyperSpec/Body/fun_format.html" target="_top"><code class="function">FORMAT</code></a> s "GET foo.jpeg HTTP/1.0~%")
  (<a href="socket.html#sost-shut"><code class="function">SOCKET:SOCKET-STREAM-SHUTDOWN</code></a> s <code class="constant">:OUTPUT</code>)
  (<a href="http://www.lisp.org/HyperSpec/Body/mac_loop.html" target="_top"><code class="function">LOOP</code></a> :with content-length :and marker = "Content-length: "
    :for line = (<a href="http://www.lisp.org/HyperSpec/Body/fun_read-line.html" target="_top"><code class="function">READ-LINE</code></a> s nil nil)
    :until (<a href="http://www.lisp.org/HyperSpec/Body/fun_zerop.html" target="_top"><code class="function">ZEROP</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><code class="function">LENGTH</code></a> line)) :do
    (<a href="http://www.lisp.org/HyperSpec/Body/mac_whencm_unless.html" target="_top"><code class="function">WHEN</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_stringeqc_ng-not-lessp.html" target="_top"><code class="function">STRING=</code></a> line "Content-length: " :end1 (<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><code class="function">LENGTH</code></a> marker))
      (<a href="http://www.lisp.org/HyperSpec/Body/spefor_setq.html" target="_top"><code class="function">SETQ</code></a> content-length (<a href="http://www.lisp.org/HyperSpec/Body/fun_parse-integer.html" target="_top"><code class="function">PARSE-INTEGER</code></a> line :start (<a href="http://www.lisp.org/HyperSpec/Body/fun_length.html" target="_top"><code class="function">LENGTH</code></a> marker)))
    :finally (<a href="http://www.lisp.org/HyperSpec/Body/mac_return.html" target="_top"><code class="function">RETURN</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><code class="function">LET</code></a> ((data (<a href="http://www.lisp.org/HyperSpec/Body/fun_make-array.html" target="_top"><code class="function">MAKE-ARRAY</code></a> content-length
                                             :element-type '<span class="type"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><code class="classname">UNSIGNED-BYTE</code></a> 8)</code></span>)))
                       (<a href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/fun_stream-element-type.html" target="_top"><code class="function">STREAM-ELEMENT-TYPE</code></a> s) '<span class="type"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><code class="classname">UNSIGNED-BYTE</code></a> 8)</code></span>)
                       (<a href="stream-dict.html#rd-by-seq"><code class="function">EXT:READ-BYTE-SEQUENCE</code></a> data s)
                       data)))))
</pre><p>The line terminator mode is relevant only for output (writing to a
 <a href="stream-dict.html#open" title="21.3.9. Function OPEN">file</a>/<a href="shell.html#pipe" title="31.8.2. Pipes">pipe</a>/<a href="socket.html" title="31.5. Socket Streams">socket</a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>).  During input, all three kinds of line terminators
 are recognized.  See also <a href="clhs-newline.html" title="13.8. Treatment of Newline during Input and Output&#10;   [CLHS-13.1.8]">Section 13.8, “Treatment of Newline during Input and Output
   [CLHS-13.1.8]”</a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="make-encoding"></a>30.5.4. Function <a href="encoding.html#make-encoding" title="30.5.4. Function EXT:MAKE-ENCODING"><code class="function">EXT:MAKE-ENCODING</code></a></h3></div></div></div><p>The function <code class="code">(<a href="encoding.html#make-encoding" title="30.5.4. Function EXT:MAKE-ENCODING"><code class="function">EXT:MAKE-ENCODING</code></a> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> :CHARSET
     :LINE-TERMINATOR :INPUT-ERROR-ACTION :OUTPUT-ERROR-ACTION)</code>
 returns an <a href="encoding.html" title="30.5. Encodings"><code class="classname">EXT:ENCODING</code></a>. The <code class="constant">:CHARSET</code> argument may be
 an encoding, a string, or <code class="constant">:DEFAULT</code>.
 The possible values for the <a href="encoding.html#newline" title="30.5.3. Line Terminators">line terminator</a> argument are the
 keywords <code class="constant">:UNIX</code>, <code class="constant">:MAC</code>, <code class="constant">:DOS</code>.</p><p>The <code class="constant">:INPUT-ERROR-ACTION</code> argument specifies
 what happens when an invalid byte sequence is encountered while
 converting bytes to characters.  Its value can be <code class="constant">:ERROR</code>, <code class="constant">:IGNORE</code>
 or a character to be used instead.  The <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a> character
 <span class="keysym">#\uFFFD</span> is typically used to indicate an error in the
 input sequence.</p><p>The <code class="constant">:OUTPUT-ERROR-ACTION</code> argument specifies
 what happens when an invalid character is encountered while converting
 characters to bytes.  Its value can be <code class="constant">:ERROR</code>, <code class="constant">:IGNORE</code>, a byte to
 be used instead, or a character to be used instead.  The <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a>
 character <span class="keysym">#\uFFFD</span> can be used here only if it is
 encodable in the character set.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="enc-charset"></a>30.5.5. Function <a href="encoding.html#enc-charset" title="30.5.5. Function EXT:ENCODING-CHARSET"><code class="function">EXT:ENCODING-CHARSET</code></a></h3></div><div><h4 class="subtitle"><span class="plat-dep">Platform Dependent: <span class="plat-dep">Only in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> built <span class="strong"><strong>with</strong></span> compile-time flag <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a></span></span></h4></div></div></div><p>The function <code class="code">(<a href="encoding.html#enc-charset" title="30.5.5. Function EXT:ENCODING-CHARSET"><code class="function">EXT:ENCODING-CHARSET</code></a> <em class="replaceable"><code>encoding</code></em>)</code> returns the
 charset of the <em class="replaceable"><code>encoding</code></em>, as a <a href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a> or a <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p><code class="code">(<a href="http://www.lisp.org/HyperSpec/Body/fun_string.html" target="_top"><code class="function">STRING</code></a> (<a href="encoding.html#enc-charset" title="30.5.5. Function EXT:ENCODING-CHARSET"><code class="function">EXT:ENCODING-CHARSET</code></a> <em class="replaceable"><code>encoding</code></em>))</code> is
  not necessarily a valid <a href="http://www.faqs.org/rfcs/rfc2045.html" target="_top">MIME</a> name.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="enc-dflt"></a>30.5.6. Default encodings</h3></div></div></div><p>Besides every <a href="stream-dict.html#open" title="21.3.9. Function OPEN">file</a>/<a href="shell.html#pipe" title="31.8.2. Pipes">pipe</a>/<a href="socket.html" title="31.5. Socket Streams">socket</a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a> containing an encoding,
 the following <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><code class="classname">SYMBOL-MACRO</code></a> places contain global <a href="encoding.html" title="30.5. Encodings"><code class="classname">EXT:ENCODING</code></a>s:</p><p><a id="def-file-enc"></a><b><a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><code class="classname">SYMBOL-MACRO</code></a> <a href="encoding.html#def-file-enc" class="olink"><code class="varname">CUSTOM:*DEFAULT-FILE-ENCODING*</code></a>. </b>The <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><code class="classname">SYMBOL-MACRO</code></a> <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#place" target="_top">place</a> <a href="encoding.html#def-file-enc" class="olink"><code class="varname">CUSTOM:*DEFAULT-FILE-ENCODING*</code></a> is the encoding used for
 new <a href="stream-dict.html#open" title="21.3.9. Function OPEN">file</a>/<a href="shell.html#pipe" title="31.8.2. Pipes">pipe</a>/<a href="socket.html" title="31.5. Socket Streams">socket</a> <a href="http://www.lisp.org/HyperSpec/Body/syscla_stream.html" target="_top"><code class="classname">STREAM</code></a>, when no <a href="stream-dict.html#extfmt"><code class="constant">:EXTERNAL-FORMAT</code></a> argument was specified.
</p>
<!--#ifdef UNICODE-->
<div class="variablelist"><dl><dt><span class="plat-dep">Platform Dependent: <span class="plat-dep">Only in <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> built <span class="strong"><strong>with</strong></span> compile-time flag <a href="http://www.unicode.org/" target="_top"><span class="strong"><strong>UNICODE</strong></span></a></span></span></dt><dd><p>The following are <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><code class="classname">SYMBOL-MACRO</code></a> places.</p><div class="variablelist"><dl><dt><strong class="first"><em class="firstterm"><a href="encoding.html#path-enc" class="olink"><code class="varname">CUSTOM:*PATHNAME-ENCODING*</code></a>
   <a id="path-enc" class="indexterm"></a></em></strong></dt><dd>is the encoding used for pathnames in the file
 system. Normally, this is a 1:1 encoding.  Its <a href="encoding.html#newline" title="30.5.3. Line Terminators">line terminator</a> mode is ignored.
 </dd><dt><strong class="first"><em class="firstterm"><a href="encoding.html#term-enc" class="olink"><code class="varname">CUSTOM:*TERMINAL-ENCODING*</code></a>
   <a id="term-enc" class="indexterm"></a></em></strong></dt><dd>is the encoding used for communication with the
  terminal, in particular by <a href="http://www.lisp.org/HyperSpec/Body/var_stterminal-iost.html" target="_top"><code class="varname">*TERMINAL-IO*</code></a>.
 </dd><dt><strong class="first"><em class="firstterm"><a href="encoding.html#misc-enc" class="olink"><code class="varname">CUSTOM:*MISC-ENCODING*</code></a>
   <a id="misc-enc" class="indexterm"></a></em></strong></dt><dd>is the encoding used for access to <a class="unix" href="http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap08.html">environment variable</a>s,
 command line options, and the like.  Its <a href="encoding.html#newline" title="30.5.3. Line Terminators">line terminator</a> mode is ignored.
 </dd>
<!--#if defined(HAVE_AFFI) || defined(DYNAMIC_FFI)-->
<dt><strong class="first"><em class="firstterm"><a href="encoding.html#foreign-enc" class="olink"><code class="varname">CUSTOM:*FOREIGN-ENCODING*</code></a>
   <a id="foreign-enc" class="indexterm"></a></em></strong></dt><dd>is the encoding for strings passed through the
 <a href="dffi.html" title="31.3. The Foreign Function Call Facility"><strong class="package">“<span class="quote">FFI</span>”</strong></a> (some platforms only). If it is a 1:1 encoding,
 i.e. an encoding in which every character is represented by one byte,
 it is also used for passing characters through the <a href="dffi.html" title="31.3. The Foreign Function Call Facility"><strong class="package">“<span class="quote">FFI</span>”</strong></a>.
</dd>
<!--#endif-->
</dl></div></dd></dl></div>
<!--#endif-->
<p>The default encoding objects are initialized according to <code class="option"><a href="clisp.html#opt-enc" class="olink">-Edomain encoding</a></code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Reminder: you have to use <a href="macros3.html#letf"><code class="function">EXT:LETF</code></a>/<a href="macros3.html#letf"><code class="function">EXT:LETF*</code></a> for
  <a href="http://www.lisp.org/HyperSpec/Body/mac_define-symbol-macro.html" target="_top"><code class="classname">SYMBOL-MACRO</code></a>s; <a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><code class="function">LET</code></a>/<a href="http://www.lisp.org/HyperSpec/Body/speope_letcm_letst.html" target="_top"><code class="function">LET*</code></a> will <span class="strong"><strong>not</strong></span> work!</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="string-byte"></a>30.5.7. Converting between strings and byte vectors</h3></div></div></div><p>Encodings can also be used to convert directly between strings and
their corresponding byte vector representation according to that encoding.
</p><div class="variablelist"><dl><dt><code class="code">(<code class="function">EXT:CONVERT-STRING-FROM-BYTES</code>
      <em class="replaceable"><code>byte-vector</code></em> <em class="replaceable"><code>encoding</code></em>
      <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:START</code> <code class="constant">:END</code>)</code></dt><dd>converts the subsequence of
  <em class="replaceable"><code>byte-vector</code></em> from <em class="replaceable"><code>start</code></em> to <em class="replaceable"><code>end</code></em> to a
  <a href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a>, according to the given <em class="replaceable"><code>encoding</code></em>, and returns the
  resulting string.</dd><dt><code class="code">(<code class="function">EXT:CONVERT-STRING-TO-BYTES</code>
      <em class="replaceable"><code>string</code></em> <em class="replaceable"><code>encoding</code></em> <a href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:START</code> <code class="constant">:END</code>)</code></dt><dd>converts the subsequence of <em class="replaceable"><code>string</code></em> from
  <em class="replaceable"><code>start</code></em> to <em class="replaceable"><code>end</code></em> to a <span class="type"><code class="literal">(<a href="http://www.lisp.org/HyperSpec/Body/syscla_vector.html" target="_top"><code class="classname">VECTOR</code></a> (<a href="http://www.lisp.org/HyperSpec/Body/typ_unsigned-byte.html" target="_top"><code class="classname">UNSIGNED-BYTE</code></a> 8))</code></span>,
  according to the given <em class="replaceable"><code>encoding</code></em>, and returns the resulting byte
  vector.</dd></dl></div></div></div><div class="bookinfo"><hr width="100%" /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a href="http://clisp.cons.org" target="_top"><span><strong class="command">CLISP</strong></span></a> version 2.35</td><td align="right">Last modified: 2005-08-29</td></th></table></div><div class="custom-footer"><hr width="100%" /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://www.gnu.org"><img src="http://www.gnu.org/graphics/gnubanner.jpg" width="468" height="60" alt="[Come and see what GNU creates for YOU]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=encoding" /></a></td></tr></table></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="i18n.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ext-p-indep.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="gstream.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">30.4. Internationalization of <span><strong class="command">CLISP</strong></span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 30.6. Generic streams</td></tr></table></div></body></html>
